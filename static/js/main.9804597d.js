/*! For license information please see main.9804597d.js.LICENSE.txt */
!function(){var e={472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},448:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(i.apply(this,n));else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(this&&this[o]||o)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=d(n,y);try{c(t,y,g)}catch(w){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||b(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===d},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===w||e.$$typeof===k||e.$$typeof===y)},t.typeOf=b},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=wi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Se)&&(Ne(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function qe(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,_t,xt,St,Et,Tt=!1,It=[],Ct=null,Nt=null,At=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return qt(t,e)}if(0<It.length){qt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&qt(Ct,e),null!==Nt&&qt(Nt,e),null!==At&&qt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var zt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,a=zt.transition;zt.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,zt.transition=a}}function Gt(e,t,n,r){var i=wt,a=zt.transition;zt.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,zt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&bt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),dn=an(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(gn),kn=an(j({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=j({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function $n(e){if(K(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];Hn(t,Kn,e,be(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,wr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Ir,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(qe.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Ir:case Cr:u=yn;break;case Nr:u=An;break;case"scroll":u=dn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Oe(p,d))&&l.push(Hr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ki(u),h=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,w)).length&&(w=new kn(w,e,null,n,i),o.push({event:w,listeners:y}),g?w.data=g:null!==(g=qn(n))&&(w.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[hi]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Ni=Si(!1),Ai=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ni),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Ti(Ci,e)):Ei(Ni),Ti(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function qi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var zi=[],Wi=0,Hi=null,Gi=0,Ki=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){zi[Wi++]=Gi,zi[Wi++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=Yi,Ki[Qi++]=Xi,Ki[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Wi],zi[Wi]=null,Gi=zi[--Wi],zi[Wi]=null;for(;e===$i;)$i=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,wa=null,ka=null;function ba(){ka=wa=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=wa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===wa){if(null===ga)throw Error(a(308));wa=e,ga.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qa.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var w=h(i,v,g.value,c);if(null===w){null===v&&(v=y);break}e&&v&&null===w.alternate&&t(i,v),s=o(w,s,m),null===f?l=w:f.sibling=w,f=w,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=d(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,wo=!1,ko=0,bo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),wo){o=0;do{if(wo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(wo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function qo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return qo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{wt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){wo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),ds(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ws=k.ReactCurrentOwner,ks=!1;function bs(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ru,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ru,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ru,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ru,Ou),Ou|=r;return bs(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Oi(n)?Ai:Ci.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)zs(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Oi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Aa=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Aa||Ba(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Oi(n)?Ai:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Wa(t,o,r,u),Aa=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ni.current||Aa?("function"===typeof h&&(Va(t,n,h,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ws(e,t,a);r=t.stateNode,ws.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return ha(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Os,Rs,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Yi,Ki[Qi++]=Xi,Ki[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Os(e,t),t.stateNode=e;e:{switch(u=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&w(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lu,i=fu;lu=null,du(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,du(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,du(e,t,n),Ys=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));hu(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),we(u,s);var l=we(u,o);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):w(i,f,d,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,vu(t,e),Ys=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(d=Js=f;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Zs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){bu(d);continue}}null!==p?(p.return=h,Js=p):bu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,wu(a,t,n),a=a.sibling;Js=i,$s=s,Ys=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function bu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Su=Math.ceil,Eu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Cu=0,Nu=null,Au=null,Pu=0,Ou=0,Ru=Si(0),Du=0,Lu=null,Mu=0,ju=0,Fu=0,Uu=null,Vu=null,qu=0,Bu=1/0,zu=null,Wu=!1,Hu=null,Gu=null,Ku=!1,Qu=null,$u=0,Yu=0,Xu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Cu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(ju|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Bu=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Nu?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(uc.bind(null,e)):qi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Nu===e&&Pu===t||(zu=null,Bu=Xe()+500,dc(e,t));;)try{gc();break}catch(u){hc(e,u)}ba(),Eu.current=o,Cu=i,null!==Au?t=0:(Nu=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,dc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,dc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Vu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=qu+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Vu,zu),t);break}bc(e,Vu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Vu,zu),r);break}bc(e,Vu,zu);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));_c();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,dc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Vu,zu),rc(e,Xe()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Bu=Xe()+500,Ui&&Bi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Cu)&&_c();var t=Cu;Cu|=1;var n=Iu.transition,r=wt;try{if(Iu.transition=null,wt=1,e)return e()}finally{wt=r,Iu.transition=n,0===(6&(Cu=t))&&Bi()}}function fc(){Ou=Ru.current,Ei(Ru)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Au=e=Rc(e.current,null),Pu=Ou=t,Du=0,Lu=null,Fu=ju=Mu=0,Vu=Uu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function hc(e,t){for(;;){var n=Au;try{if(ba(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,wo=!1,ko=0,Tu.current=null,null===n||null===n.return){Du=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gu||!Gu.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||sc(Nu,Pu)}function mc(e,t){var n=Cu;Cu|=2;var r=pc();for(Nu===e&&Pu===t||(zu=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(ba(),Cu=n,Eu.current=r,null!==Au)throw Error(a(261));return Nu=null,Pu=0,Du}function yc(){for(;null!==Au;)wc(Au)}function gc(){for(;null!==Au&&!$e();)wc(Au)}function wc(e){var t=xu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?kc(e):Au=t,Tu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ou)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Du=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Du&&(Du=5)}function bc(e,t,n){var r=wt,i=Iu.transition;try{Iu.transition=null,wt=1,function(e,t,n,r){do{_c()}while(null!==Qu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=wt;wt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(b){Sc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Ye(),Cu=u,wt=s,Iu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Qu=e,$u=i),0===(o=e.pendingLanes)&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&$u)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Bi()}(e,t,n,r)}finally{Iu.transition=i,wt=r}return null}function _c(){if(null!==Qu){var e=kt($u),t=Iu.transition,n=wt;try{if(Iu.transition=null,wt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var d=f.child;if(null!==d)d.return=f,Js=d;else for(;null!==Js;){var h=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var w=e.current;for(Js=w;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=w;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Sc(u,u.return,_)}if(u===s){Js=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Js=b;break e}Js=u.return}}if(Cu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{wt=n,Iu.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Xe()-qu?dc(e,0):Fu|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:As(t),ha();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=qa,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ws(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),za(t,r,i),Ha(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cu)&&(Bu=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return wt},Et=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[wi,ki,bi,Te,Ie,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return qc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=w.prototype=new g;k.constructor=w,v(k,y.prototype),k.isPureReactComponent=!0;var b=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&D(b,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&D(b,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof w)x=function(){w(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,x=function(){O.postMessage(null)}}else x=function(){y(A,0)};function R(e){E=e,S||(S=!0,x())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,D(b,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=o(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".7efd31bd.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={};n.l=function(t,r,i,a){if(e[t])e[t].push(r);else{var o,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==t){o=l;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.src=t),e[t]=[r];var f=function(n,r){o.onerror=o.onload=null,clearTimeout(d);var i=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),n)return n(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/free-music-player/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return sc},SDK_VERSION:function(){return Sl},_DEFAULT_ENTRY_NAME:function(){return fl},_addComponent:function(){return vl},_addOrOverwriteComponent:function(){return ml},_apps:function(){return hl},_clearComponents:function(){return kl},_components:function(){return pl},_getProvider:function(){return gl},_registerComponent:function(){return yl},_removeServiceInstance:function(){return wl},deleteApp:function(){return Cl},getApp:function(){return Tl},getApps:function(){return Il},initializeApp:function(){return El},onLog:function(){return Pl},registerVersion:function(){return Al},setLogLevel:function(){return Ol}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if(t&&("object"===k(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function x(e){var t=w();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function S(e,t,n){return S=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},E(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var I,C="popstate";function N(e){return{usr:e.state,key:e.key}}function A(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?O(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function O(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:P(e);return new URL(n,t)}function D(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,d=null;function h(){f=t.Pop,d&&d({action:f,location:p.location})}var p={get action(){return f},get location(){return e(s,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(C,h),d=e,function(){s.removeEventListener(C,h),d=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=R(P(e));return T({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,n){f=t.Push;var i=A(p.location,e,n);r&&r(i,e);var a=N(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(DL){s.location.assign(o)}c&&d&&d({action:f,location:p.location})},replace:function(e,n){f=t.Replace;var i=A(p.location,e,n);r&&r(i,e);var a=N(i),o=p.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:p.location})},go:function(e){return l.go(e)}};return p}function L(e,t,n){void 0===n&&(n="/");var r=z(("string"===typeof t?O(t):t).pathname||"/",n);if(null==r)return null;var i=M(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=V(i[o],B(r));return a}function M(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(W(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=$([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(W(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),M(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:U(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(I||(I={}));var j=/^:\w+$/,F=function(e){return"*"===e};function U(e,t){var n=e.split("/"),r=n.length;return n.some(F)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!F(e)})).reduce((function(e,t){return e+(j.test(t)?3:""===t?1:10)}),r)}function V(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=q({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:$([i,l.pathname]),pathnameBase:Y($([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=$([i,l.pathnameBase]))}return a}function q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);H("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(DL){return H(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+DL+")."),e}}(c[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function B(e){try{return decodeURI(e)}catch(DL){return H(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+DL+")."),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function H(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function G(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function K(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Q(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=O(e):(W(!(i=T({},e)).pathname||!i.pathname.includes("?"),G("?","pathname","search",i)),W(!i.pathname||!i.pathname.includes("#"),G("#","pathname","hash",i)),W(!i.search||!i.search.includes("#"),G("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?O(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:X(a),hash:J(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var $=function(e){return e.join("/").replace(/\/\/+/g,"/")},Y=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},X=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},J=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Z=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(E(Error));var ee=v((function e(t,n,r){h(this,e),this.status=t,this.statusText=n||"",this.data=r}));function te(e){return e instanceof ee}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ne=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(d(ne)));function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}var ie="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ae=r.useState,oe=r.useEffect,se=r.useLayoutEffect,ue=r.useDebugValue;function ce(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ie(n,r)}catch(DL){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var le=r.createContext(null);var fe=r.createContext(null);var de=r.createContext(null);var he=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[]});var ye=r.createContext(null);function ge(){return null!=r.useContext(ve)}function we(){return ge()||W(!1),r.useContext(ve).location}function ke(){ge()||W(!1);var e=r.useContext(pe),t=e.basename,n=e.navigator,i=r.useContext(me).matches,a=we().pathname,o=JSON.stringify(K(i).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);r.useEffect((function(){s.current=!0}));var u=r.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=Q(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:$([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return u}function be(){var e=r.useContext(me).matches,t=e[e.length-1];return t?t.params:{}}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=we().pathname,o=JSON.stringify(K(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return Q(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function xe(){var e=function(){var e,t=r.useContext(ye),n=Ne(Ee.UseRouteError),i=r.useContext(me),a=i.matches[i.matches.length-1];if(t)return t;return i||W(!1),!a.route.id&&W(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=te(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var Se,Ee,Te=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return v(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ye.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Ie(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(le);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Ce(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||W(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(xe,null):null,l=function(){return r.createElement(Ie,{match:o,routeContext:{outlet:e,matches:t.concat(i.slice(0,s+1))}},u?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===s)?r.createElement(Te,{location:n.location,component:c,error:u,children:l()}):l()}),null)}function Ne(e){var t=r.useContext(de);return t||W(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(Se||(Se={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ee||(Ee={}));var Ae;function Pe(e){W(!1)}function Oe(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,d=void 0!==f&&f;ge()&&W(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof s&&(s=O(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,w=void 0===g?"":g,k=v.hash,b=void 0===k?"":k,_=v.state,x=void 0===_?null:_,S=v.key,E=void 0===S?"default":S,T=r.useMemo((function(){var e=z(y,h);return null==e?null:{pathname:e,search:w,hash:b,state:x,key:E}}),[h,y,w,b,x,E]);return null==T?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:{location:T,navigationType:c}}))}function Re(e){var n=e.children,i=e.location,a=r.useContext(fe);return function(e,n){ge()||W(!1);var i,a=r.useContext(de),o=r.useContext(me).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,we());if(n){var f,d="string"===typeof n?O(n):n;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||W(!1),i=d}else i=l;var h=i.pathname||"/",p=L(e,{pathname:"/"===c?h:h.slice(c.length)||"/"}),v=Ce(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:$([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:$([c,e.pathnameBase])})})),o,a||void 0);return n&&v?r.createElement(ve.Provider,{value:{location:re({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},v):v}(a&&!n?a.router.routes:Le(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ae||(Ae={}));var De=new Promise((function(){}));r.Component;function Le(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Pe&&W(!1),e.props.index&&e.props.children&&W(!1);var a=[].concat(d(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Le(e.props.children,a)),n.push(o)}else n.push.apply(n,Le(e.props.children,t))})),n}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Fe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ue(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),D((function(e,t){var n=e.location;return A("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,t)));var s=o.current,u=l(r.useState({action:s.action,location:s.location}),2),c=u[0],f=u[1];return r.useLayoutEffect((function(){return s.listen(f)}),[s]),r.createElement(Oe,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:s})}var Ve=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=je(e,Fe),d=function(e,t){var n=(void 0===t?{}:t).relative;ge()||W(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:$([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:i}),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=ke(),l=we(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(l)===P(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return r.createElement("a",Me({},f,{href:d,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||h(e)},ref:t,target:u}))}));var qe,Be;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(qe||(qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Be||(Be={}));var ze=n(248),We=n(327),He=n(164);var Ge=function(e){e()},Ke=function(){return Ge},Qe=(0,r.createContext)(null);function $e(){return(0,r.useContext)(Qe)}var Ye=function(){throw new Error("uSES not initialized!")},Xe=Ye,Je=function(e,t){return e===t};function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=e===Qe?$e:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je;var i=t(),a=i.store,o=i.subscription,s=i.getServerState,u=Xe(o.addNestedSub,a.getState,s||a.getState,e,n);return(0,r.useDebugValue)(u),u}}var et=Ze();n(110),n(900);var tt={notify:function(){},get:function(){return[]}};function nt(e,t){var n,r=tt;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ke(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=tt)},getListeners:function(){return r}};return o}var rt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var it=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=nt(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);rt((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=n||Qe;return r.createElement(u.Provider,{value:o},i)};function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=e===Qe?$e:function(){return(0,r.useContext)(e)};return function(){return t().store}}var ot=at();function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=e===Qe?ot:at(e);return function(){return t().dispatch}}var ut,ct=st();function lt(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function ft(e,t){if(lt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!lt(e[n[i]],t[n[i]]))return!1;return!0}!function(e){Xe=e}(We.useSyncExternalStoreWithSelector),function(e){e}(ze.useSyncExternalStore),ut=He.unstable_batchedUpdates,Ge=ut;var dt=n(448),ht=n.n(dt);function pt(e,t){return function(){return e.apply(t,arguments)}}var vt,mt=Object.prototype.toString,yt=Object.getPrototypeOf,gt=(vt=Object.create(null),function(e){var t=mt.call(e);return vt[t]||(vt[t]=t.slice(8,-1).toLowerCase())}),wt=function(e){return e=e.toLowerCase(),function(t){return gt(t)===e}},kt=function(e){return function(t){return typeof t===e}},bt=Array.isArray,_t=kt("undefined");var xt=wt("ArrayBuffer");var St=kt("string"),Et=kt("function"),Tt=kt("number"),It=function(e){return null!==e&&"object"===typeof e},Ct=function(e){if("object"!==gt(e))return!1;var t=yt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nt=wt("Date"),At=wt("File"),Pt=wt("Blob"),Ot=wt("FileList"),Rt=wt("URLSearchParams");function Dt(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),bt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,u=o?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(n=0;n<c;n++)s=u[n],t.call(null,e[s],s,e)}}var Lt,Mt=(Lt="undefined"!==typeof Uint8Array&&yt(Uint8Array),function(e){return Lt&&e instanceof Lt}),jt=wt("HTMLFormElement"),Ft=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Ut=wt("RegExp"),Vt=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Dt(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},qt={isArray:bt,isArrayBuffer:xt,isBuffer:function(e){return null!==e&&!_t(e)&&null!==e.constructor&&!_t(e.constructor)&&Et(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||mt.call(e)===t||Et(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&xt(e.buffer)},isString:St,isNumber:Tt,isBoolean:function(e){return!0===e||!1===e},isObject:It,isPlainObject:Ct,isUndefined:_t,isDate:Nt,isFile:At,isBlob:Pt,isRegExp:Ut,isFunction:Et,isStream:function(e){return It(e)&&Et(e.pipe)},isURLSearchParams:Rt,isTypedArray:Mt,isFileList:Ot,forEach:Dt,merge:function e(){for(var t={},n=function(n,r){Ct(t[r])&&Ct(n)?t[r]=e(t[r],n):Ct(n)?t[r]=e({},n):bt(n)?t[r]=n.slice():t[r]=n},r=0,i=arguments.length;r<i;r++)arguments[r]&&Dt(arguments[r],n);return t},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return Dt(t,(function(t,r){n&&Et(t)?e[r]=pt(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&yt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:gt,kindOfTest:wt,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(bt(e))return e;var t=e.length;if(!Tt(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:jt,hasOwnProperty:Ft,hasOwnProp:Ft,reduceDescriptors:Vt,freezeMethods:function(e){Vt(e,(function(t,n){var r=e[n];Et(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return bt(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t}};function Bt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}qt.inherits(Bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var zt=Bt.prototype,Wt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Wt[e]={value:e}})),Object.defineProperties(Bt,Wt),Object.defineProperty(zt,"isAxiosError",{value:!0}),Bt.from=function(e,t,n,r,i,a){var o=Object.create(zt);return qt.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Bt.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Ht=Bt,Gt=n(472);function Kt(e){return qt.isPlainObject(e)||qt.isArray(e)}function Qt(e){return qt.endsWith(e,"[]")?e.slice(0,-2):e}function $t(e,t,n){return e?e.concat(t).map((function(e,t){return e=Qt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Yt=qt.toFlatObject(qt,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Xt=function(e,t,n){if(!qt.isObject(e))throw new TypeError("target must be an object");t=t||new(Gt||FormData);var r,i=(n=qt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!qt.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,s=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&qt.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!qt.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(qt.isDate(e))return e.toISOString();if(!u&&qt.isBlob(e))throw new Ht("Blob is not supported. Use a Buffer instead.");return qt.isArrayBuffer(e)||qt.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(qt.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(qt.isArray(e)&&function(e){return qt.isArray(e)&&!e.some(Kt)}(e)||qt.isFileList(e)||qt.endsWith(n,"[]")&&(a=qt.toArray(e)))return n=Qt(n),a.forEach((function(e,r){!qt.isUndefined(e)&&null!==e&&t.append(!0===s?$t([n],r,o):null===s?n:n+"[]",c(e))})),!1;return!!Kt(e)||(t.append($t(r,n,o),c(e)),!1)}var f=[],d=Object.assign(Yt,{defaultVisitor:l,convertValue:c,isVisitable:Kt});if(!qt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!qt.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),qt.forEach(n,(function(n,i){!0===(!(qt.isUndefined(n)||null===n)&&a.call(t,n,qt.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function Jt(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Zt(e,t){this._pairs=[],e&&Xt(e,this,t)}var en=Zt.prototype;en.append=function(e,t){this._pairs.push([e,t])},en.toString=function(e){var t=e?function(t){return e.call(this,t,Jt)}:Jt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var tn=Zt;function nn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rn(e,t,n){if(!t)return e;var r,i=n&&n.encode||nn,a=n&&n.serialize;if(r=a?a(t,n):qt.isURLSearchParams(t)?t.toString():new tn(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var an=function(){function e(){h(this,e),this.handlers=[]}return v(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){qt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),on=an,sn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},un="undefined"!==typeof URLSearchParams?URLSearchParams:tn,cn=FormData,ln=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),fn={isBrowser:!0,classes:{URLSearchParams:un,FormData:cn,Blob:Blob},isStandardBrowserEnv:ln,protocols:["http","https","file","blob","url","data"]};var dn=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&qt.isArray(r)?r.length:a,s?(qt.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&qt.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&qt.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(qt.isFormData(e)&&qt.isFunction(e.entries)){var n={};return qt.forEachEntry(e,(function(e,r){t(function(e){return qt.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var hn=fn.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),qt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),qt.isString(r)&&o.push("path="+r),qt.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function pn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var vn=fn.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=qt.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function mn(e,t,n){Ht.call(this,null==e?"canceled":e,Ht.ERR_CANCELED,t,n),this.name="CanceledError"}qt.inherits(mn,Ht,{__CANCEL__:!0});var yn=mn;var gn=qt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wn=Symbol("internals"),kn=Symbol("defaults");function bn(e){return e&&String(e).trim().toLowerCase()}function _n(e){return!1===e||null==e?e:qt.isArray(e)?e.map(_n):String(e)}function xn(e,t,n,r){return qt.isFunction(r)?r.call(this,t,n):qt.isString(t)?qt.isString(r)?-1!==t.indexOf(r):qt.isRegExp(r)?r.test(t):void 0:void 0}function Sn(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}function En(e,t){e&&this.set(e),this[kn]=t||null}Object.assign(En.prototype,{set:function(e,t,n){var r=this;function i(e,t,n){var i=bn(t);if(!i)throw new Error("header name must be a non-empty string");var a=Sn(r,i);(!a||!0===n||!1!==r[a]&&!1!==n)&&(r[a||t]=_n(e))}return qt.isPlainObject(e)?qt.forEach(e,(function(e,n){i(e,n,t)})):i(t,e,n),this},get:function(e,t){if(e=bn(e)){var n=Sn(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(qt.isFunction(t))return t.call(this,r,n);if(qt.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}},has:function(e,t){if(e=bn(e)){var n=Sn(this,e);return!(!n||t&&!xn(0,this[n],n,t))}return!1},delete:function(e,t){var n=this,r=!1;function i(e){if(e=bn(e)){var i=Sn(n,e);!i||t&&!xn(0,n[i],i,t)||(delete n[i],r=!0)}}return qt.isArray(e)?e.forEach(i):i(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){var t=this,n={};return qt.forEach(this,(function(r,i){var a=Sn(n,i);if(a)return t[a]=_n(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=_n(r),n[o]=!0})),this},toJSON:function(e){var t=Object.create(null);return qt.forEach(Object.assign({},this[kn]||null,this),(function(n,r){null!=n&&!1!==n&&(t[r]=e&&qt.isArray(n)?n.join(", "):n)})),t}}),Object.assign(En,{from:function(e){return qt.isString(e)?new this(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&gn[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e)):e instanceof this?e:new this(e)},accessor:function(e){var t=(this[wn]=this[wn]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=bn(e);t[r]||(!function(e,t){var n=qt.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return qt.isArray(e)?e.forEach(r):r(e),this}}),En.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),qt.freezeMethods(En.prototype),qt.freezeMethods(En);var Tn=En;var In=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var d=c&&u-c;return d?Math.round(1e3*f/d):void 0}}};function Cn(e,t){var n=0,r=In(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0};c[t?"download":"upload"]=!0,e(c)}}function Nn(e){return new Promise((function(t,n){var r,i=e.data,a=Tn.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}qt.isFormData(i)&&fn.isStandardBrowserEnv&&a.setContentType(!1);var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=pn(e.baseURL,e.url);function d(){if(u){var r=Tn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ht("Request failed with status code "+n.status,[Ht.ERR_BAD_REQUEST,Ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),rn(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new Ht("Request aborted",Ht.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Ht("Network Error",Ht.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||sn;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Ht(t,r.clarifyTimeoutError?Ht.ETIMEDOUT:Ht.ECONNABORTED,e,u)),u=null},fn.isStandardBrowserEnv){var h=(e.withCredentials||vn(f))&&e.xsrfCookieName&&hn.read(e.xsrfCookieName);h&&a.set(e.xsrfHeaderName,h)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&qt.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),qt.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Cn(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Cn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new yn(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===fn.protocols.indexOf(p)?n(new Ht("Unsupported protocol "+p+":",Ht.ERR_BAD_REQUEST,e)):u.send(i||null)}))}var An={http:Nn,xhr:Nn},Pn=function(e){if(qt.isString(e)){var t=An[e];if(!e)throw Error(qt.hasOwnProp(e)?"Adapter '".concat(e,"' is not available in the build"):"Can not resolve adapter '".concat(e,"'"));return t}if(!qt.isFunction(e))throw new TypeError("adapter is not a function");return e},On={"Content-Type":"application/x-www-form-urlencoded"};var Rn={transitional:sn,adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=Pn("xhr"):"undefined"!==typeof process&&"process"===qt.kindOf(process)&&(e=Pn("http")),e}(),transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=qt.isObject(e);if(a&&qt.isHTMLForm(e)&&(e=new FormData(e)),qt.isFormData(e))return i&&i?JSON.stringify(dn(e)):e;if(qt.isArrayBuffer(e)||qt.isBuffer(e)||qt.isStream(e)||qt.isFile(e)||qt.isBlob(e))return e;if(qt.isArrayBufferView(e))return e.buffer;if(qt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Xt(e,new fn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return fn.isNode&&qt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=qt.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Xt(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(qt.isString(e))try{return(t||JSON.parse)(e),qt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Rn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&qt.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Ht.from(a,Ht.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};qt.forEach(["delete","get","head"],(function(e){Rn.headers[e]={}})),qt.forEach(["post","put","patch"],(function(e){Rn.headers[e]=qt.merge(On)}));var Dn=Rn;function Ln(e,t){var n=this||Dn,r=t||n,i=Tn.from(r.headers),a=r.data;return qt.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Mn(e){return!(!e||!e.__CANCEL__)}function jn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yn}function Fn(e){return jn(e),e.headers=Tn.from(e.headers),e.data=Ln.call(e,e.transformRequest),(e.adapter||Dn.adapter)(e).then((function(t){return jn(e),t.data=Ln.call(e,e.transformResponse,t),t.headers=Tn.from(t.headers),t}),(function(t){return Mn(t)||(jn(e),t&&t.response&&(t.response.data=Ln.call(e,e.transformResponse,t.response),t.response.headers=Tn.from(t.response.headers))),Promise.reject(t)}))}function Un(e,t){t=t||{};var n={};function r(e,t){return qt.isPlainObject(e)&&qt.isPlainObject(t)?qt.merge(e,t):qt.isPlainObject(t)?qt.merge({},t):qt.isArray(t)?t.slice():t}function i(n){return qt.isUndefined(t[n])?qt.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!qt.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return qt.isUndefined(t[n])?qt.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s};return qt.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,r=t(e);qt.isUndefined(r)&&t!==s||(n[e]=r)})),n}var Vn="1.1.3",qn={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){qn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Bn={};qn.transitional=function(e,t,n){function r(e,t){return"[Axios v1.1.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Ht(r(i," has been removed"+(t?" in "+t:"")),Ht.ERR_DEPRECATED);return t&&!Bn[i]&&(Bn[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var zn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ht("options must be an object",Ht.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new Ht("option "+a+" must be "+u,Ht.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ht("Unknown option "+a,Ht.ERR_BAD_OPTION)}},validators:qn},Wn=zn.validators,Hn=function(){function e(t){h(this,e),this.defaults=t,this.interceptors={request:new on,response:new on}}return v(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=Un(this.defaults,t),r=n.transitional,i=n.paramsSerializer;void 0!==r&&zn.assertOptions(r,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1),void 0!==i&&zn.assertOptions(i,{encode:Wn.function,serialize:Wn.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=t.headers&&qt.merge(t.headers.common,t.headers[t.method]);a&&qt.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),t.headers=new Tn(t.headers,a);var o=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var l,f=0;if(!s){var d=[Fn.bind(this),void 0];for(d.unshift.apply(d,o),d.push.apply(d,c),l=d.length,u=Promise.resolve(t);f<l;)u=u.then(d[f++],d[f++]);return u}l=o.length;var h=t;for(f=0;f<l;){var p=o[f++],v=o[f++];try{h=p(h)}catch(DL){v.call(this,DL);break}}try{u=Fn.call(this,h)}catch(DL){return Promise.reject(DL)}for(f=0,l=c.length;f<l;)u=u.then(c[f++],c[f++]);return u}},{key:"getUri",value:function(e){return rn(pn((e=Un(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();qt.forEach(["delete","get","head","options"],(function(e){Hn.prototype[e]=function(t,n){return this.request(Un(n||{},{method:e,url:t,data:(n||{}).data}))}})),qt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Un(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Hn.prototype[e]=t(),Hn.prototype[e+"Form"]=t(!0)}));var Gn=Hn,Kn=function(){function e(t){if(h(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new yn(e,t,i),n(r.reason))}))}return v(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Qn=Kn;var $n=function e(t){var n=new Gn(t),r=pt(Gn.prototype.request,n);return qt.extend(r,Gn.prototype,n,{allOwnKeys:!0}),qt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Un(t,n))},r}(Dn);$n.Axios=Gn,$n.CanceledError=yn,$n.CancelToken=Qn,$n.isCancel=Mn,$n.VERSION=Vn,$n.toFormData=Xt,$n.AxiosError=Ht,$n.Cancel=$n.CanceledError,$n.all=function(e){return Promise.all(e)},$n.spread=function(e){return function(t){return e.apply(null,t)}},$n.isAxiosError=function(e){return qt.isObject(e)&&!0===e.isAxiosError},$n.formToJSON=function(e){return dn(qt.isHTMLForm(e)?new FormData(e):e)};var Yn=$n,Xn=(Yn.Axios,Yn.AxiosError,Yn.CanceledError,Yn.isCancel,Yn.CancelToken,Yn.VERSION,Yn.all,Yn.Cancel,Yn.isAxiosError,Yn.spread,Yn.toFormData,Yn),Jn=n(184),Zn=ht().bind({wrapper:"Search_wrapper__+RG2g","wrapper-input":"Search_wrapper-input__Rsckh"});var er=function(){return(0,Jn.jsx)("div",{className:Zn("wrapper"),children:(0,Jn.jsx)("input",{className:Zn("wrapper-input"),placeholder:"What do you want to listen to?"})})};function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nr(){nr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new T(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==k(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(g),u(g,s,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function rr(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(DL){return void n(DL)}s.done?t(u):Promise.resolve(u).then(r,i)}function ir(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){rr(a,r,i,o,s,"next",e)}function s(e){rr(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ar(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function or(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:or(t[n])&&or(e[n])&&Object.keys(t[n]).length>0&&sr(e[n],t[n])}))}var ur={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function cr(){var e="undefined"!==typeof document?document:{};return sr(e,ur),e}var lr={document:ur,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function fr(){var e="undefined"!==typeof window?window:{};return sr(e,lr),e}var dr=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),"number"===typeof e?r=t.call(this,e):function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}(b(r=t.call.apply(t,[this].concat(d(e||[]))))),_(r)}return v(n)}(E(Array));function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,d(hr(e))):t.push(e)})),t}function pr(e,t){return Array.prototype.filter.call(e,t)}function vr(e,t){var n=fr(),r=cr(),i=[];if(!t&&e instanceof dr)return e;if(!e)return new dr(i);if("string"===typeof e){var a=e.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var o="div";0===a.indexOf("<li")&&(o="ul"),0===a.indexOf("<tr")&&(o="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(o="tr"),0===a.indexOf("<tbody")&&(o="table"),0===a.indexOf("<option")&&(o="select");var s=r.createElement(o);s.innerHTML=a;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(e,t){if("string"!==typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof dr)return e;i=e}return new dr(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}vr.fn=dr.prototype;var mr="resize scroll".split(" ");function yr(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(var i=0;i<this.length;i+=1)mr.indexOf(e)<0&&(e in this[i]?this[i][e]():vr(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}yr("click"),yr("blur"),yr("focus"),yr("focusin"),yr("focusout"),yr("keyup"),yr("keydown"),yr("keypress"),yr("submit"),yr("change"),yr("mousedown"),yr("mousemove"),yr("mouseup"),yr("mouseenter"),yr("mouseleave"),yr("mouseout"),yr("mouseover"),yr("touchstart"),yr("touchend"),yr("touchmove"),yr("resize"),yr("scroll");var gr={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=hr(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,d(r))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=hr(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,d(r))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=hr(t.map((function(e){return e.split(" ")})));return pr(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=hr(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),vr(t).is(i))a.apply(t,n);else for(var r=vr(t).parents(),o=0;o<r.length;o+=1)vr(r[o]).is(i)&&a.apply(r[o],n)}}function u(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var c,l=r.split(" "),f=0;f<this.length;f+=1){var d=this[f];if(i)for(c=0;c<l.length;c+=1){var h=l[c];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[h]||(d.dom7LiveListeners[h]=[]),d.dom7LiveListeners[h].push({listener:a,proxyListener:s}),d.addEventListener(h,s,o)}else for(c=0;c<l.length;c+=1){var p=l[c];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[p]||(d.dom7Listeners[p]=[]),d.dom7Listeners[p].push({listener:a,proxyListener:u}),d.addEventListener(p,u,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var f=this[l],d=void 0;if(!i&&f.dom7Listeners?d=f.dom7Listeners[c]:i&&f.dom7LiveListeners&&(d=f.dom7LiveListeners[c]),d&&d.length)for(var h=d.length-1;h>=0;h-=1){var p=d[h];a&&p.listener===a||a&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===a?(f.removeEventListener(c,p.proxyListener,o),d.splice(h,1)):a||(f.removeEventListener(c,p.proxyListener,o),d.splice(h,1))}}return this},trigger:function(){for(var e=fr(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),a=n[1],o=0;o<i.length;o+=1)for(var s=i[o],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var l=new e.CustomEvent(s,{detail:a,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=fr();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=fr(),t=cr(),n=this[0],r=n.getBoundingClientRect(),i=t.body,a=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-a,left:r.left+u-o}}return null},css:function(e,t){var n,r=fr();if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=fr(),i=cr(),a=this[0];if(!a||"undefined"===typeof e)return!1;if("string"===typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(t=vr(e),n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}if(e===i)return a===i;if(e===r)return a===r;if(e.nodeType||e instanceof dr){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return vr([]);if(e<0){var n=t+e;return vr(n<0?[]:[this[n]])}return vr([this[e]])},append:function(){for(var e,t=cr(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"===typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof dr)for(var a=0;a<e.length;a+=1)this[r].appendChild(e[a]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=cr();for(t=0;t<this.length;t+=1)if("string"===typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof dr)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&vr(this[0].nextElementSibling).is(e)?vr([this[0].nextElementSibling]):vr([]):this[0].nextElementSibling?vr([this[0].nextElementSibling]):vr([]):vr([])},nextAll:function(e){var t=[],n=this[0];if(!n)return vr([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?vr(r).is(e)&&t.push(r):t.push(r),n=r}return vr(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&vr(t.previousElementSibling).is(e)?vr([t.previousElementSibling]):vr([]):t.previousElementSibling?vr([t.previousElementSibling]):vr([])}return vr([])},prevAll:function(e){var t=[],n=this[0];if(!n)return vr([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?vr(r).is(e)&&t.push(r):t.push(r),n=r}return vr(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?vr(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return vr(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?vr(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return vr(t)},closest:function(e){var t=this;return"undefined"===typeof e?vr([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return vr(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!vr(r[i]).is(e)||t.push(r[i]);return vr(t)},filter:function(e){return vr(pr(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(gr).forEach((function(e){Object.defineProperty(vr.fn,e,{value:gr[e],writable:!0})}));var wr,kr,br,_r=vr;function xr(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}function Sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)}function Er(){return Date.now()}function Tr(e){var t,n=fr();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}function Ir(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=fr(),o=Tr(e);return a.WebKitCSSMatrix?((n=o.transform||o.webkitTransform).split(",").length>6&&(n=n.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new a.WebKitCSSMatrix("none"===n?"":n)):t=(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===i&&(n=a.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===i&&(n=a.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),n||0}function Cr(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Nr(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function Ar(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!Nr(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),a=0,o=i.length;a<o;a+=1){var s=i[a],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(Cr(e[s])&&Cr(r[s])?r[s].__swiper__?e[s]=r[s]:Ar(e[s],r[s]):!Cr(e[s])&&Cr(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:Ar(e[s],r[s])):e[s]=r[s])}}return e}function Pr(e,t,n){e.style.setProperty(t,n)}function Or(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,a=fr(),o=-n.translate,s=null,u=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);var c=r>o?"next":"prev",l=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var c=Math.max(Math.min((t-s)/u,1),0),f=.5-Math.cos(c*Math.PI)/2,d=o+f*(r-o);if(l(d,r)&&(d=r),n.wrapperEl.scrollTo(tr({},i,d)),l(d,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo(tr({},i,d))})),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(e)}()}function Rr(){return wr||(wr=function(){var e=fr(),t=cr();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(r){}return t}(),gestures:"ongesturestart"in e}}()),wr}function Dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userAgent,n=Rr(),r=fr(),i=r.navigator.platform,a=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),l=a.match(/(iPad).*OS\s([\d_]+)/),f=a.match(/(iPod)(.*OS\s([\d_]+))?/),d=!l&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===i,p="MacIntel"===i,v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!l&&p&&n.touch&&v.indexOf("".concat(s,"x").concat(u))>=0&&((l=a.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(l||d||f)&&(o.os="ios",o.ios=!0),o}function Lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kr||(kr=Dr(e)),kr}function Mr(){return br||(br=function(){var e=fr();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),br}var jr={on:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat(d(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var Fr={updateSize:function(){var e,t,n=this,r=n.$el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.$wrapperEl,a=e.size,o=e.rtlTranslate,s=e.wrongRTL,u=e.virtual&&r.virtual.enabled,c=u?e.virtual.slides.length:e.slides.length,l=i.children(".".concat(e.params.slideClass)),f=u?e.virtual.slides.length:l.length,d=[],h=[],p=[],v=r.slidesOffsetBefore;"function"===typeof v&&(v=r.slidesOffsetBefore.call(e));var m=r.slidesOffsetAfter;"function"===typeof m&&(m=r.slidesOffsetAfter.call(e));var y=e.snapGrid.length,g=e.slidesGrid.length,w=r.spaceBetween,k=-v,b=0,_=0;if("undefined"!==typeof a){"string"===typeof w&&w.indexOf("%")>=0&&(w=parseFloat(w.replace("%",""))/100*a),e.virtualSize=-w,o?l.css({marginLeft:"",marginBottom:"",marginTop:""}):l.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(Pr(e.wrapperEl,"--swiper-centered-offset-before",""),Pr(e.wrapperEl,"--swiper-centered-offset-after",""));var x,S=r.grid&&r.grid.rows>1&&e.grid;S&&e.grid.initSlides(f);for(var E="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,T=0;T<f;T+=1){x=0;var I=l.eq(T);if(S&&e.grid.updateSlide(T,I,f,t),"none"!==I.css("display")){if("auto"===r.slidesPerView){E&&(l[T].style[t("width")]="");var C=getComputedStyle(I[0]),N=I[0].style.transform,A=I[0].style.webkitTransform;if(N&&(I[0].style.transform="none"),A&&(I[0].style.webkitTransform="none"),r.roundLengths)x=e.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else{var P=n(C,"width"),O=n(C,"padding-left"),R=n(C,"padding-right"),D=n(C,"margin-left"),L=n(C,"margin-right"),M=C.getPropertyValue("box-sizing");if(M&&"border-box"===M)x=P+D+L;else{var j=I[0],F=j.clientWidth;x=P+O+R+D+L+(j.offsetWidth-F)}}N&&(I[0].style.transform=N),A&&(I[0].style.webkitTransform=A),r.roundLengths&&(x=Math.floor(x))}else x=(a-(r.slidesPerView-1)*w)/r.slidesPerView,r.roundLengths&&(x=Math.floor(x)),l[T]&&(l[T].style[t("width")]="".concat(x,"px"));l[T]&&(l[T].swiperSlideSize=x),p.push(x),r.centeredSlides?(k=k+x/2+b/2+w,0===b&&0!==T&&(k=k-a/2-w),0===T&&(k=k-a/2-w),Math.abs(k)<.001&&(k=0),r.roundLengths&&(k=Math.floor(k)),_%r.slidesPerGroup===0&&d.push(k),h.push(k)):(r.roundLengths&&(k=Math.floor(k)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&d.push(k),h.push(k),k=k+x+w),e.virtualSize+=x+w,b=x,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+m,o&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:"".concat(e.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&i.css(tr({},t("width"),"".concat(e.virtualSize+r.spaceBetween,"px"))),S&&e.grid.updateWrapperSize(x,d,t),!r.centeredSlides){for(var U=[],V=0;V<d.length;V+=1){var q=d[V];r.roundLengths&&(q=Math.floor(q)),d[V]<=e.virtualSize-a&&U.push(q)}d=U,Math.floor(e.virtualSize-a)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-a)}if(0===d.length&&(d=[0]),0!==r.spaceBetween){var B=e.isHorizontal()&&o?"marginLeft":t("marginRight");l.filter((function(e,t){return!r.cssMode||t!==l.length-1})).css(tr({},B,"".concat(w,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var z=0;p.forEach((function(e){z+=e+(r.spaceBetween?r.spaceBetween:0)}));var W=(z-=r.spaceBetween)-a;d=d.map((function(e){return e<0?-v:e>W?W+m:e}))}if(r.centerInsufficientSlides){var H=0;if(p.forEach((function(e){H+=e+(r.spaceBetween?r.spaceBetween:0)})),(H-=r.spaceBetween)<a){var G=(a-H)/2;d.forEach((function(e,t){d[t]=e-G})),h.forEach((function(e,t){h[t]=e+G}))}}if(Object.assign(e,{slides:l,snapGrid:d,slidesGrid:h,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Pr(e.wrapperEl,"--swiper-centered-offset-before","".concat(-d[0],"px")),Pr(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-p[p.length-1]/2,"px"));var K=-e.snapGrid[0],Q=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+K})),e.slidesGrid=e.slidesGrid.map((function(e){return e+Q}))}if(f!==c&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==g&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!u&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var $="".concat(r.containerModifierClass,"backface-hidden"),Y=e.$el.hasClass($);f<=r.maxBackfaceHiddenSlides?Y||e.$el.addClass($):Y&&e.$el.removeClass($)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,a=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||_r([])).each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var u=r[t].offsetHeight;a=u>a?u:a}(a||0===a)&&n.$wrapperEl.css("height","".concat(a,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,n=t.params,r=t.slides,i=t.rtlTranslate,a=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var u=r[s],c=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);var l=(o+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),f=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),d=-(o-c),h=d+t.slidesSizesGrid[s],p=d>=0&&d<t.size-1||h>1&&h<=t.size||d<=0&&h>=t.size;p&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),u.progress=i?-l:l,u.originalProgress=i?-f:f}t.visibleSlides=_r(t.visibleSlides)}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,u=o,c=s;0===i?(a=0,o=!0,s=!0):(o=(a=(e-t.minTranslate())/i)<=0,s=a>=1),Object.assign(t,{progress:a,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!u&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(u&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,a=t.activeIndex,o=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(a,'"]')):n.eq(a)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass));var u=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===u.length&&(u=n.eq(0)).addClass(r.slideNextClass);var c=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,a=n.snapGrid,o=n.params,s=n.activeIndex,u=n.realIndex,c=n.snapIndex,l=e;if("undefined"===typeof l){for(var f=0;f<i.length;f+=1)"undefined"!==typeof i[f+1]?r>=i[f]&&r<i[f+1]-(i[f+1]-i[f])/2?l=f:r>=i[f]&&r<i[f+1]&&(l=f+1):r>=i[f]&&(l=f);o.normalizeSlideIndex&&(l<0||"undefined"===typeof l)&&(l=0)}if(a.indexOf(r)>=0)t=a.indexOf(r);else{var d=Math.min(o.slidesPerGroupSkip,l);t=d+Math.floor((l-d)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),l!==s){var h=parseInt(n.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(n,{snapIndex:t,realIndex:h,previousIndex:s,activeIndex:l}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==h&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,i=_r(e).closest(".".concat(r.slideClass))[0],a=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,t=o;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(_r(i).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var Ur={getTranslate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=Ir(a[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.$wrapperEl,o=n.wrapperEl,s=n.progress,u=0,c=0;n.isHorizontal()?u=r?-e:e:c=e,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||a.transform("translate3d(".concat(u,"px, ").concat(c,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;var l=n.maxTranslate()-n.minTranslate();(0===l?0:(e-n.minTranslate())/l)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var u,c=a.minTranslate(),l=a.maxTranslate();if(u=r&&e>c?c:r&&e<l?l:e,a.updateProgress(u),o.cssMode){var f=a.isHorizontal();if(0===t)s[f?"scrollLeft":"scrollTop"]=-u;else{var d;if(!a.support.smoothScroll)return Or({swiper:a,targetPosition:-u,side:f?"left":"top"}),!0;s.scrollTo((tr(d={},f?"left":"top",-u),tr(d,"behavior","smooth"),d))}return!0}return 0===t?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}};function Vr(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,a=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=a>o?"next":a<o?"prev":"reset"),t.emit("transition".concat(i)),n&&a!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var qr={setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Vr({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),Vr({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var Br={slideTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if("number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(typeof e,"] given."));if("string"===typeof e){var a=parseInt(e,10),o=isFinite(a);if(!o)throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=a}var s=this,u=e;u<0&&(u=0);var c=s.params,l=s.snapGrid,f=s.slidesGrid,d=s.previousIndex,h=s.activeIndex,p=s.rtlTranslate,v=s.wrapperEl,m=s.enabled;if(s.animating&&c.preventInteractionOnTransition||!m&&!r&&!i)return!1;var y=Math.min(s.params.slidesPerGroupSkip,u),g=y+Math.floor((u-y)/s.params.slidesPerGroup);g>=l.length&&(g=l.length-1);var w,k=-l[g];if(c.normalizeSlideIndex)for(var b=0;b<f.length;b+=1){var _=-Math.floor(100*k),x=Math.floor(100*f[b]),S=Math.floor(100*f[b+1]);"undefined"!==typeof f[b+1]?_>=x&&_<S-(S-x)/2?u=b:_>=x&&_<S&&(u=b+1):_>=x&&(u=b)}if(s.initialized&&u!==h){if(!s.allowSlideNext&&k<s.translate&&k<s.minTranslate())return!1;if(!s.allowSlidePrev&&k>s.translate&&k>s.maxTranslate()&&(h||0)!==u)return!1}if(u!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(k),w=u>h?"next":u<h?"prev":"reset",p&&-k===s.translate||!p&&k===s.translate)return s.updateActiveIndex(u),c.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==c.effect&&s.setTranslate(k),"reset"!==w&&(s.transitionStart(n,w),s.transitionEnd(n,w)),!1;if(c.cssMode){var E=s.isHorizontal(),T=p?k:-k;if(0===t){var I=s.virtual&&s.params.virtual.enabled;I&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),v[E?"scrollLeft":"scrollTop"]=T,I&&requestAnimationFrame((function(){s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1}))}else{var C;if(!s.support.smoothScroll)return Or({swiper:s,targetPosition:T,side:E?"left":"top"}),!0;v.scrollTo((tr(C={},E?"left":"top",T),tr(C,"behavior","smooth"),C))}return!0}return s.setTransition(t),s.setTranslate(k),s.updateActiveIndex(u),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(n,w),0===t?s.transitionEnd(n,w):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,w))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;if("string"===typeof e){var i=parseInt(e,10),a=isFinite(i);if(!a)throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=i}var o=this,s=e;return o.params.loop&&(s+=o.loopedSlides),o.slideTo(s,t,n,r)},slideNext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.animating,a=r.enabled,o=r.params;if(!a)return r;var s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var u=r.activeIndex<o.slidesPerGroupSkip?1:s;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+u,e,t,n)},slidePrev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.params,a=r.animating,o=r.snapGrid,s=r.slidesGrid,u=r.rtlTranslate,c=r.enabled;if(!c)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}var l=u?r.translate:-r.translate;function f(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var d,h=f(l),p=o.map((function(e){return f(e)})),v=o[p.indexOf(h)-1];"undefined"===typeof v&&i.cssMode&&(o.forEach((function(e,t){h>=e&&(d=t)})),"undefined"!==typeof d&&(v=o[d>0?d-1:d]));var m=0;if("undefined"!==typeof v&&((m=s.indexOf(v))<0&&(m=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-r.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),i.rewind&&r.isBeginning){var y=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(y,e,t,n)}return r.slideTo(m,e,t,n)},slideReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this;return r.slideTo(r.activeIndex,e,t,n)},slideToClosest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){var c=i.snapGrid[s],l=i.snapGrid[s+1];u-c>(l-c)*r&&(a+=i.params.slidesPerGroup)}else{var f=i.snapGrid[s-1],d=i.snapGrid[s];u-f<=(d-f)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(_r(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Sr((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Sr((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}};var zr={loopCreate:function(){var e=this,t=cr(),n=e.params,r=e.$wrapperEl,i=r.children().length>0?_r(r.children()[0].parentNode):r;i.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass)).remove();var a=i.children(".".concat(n.slideClass));if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-a.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var u=_r(t.createElement("div")).addClass("".concat(n.slideClass," ").concat(n.slideBlankClass));i.append(u)}a=i.children(".".concat(n.slideClass))}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>a.length&&e.params.loopedSlidesLimit&&(e.loopedSlides=a.length);var c=[],l=[];a.each((function(e,t){_r(e).attr("data-swiper-slide-index",t)}));for(var f=0;f<e.loopedSlides;f+=1){var d=f-Math.floor(f/a.length)*a.length;l.push(a.eq(d)[0]),c.unshift(a.eq(a.length-d-1)[0])}for(var h=0;h<l.length;h+=1)i.append(_r(l[h].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var p=c.length-1;p>=0;p-=1)i.prepend(_r(c[p].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-s[n]-e.getTranslate();if(n<i)t=r.length-3*i+n,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c);else if(n>=r.length-i){t=-r.length+n+i,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c)}e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,",.").concat(n.slideClass,".").concat(n.slideBlankClass)).remove(),r.removeAttr("data-swiper-slide-index")}};var Wr={setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}};function Hr(e){var t=this,n=cr(),r=fr(),i=t.touchEventsData,a=t.params,o=t.touches;if(t.enabled&&(!t.animating||!a.preventInteractionOnTransition)){!t.animating&&a.cssMode&&a.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var u=_r(s.target);if(("wrapper"!==a.touchEventsTarget||u.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===s.type,(i.isTouchEvent||!("which"in s)||3!==s.which)&&!(!i.isTouchEvent&&"button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved))){var c=!!a.noSwipingClass&&""!==a.noSwipingClass,l=e.composedPath?e.composedPath():e.path;c&&s.target&&s.target.shadowRoot&&l&&(u=_r(l[0]));var f=a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass),d=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(d?function(e){function t(n){if(!n||n===cr()||n===fr())return null;n.assignedSlot&&(n=n.assignedSlot);var r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}return t(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this)}(f,u[0]):u.closest(f)[0]))t.allowClick=!0;else if(!a.swipeHandler||u.closest(a.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var h=o.currentX,p=o.currentY,v=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,m=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(v&&(h<=m||h>=r.innerWidth-m)){if("prevent"!==v)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=Er(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==s.type){var y=!0;u.is(i.focusableElements)&&(y=!1,"SELECT"===u[0].nodeName&&(i.isTouched=!1)),n.activeElement&&_r(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();var g=y&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!g||u[0].isContentEditable||s.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function Gr(e){var t=cr(),n=this,r=n.touchEventsData,i=n.params,a=n.touches,o=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var u="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),c="touchmove"===s.type?u.pageX:s.pageX,l="touchmove"===s.type?u.pageY:s.pageY;if(s.preventedByNestedSwiper)return a.startX=c,void(a.startY=l);if(!n.allowTouchMove)return _r(s.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:c,startY:l,currentX:c,currentY:l}),r.touchStartTime=Er()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(l<a.startY&&n.translate<=n.maxTranslate()||l>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<a.startX&&n.translate<=n.maxTranslate()||c>a.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&_r(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){a.currentX=c,a.currentY=l;var f=a.currentX-a.startX,d=a.currentY-a.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(f,2)+Math.pow(d,2))<n.params.threshold)){var h;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:f*f+d*d>=25&&(h=180*Math.atan2(Math.abs(d),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?h>i.touchAngle:90-h>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var p=n.isHorizontal()?f:d;a.diff=p,p*=i.touchRatio,o&&(p=-p),n.swipeDirection=p>0?"prev":"next",r.currentTranslate=p+r.startTranslate;var v=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),p>0&&r.currentTranslate>n.minTranslate()?(v=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+p,m))):p<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-p,m))),v&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(p)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function Kr(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,a=t.rtlTranslate,o=t.slidesGrid;if(t.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=Er(),l=c-n.touchStartTime;if(t.allowClick){var f=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(f&&f[0]||s.target),t.emit("tap click",s),l<300&&c-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Er(),Sr((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(t.params.freeMode&&r.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:u});else{for(var d=0,h=t.slidesSizesGrid[0],p=0;p<o.length;p+=p<r.slidesPerGroupSkip?1:r.slidesPerGroup){var v=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof o[p+v]?u>=o[p]&&u<o[p+v]&&(d=p,h=o[p+v]-o[p]):u>=o[p]&&(d=p,h=o[o.length-1]-o[o.length-2])}var m=null,y=null;r.rewind&&(t.isBeginning?y=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(m=0));var g=(u-o[d])/h,w=d<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(l>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?m:d+w):t.slideTo(d)),"prev"===t.swipeDirection&&(g>1-r.longSwipesRatio?t.slideTo(d+w):null!==y&&g<0&&Math.abs(g)>r.longSwipesRatio?t.slideTo(y):t.slideTo(d))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(d+w):t.slideTo(d):("next"===t.swipeDirection&&t.slideTo(null!==m?m:d+w),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:d))}}}}function Qr(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function $r(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Yr(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var Xr=!1;function Jr(){}var Zr=function(e,t){var n=cr(),r=e.params,i=e.touchEvents,a=e.el,o=e.wrapperEl,s=e.device,u=e.support,c=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",f=t;if(u.touch){var d=!("touchstart"!==i.start||!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};a[l](i.start,e.onTouchStart,d),a[l](i.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:c}:c),a[l](i.end,e.onTouchEnd,d),i.cancel&&a[l](i.cancel,e.onTouchEnd,d)}else a[l](i.start,e.onTouchStart,!1),n[l](i.move,e.onTouchMove,c),n[l](i.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&a[l]("click",e.onClick,!0),r.cssMode&&o[l]("scroll",e.onScroll),r.updateOnWindowResize?e[f](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Qr,!0):e[f]("observerUpdate",Qr,!0)};var ei={attachEvents:function(){var e=this,t=cr(),n=e.params,r=e.support;e.onTouchStart=Hr.bind(e),e.onTouchMove=Gr.bind(e),e.onTouchEnd=Kr.bind(e),n.cssMode&&(e.onScroll=Yr.bind(e)),e.onClick=$r.bind(e),r.touch&&!Xr&&(t.addEventListener("touchstart",Jr),Xr=!0),Zr(e,"on")},detachEvents:function(){Zr(this,"off")}},ti=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var ni={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,a=e.params,o=e.$el,s=a.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var u=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(u&&e.currentBreakpoint!==u){var c=(u in s?s[u]:void 0)||e.originalParams,l=ti(e,a),f=ti(e,c),d=a.enabled;l&&!f?(o.removeClass("".concat(a.containerModifierClass,"grid ").concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&f&&(o.addClass("".concat(a.containerModifierClass,"grid")),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===a.grid.fill)&&o.addClass("".concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(t){var n=a[t]&&a[t].enabled,r=c[t]&&c[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));var h=c.direction&&c.direction!==a.direction,p=a.loop&&(c.slidesPerView!==a.slidesPerView||h);h&&n&&e.changeDirection(),Ar(e.params,c);var v=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!v?e.disable():!d&&v&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",c),p&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window",n=arguments.length>2?arguments[2]:void 0;if(e&&("container"!==t||n)){var r=!1,i=fr(),a="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var u=o[s],c=u.point,l=u.value;"window"===t?i.matchMedia("(min-width: ".concat(l,"px)")).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}}};var ri={addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,a=e.device,o=e.support,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push.apply(t,d(s)),i.addClass(d(t).join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var ii={loadImage:function(e,t,n,r,i,a){var o,s=fr();function u(){a&&a()}_r(e).parent("picture")[0]||e.complete&&i?u():t?((o=new s.Image).onload=u,o.onerror=u,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):u()},preloadImages:function(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}};var ai={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function oi(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Ar(t,n)):Ar(t,n)):Ar(t,n)}}var si={eventsEmitter:jr,update:Fr,translate:Ur,transition:qr,slide:Br,loop:zr,grabCursor:Wr,events:ei,breakpoints:ni,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>a}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:ri,images:ii},ui={},ci=function(){function e(){var t,n;h(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=Ar({},n),t&&!n.el&&(n.el=t),n.el&&_r(n.el).length>1){var o=[];return _r(n.el).each((function(t){var r=Ar({},n,{el:t});o.push(new e(r))})),o}var s,u=this;(u.__swiper__=!0,u.support=Rr(),u.device=Lr({userAgent:n.userAgent}),u.browser=Mr(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=d(u.__modules__),n.modules&&Array.isArray(n.modules))&&(s=u.modules).push.apply(s,d(n.modules));var c={};u.modules.forEach((function(e){e({swiper:u,extendParams:oi(n,c),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})}));var l=Ar({},ai,c);return u.params=Ar({},l,ui,n),u.originalParams=Ar({},u.params),u.passedParams=Ar({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach((function(e){u.on(e,u.params.on[e])})),u.params&&u.params.onAny&&u.onAny(u.params.onAny),u.$=_r,Object.assign(u,{enabled:u.params.enabled,el:t,classNames:[],slides:_r(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===u.params.direction},isVertical:function(){return"vertical"===u.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return u.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},u.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},u.support.touch||!u.params.simulateTouch?u.touchEventsTouch:u.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:Er(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}return v(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.params,i=n.slides,a=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,u=n.activeIndex,c=1;if(r.centeredSlides){for(var l,f=i[u].swiperSlideSize,d=u+1;d<i.length;d+=1)i[d]&&!l&&(c+=1,(f+=i[d].swiperSlideSize)>s&&(l=!0));for(var h=u-1;h>=0;h-=1)i[h]&&!l&&(c+=1,(f+=i[h].swiperSlideSize)>s&&(l=!0))}else if("current"===e)for(var p=u+1;p<i.length;p+=1){var v=t?a[p]+o[p]-a[u]<s:a[p]-a[u]<s;v&&(c+=1)}else for(var m=u-1;m>=0;m-=1){var y=a[u]-a[m]<s;y&&(c+=1)}return c}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"changeLanguageDirection",value:function(e){var t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.$el.removeClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=_r(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=_r(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children?n.children(r()):_r(n).children(r())}();if(0===i.length&&t.params.createElements){var a=cr().createElement("div");i=_r(a),a.className=t.params.wrapperClass,n.append(a),n.children(".".concat(t.params.slideClass)).each((function(e){i.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params,i=n.$el,a=n.$wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.$el[0].swiper=null,xr(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){Ar(ui,e)}},{key:"extendedDefaults",get:function(){return ui}},{key:"defaults",get:function(){return ai}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(si).forEach((function(e){Object.keys(si[e]).forEach((function(t){ci.prototype[t]=si[e][t]}))})),ci.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=fr(),a=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},u=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((function(e){o=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,a=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||s()}))})),a.observe(t.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",u))})),n("destroy",(function(){o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,a=[],o=fr(),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.MutationObserver||o.WebkitMutationObserver,r=new n((function(e){if(1!==e.length){var t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}else i("observerUpdate",e[0])}));r.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),a.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)s(e[n]);s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]);var li=ci;function fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function di(e){var t,n=e.swiper,r=e.extendParams,i=e.on,a=e.emit,o="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"".concat(o,"-bullet"),bulletActiveClass:"".concat(o,"-bullet-active"),modifierClass:"".concat(o,"-"),currentClass:"".concat(o,"-current"),totalClass:"".concat(o,"-total"),hiddenClass:"".concat(o,"-hidden"),progressbarFillClass:"".concat(o,"-progressbar-fill"),progressbarOppositeClass:"".concat(o,"-progressbar-opposite"),clickableClass:"".concat(o,"-clickable"),lockClass:"".concat(o,"-lock"),horizontalClass:"".concat(o,"-horizontal"),verticalClass:"".concat(o,"-vertical"),paginationDisabledClass:"".concat(o,"-disabled")}}),n.pagination={el:null,$el:null,bullets:[]};var s=0;function u(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function c(e,t){var r=n.params.pagination.bulletActiveClass;e[t]().addClass("".concat(r,"-").concat(t))[t]().addClass("".concat(r,"-").concat(t,"-").concat(t))}function l(){var e=n.rtl,r=n.params.pagination;if(!u()){var i,o=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,l=n.pagination.$el,f=n.params.loop?Math.ceil((o-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?((i=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup))>o-1-2*n.loopedSlides&&(i-=o-2*n.loopedSlides),i>f-1&&(i-=f),i<0&&"bullets"!==n.params.paginationType&&(i=f+i)):i="undefined"!==typeof n.snapIndex?n.snapIndex:n.activeIndex||0,"bullets"===r.type&&n.pagination.bullets&&n.pagination.bullets.length>0){var d,h,p,v=n.pagination.bullets;if(r.dynamicBullets&&(t=v.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),l.css(n.isHorizontal()?"width":"height","".concat(t*(r.dynamicMainBullets+4),"px")),r.dynamicMainBullets>1&&void 0!==n.previousIndex&&((s+=i-(n.previousIndex-n.loopedSlides||0))>r.dynamicMainBullets-1?s=r.dynamicMainBullets-1:s<0&&(s=0)),d=Math.max(i-s,0),p=((h=d+(Math.min(v.length,r.dynamicMainBullets)-1))+d)/2),v.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((function(e){return"".concat(r.bulletActiveClass).concat(e)})).join(" ")),l.length>1)v.each((function(e){var t=_r(e),n=t.index();n===i&&t.addClass(r.bulletActiveClass),r.dynamicBullets&&(n>=d&&n<=h&&t.addClass("".concat(r.bulletActiveClass,"-main")),n===d&&c(t,"prev"),n===h&&c(t,"next"))}));else{var m=v.eq(i),y=m.index();if(m.addClass(r.bulletActiveClass),r.dynamicBullets){for(var g=v.eq(d),w=v.eq(h),k=d;k<=h;k+=1)v.eq(k).addClass("".concat(r.bulletActiveClass,"-main"));if(n.params.loop)if(y>=v.length){for(var b=r.dynamicMainBullets;b>=0;b-=1)v.eq(v.length-b).addClass("".concat(r.bulletActiveClass,"-main"));v.eq(v.length-r.dynamicMainBullets-1).addClass("".concat(r.bulletActiveClass,"-prev"))}else c(g,"prev"),c(w,"next");else c(g,"prev"),c(w,"next")}}if(r.dynamicBullets){var _=Math.min(v.length,r.dynamicMainBullets+4),x=(t*_-t)/2-p*t,S=e?"right":"left";v.css(n.isHorizontal()?S:"top","".concat(x,"px"))}}if("fraction"===r.type&&(l.find(fi(r.currentClass)).text(r.formatFractionCurrent(i+1)),l.find(fi(r.totalClass)).text(r.formatFractionTotal(f))),"progressbar"===r.type){var E;E=r.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";var T=(i+1)/f,I=1,C=1;"horizontal"===E?I=T:C=T,l.find(fi(r.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(I,") scaleY(").concat(C,")")).transition(n.params.speed)}"custom"===r.type&&r.renderCustom?(l.html(r.renderCustom(n,i+1,f)),a("paginationRender",l[0])):a("paginationUpdate",l[0]),n.params.watchOverflow&&n.enabled&&l[n.isLocked?"addClass":"removeClass"](r.lockClass)}}function f(){var e=n.params.pagination;if(!u()){var t=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,r=n.pagination.$el,i="";if("bullets"===e.type){var o=n.params.loop?Math.ceil((t-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&o>t&&(o=t);for(var s=0;s<o;s+=1)e.renderBullet?i+=e.renderBullet.call(n,s,e.bulletClass):i+="<".concat(e.bulletElement,' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">");r.html(i),n.pagination.bullets=r.find(fi(e.bulletClass))}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(n,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>'),r.html(i)),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(n,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>'),r.html(i)),"custom"!==e.type&&a("paginationRender",n.pagination.$el[0])}}function d(){n.params.pagination=function(e,t,n,r){var i=cr();return e.params.createElements&&Object.keys(r).forEach((function(a){if(!n[a]&&!0===n.auto){var o=e.$el.children(".".concat(r[a]))[0];o||((o=i.createElement("div")).className=r[a],e.$el.append(o)),n[a]=o,t[a]=o}})),n}(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});var e=n.params.pagination;if(e.el){var t=_r(e.el);0!==t.length&&(n.params.uniqueNavElements&&"string"===typeof e.el&&t.length>1&&(t=n.$el.find(e.el)).length>1&&(t=t.filter((function(e){return _r(e).parents(".swiper")[0]===n.el}))),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),t.addClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(t.addClass("".concat(e.modifierClass).concat(e.type,"-dynamic")),s=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click",fi(e.bulletClass),(function(e){e.preventDefault();var t=_r(this).index()*n.params.slidesPerGroup;n.params.loop&&(t+=n.loopedSlides),n.slideTo(t)})),Object.assign(n.pagination,{$el:t,el:t[0]}),n.enabled||t.addClass(e.lockClass))}}function h(){var e=n.params.pagination;if(!u()){var t=n.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),t.removeClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",fi(e.bulletClass))}}i("init",(function(){!1===n.params.pagination.enabled?p():(d(),f(),l())})),i("activeIndexChange",(function(){(n.params.loop||"undefined"===typeof n.snapIndex)&&l()})),i("snapIndexChange",(function(){n.params.loop||l()})),i("slidesLengthChange",(function(){n.params.loop&&(f(),l())})),i("snapGridLengthChange",(function(){n.params.loop||(f(),l())})),i("destroy",(function(){h()})),i("enable disable",(function(){var e=n.pagination.$el;e&&e[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)})),i("lock unlock",(function(){l()})),i("click",(function(e,t){var r=t.target,i=n.pagination.$el;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&i&&i.length>0&&!_r(r).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&r===n.navigation.nextEl||n.navigation.prevEl&&r===n.navigation.prevEl))return;var o=i.hasClass(n.params.pagination.hiddenClass);a(!0===o?"paginationShow":"paginationHide"),i.toggleClass(n.params.pagination.hiddenClass)}}));var p=function(){n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),h()};Object.assign(n.pagination,{enable:function(){n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),d(),f(),l()},disable:p,render:f,update:l,init:d,destroy:h})}function hi(e){var t,n=e.swiper,r=e.extendParams,i=e.on,a=e.emit;function o(){if(!n.size)return n.autoplay.running=!1,void(n.autoplay.paused=!1);var e=n.slides.eq(n.activeIndex),r=n.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(r=e.attr("data-swiper-autoplay")||n.params.autoplay.delay),clearTimeout(t),t=Sr((function(){var e;n.params.autoplay.reverseDirection?n.params.loop?(n.loopFix(),e=n.slidePrev(n.params.speed,!0,!0),a("autoplay")):n.isBeginning?n.params.autoplay.stopOnLastSlide?u():(e=n.slideTo(n.slides.length-1,n.params.speed,!0,!0),a("autoplay")):(e=n.slidePrev(n.params.speed,!0,!0),a("autoplay")):n.params.loop?(n.loopFix(),e=n.slideNext(n.params.speed,!0,!0),a("autoplay")):n.isEnd?n.params.autoplay.stopOnLastSlide?u():(e=n.slideTo(0,n.params.speed,!0,!0),a("autoplay")):(e=n.slideNext(n.params.speed,!0,!0),a("autoplay")),(n.params.cssMode&&n.autoplay.running||!1===e)&&o()}),r)}function s(){return"undefined"===typeof t&&(!n.autoplay.running&&(n.autoplay.running=!0,a("autoplayStart"),o(),!0))}function u(){return!!n.autoplay.running&&("undefined"!==typeof t&&(t&&(clearTimeout(t),t=void 0),n.autoplay.running=!1,a("autoplayStop"),!0))}function c(e){n.autoplay.running&&(n.autoplay.paused||(t&&clearTimeout(t),n.autoplay.paused=!0,0!==e&&n.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].addEventListener(e,f)})):(n.autoplay.paused=!1,o())))}function l(){var e=cr();"hidden"===e.visibilityState&&n.autoplay.running&&c(),"visible"===e.visibilityState&&n.autoplay.paused&&(o(),n.autoplay.paused=!1)}function f(e){n&&!n.destroyed&&n.$wrapperEl&&e.target===n.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].removeEventListener(e,f)})),n.autoplay.paused=!1,n.autoplay.running?o():u())}function d(){n.params.autoplay.disableOnInteraction?u():(a("autoplayPause"),c()),["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].removeEventListener(e,f)}))}function h(){n.params.autoplay.disableOnInteraction||(n.autoplay.paused=!1,a("autoplayResume"),o())}n.autoplay={running:!1,paused:!1},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),i("init",(function(){n.params.autoplay.enabled&&(s(),cr().addEventListener("visibilitychange",l),n.params.autoplay.pauseOnMouseEnter&&(n.$el.on("mouseenter",d),n.$el.on("mouseleave",h)))})),i("beforeTransitionStart",(function(e,t,r){n.autoplay.running&&(r||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(t):u())})),i("sliderFirstMove",(function(){n.autoplay.running&&(n.params.autoplay.disableOnInteraction?u():c())})),i("touchEnd",(function(){n.params.cssMode&&n.autoplay.paused&&!n.params.autoplay.disableOnInteraction&&o()})),i("destroy",(function(){n.$el.off("mouseenter",d),n.$el.off("mouseleave",h),n.autoplay.running&&u(),cr().removeEventListener("visibilitychange",l)})),Object.assign(n.autoplay,{pause:c,run:o,start:s,stop:u})}function pi(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function vi(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:pi(t[n])&&pi(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:vi(e[n],t[n]):e[n]=t[n]}))}function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.pagination&&"undefined"===typeof e.pagination.el}function gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scrollbar&&"undefined"===typeof e.scrollbar.el}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}var ki=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];var bi=function(e,t){var n=t.slidesPerView;if(t.breakpoints){var r=li.prototype.getBreakpoint(t.breakpoints),i=r in t.breakpoints?t.breakpoints[r]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}var a=Math.ceil(parseFloat(t.loopedSlides||n,10));return(a+=t.loopAdditionalSlides)>e.length&&t.loopedSlidesLimit&&(a=e.length),a};function _i(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function xi(e){var t=[];return r.Children.toArray(e).forEach((function(e){_i(e)?t.push(e):e.props&&e.props.children&&xi(e.props.children).forEach((function(e){return t.push(e)}))})),t}function Si(e){var t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return r.Children.toArray(e).forEach((function(e){if(_i(e))t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){var r=xi(e.props.children);r.length>0?r.forEach((function(e){return t.push(e)})):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function Ei(e){var t,n,r,i,a,o=e.swiper,s=e.slides,u=e.passedParams,c=e.changedParams,l=e.nextEl,f=e.prevEl,d=e.scrollbarEl,h=e.paginationEl,p=c.filter((function(e){return"children"!==e&&"direction"!==e})),v=o.params,m=o.pagination,y=o.navigation,g=o.scrollbar,w=o.virtual,k=o.thumbs;c.includes("thumbs")&&u.thumbs&&u.thumbs.swiper&&v.thumbs&&!v.thumbs.swiper&&(t=!0),c.includes("controller")&&u.controller&&u.controller.control&&v.controller&&!v.controller.control&&(n=!0),c.includes("pagination")&&u.pagination&&(u.pagination.el||h)&&(v.pagination||!1===v.pagination)&&m&&!m.el&&(r=!0),c.includes("scrollbar")&&u.scrollbar&&(u.scrollbar.el||d)&&(v.scrollbar||!1===v.scrollbar)&&g&&!g.el&&(i=!0),c.includes("navigation")&&u.navigation&&(u.navigation.prevEl||f)&&(u.navigation.nextEl||l)&&(v.navigation||!1===v.navigation)&&y&&!y.prevEl&&!y.nextEl&&(a=!0);(p.forEach((function(e){if(pi(v[e])&&pi(u[e]))vi(v[e],u[e]);else{var t=u[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?v[e]=u[e]:!1===t&&o[n=e]&&(o[n].destroy(),"navigation"===n?(v[n].prevEl=void 0,v[n].nextEl=void 0,o[n].prevEl=void 0,o[n].nextEl=void 0):(v[n].el=void 0,o[n].el=void 0))}var n})),p.includes("controller")&&!n&&o.controller&&o.controller.control&&v.controller&&v.controller.control&&(o.controller.control=v.controller.control),c.includes("children")&&s&&w&&v.virtual.enabled?(w.slides=s,w.update(!0)):c.includes("children")&&o.lazy&&o.params.lazy.enabled&&o.lazy.load(),t)&&(k.init()&&k.update(!0));n&&(o.controller.control=v.controller.control),r&&(h&&(v.pagination.el=h),m.init(),m.render(),m.update()),i&&(d&&(v.scrollbar.el=d),g.init(),g.updateSize(),g.setTranslate()),a&&(l&&(v.navigation.nextEl=l),f&&(v.navigation.prevEl=f),y.init(),y.update()),c.includes("allowSlideNext")&&(o.allowSlideNext=u.allowSlideNext),c.includes("allowSlidePrev")&&(o.allowSlidePrev=u.allowSlidePrev),c.includes("direction")&&o.changeDirection(u.direction,!1),o.update()}function Ti(e,t){return"undefined"===typeof window?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)}var Ii=(0,r.createContext)(null),Ci=(0,r.createContext)(null),Ni=["className","tag","wrapperTag","children","onSwiper"];function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}var Pi=(0,r.forwardRef)((function(e,t){var n=void 0===e?{}:e,i=n.className,a=n.tag,o=void 0===a?"div":a,s=n.wrapperTag,u=void 0===s?"div":s,c=n.children,f=n.onSwiper,h=ar(n,Ni),p=!1,v=l((0,r.useState)("swiper"),2),m=v[0],y=v[1],g=l((0,r.useState)(null),2),w=g[0],k=g[1],b=l((0,r.useState)(!1),2),_=b[0],x=b[1],S=(0,r.useRef)(!1),E=(0,r.useRef)(null),T=(0,r.useRef)(null),I=(0,r.useRef)(null),C=(0,r.useRef)(null),N=(0,r.useRef)(null),A=(0,r.useRef)(null),P=(0,r.useRef)(null),O=(0,r.useRef)(null),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={on:{}},r={},i={};vi(n,li.defaults),vi(n,li.extendedDefaults),n._emitClasses=!0,n.init=!1;var a={},o=ki.map((function(e){return e.replace(/_/,"")})),s=Object.assign({},e);return Object.keys(s).forEach((function(s){"undefined"!==typeof e[s]&&(o.indexOf(s)>=0?pi(e[s])?(n[s]={},i[s]={},vi(n[s],e[s]),vi(i[s],e[s])):(n[s]=e[s],i[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"===typeof e[s]?t?r["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:n.on["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:a[s]=e[s])})),["navigation","pagination","scrollbar"].forEach((function(e){!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:i,rest:a,events:r}}(h),D=R.params,L=R.passedParams,M=R.rest,j=R.events,F=Si(c),U=F.slides,V=F.slots,q=function(){x(!_)};Object.assign(D.on,{_containerClasses:function(e,t){y(t)}});var B=function(){if(Object.assign(D.on,j),p=!0,T.current=new li(D),T.current.loopCreate=function(){},T.current.loopDestroy=function(){},D.loop&&(T.current.loopedSlides=bi(U,D)),T.current.virtual&&T.current.params.virtual.enabled){T.current.virtual.slides=U;var e={cache:!1,slides:U,renderExternal:k,renderExternalUpdate:!1};vi(T.current.params.virtual,e),vi(T.current.originalParams.virtual,e)}};E.current||B(),T.current&&T.current.on("_beforeBreakpoint",q);return(0,r.useEffect)((function(){return function(){T.current&&T.current.off("_beforeBreakpoint",q)}})),(0,r.useEffect)((function(){!S.current&&T.current&&(T.current.emitSlidesClasses(),S.current=!0)})),Ti((function(){if(t&&(t.current=E.current),E.current)return T.current.destroyed&&B(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,a=e.paginationEl,o=e.scrollbarEl,s=e.swiper;mi(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),yi(t)&&a&&(s.params.pagination.el=a,s.originalParams.pagination.el=a),gi(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:E.current,nextEl:N.current,prevEl:A.current,paginationEl:P.current,scrollbarEl:O.current,swiper:T.current},D),f&&f(T.current),function(){T.current&&!T.current.destroyed&&T.current.destroy(!0,!1)}}),[]),Ti((function(){!p&&j&&T.current&&Object.keys(j).forEach((function(e){T.current.on(e,j[e])}));var e=function(e,t,n,r,i){var a=[];if(!t)return a;var o=function(e){a.indexOf(e)<0&&a.push(e)};if(n&&r){var s=r.map(i),u=n.map(i);s.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return ki.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")})).forEach((function(n){if(n in e&&n in t)if(pi(e[n])&&pi(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?o(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})))}else e[n]!==t[n]&&o(n)})),a}(L,I.current,U,C.current,(function(e){return e.key}));return I.current=L,C.current=U,e.length&&T.current&&!T.current.destroyed&&Ei({swiper:T.current,slides:U,passedParams:L,changedParams:e,nextEl:N.current,prevEl:A.current,scrollbarEl:O.current,paginationEl:P.current}),function(){j&&T.current&&Object.keys(j).forEach((function(e){T.current.off(e,j[e])}))}})),Ti((function(){var e;!(e=T.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[w]),r.createElement(o,Ai({ref:E,className:wi("".concat(m).concat(i?" ".concat(i):""))},M),r.createElement(Ci.Provider,{value:T.current},V["container-start"],r.createElement(u,{className:"swiper-wrapper"},V["wrapper-start"],D.virtual?function(e,t,n){if(!n)return null;var i=e.isHorizontal()?tr({},e.rtlTranslate?"right":"left","".concat(n.offset,"px")):{top:"".concat(n.offset,"px")};return t.filter((function(e,t){return t>=n.from&&t<=n.to})).map((function(t){return r.cloneElement(t,{swiper:e,style:i})}))}(T.current,U,w):!D.loop||T.current&&T.current.destroyed?U.map((function(e){return r.cloneElement(e,{swiper:T.current})})):function(e,t,n){var i=t.map((function(t,n){return r.cloneElement(t,{swiper:e,"data-swiper-slide-index":n})}));function a(e,t,i){return r.cloneElement(e,{key:"".concat(e.key,"-duplicate-").concat(t,"-").concat(i),className:"".concat(e.props.className||""," ").concat(n.slideDuplicateClass)})}if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-i.length%n.slidesPerGroup;if(o!==n.slidesPerGroup)for(var s=0;s<o;s+=1){var u=r.createElement("div",{className:"".concat(n.slideClass," ").concat(n.slideBlankClass)});i.push(u)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length);for(var c=bi(i,n),l=[],f=[],h=0;h<c;h+=1){var p=h-Math.floor(h/i.length)*i.length;f.push(a(i[p],h,"append")),l.unshift(a(i[i.length-p-1],h,"prepend"))}return e&&(e.loopedSlides=c),[].concat(l,d(i),f)}(T.current,U,D),V["wrapper-end"]),mi(D)&&r.createElement(r.Fragment,null,r.createElement("div",{ref:A,className:"swiper-button-prev"}),r.createElement("div",{ref:N,className:"swiper-button-next"})),gi(D)&&r.createElement("div",{ref:O,className:"swiper-scrollbar"}),yi(D)&&r.createElement("div",{ref:P,className:"swiper-pagination"}),V["container-end"]))}));Pi.displayName="Swiper";var Oi=["tag","children","className","swiper","zoom","virtualIndex"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri.apply(this,arguments)}var Di=(0,r.forwardRef)((function(e,t){var n=void 0===e?{}:e,i=n.tag,a=void 0===i?"div":i,o=n.children,s=n.className,u=void 0===s?"":s,c=n.swiper,f=n.zoom,d=n.virtualIndex,h=ar(n,Oi),p=(0,r.useRef)(null),v=l((0,r.useState)("swiper-slide"),2),m=v[0],y=v[1];function g(e,t,n){t===p.current&&y(n)}Ti((function(){if(t&&(t.current=p.current),p.current&&c){if(!c.destroyed)return c.on("_slideClass",g),function(){c&&c.off("_slideClass",g)};"swiper-slide"!==m&&y("swiper-slide")}})),Ti((function(){c&&p.current&&!c.destroyed&&y(c.getSlideClasses(p.current))}),[c]);var w={isActive:m.indexOf("swiper-slide-active")>=0||m.indexOf("swiper-slide-duplicate-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isDuplicate:m.indexOf("swiper-slide-duplicate")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0||m.indexOf("swiper-slide-duplicate-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0||m.indexOf("swiper-slide-duplicate-next")>=0},k=function(){return"function"===typeof o?o(w):o};return r.createElement(a,Ri({ref:p,className:wi("".concat(m).concat(u?" ".concat(u):"")),"data-swiper-slide-index":d},h),r.createElement(Ii.Provider,{value:w},f?r.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof f?f:void 0},k()):k()))}));function Li(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Mi(e){return!!e&&!!e[Ta]}function ji(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ia}(e)||Array.isArray(e)||!!e[Ea]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Ea])||Wi(e)||Hi(e))}function Fi(e,t,n){void 0===n&&(n=!1),0===Ui(e)?(n?Object.keys:Ca)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Ui(e){var t=e[Ta];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Wi(e)?2:Hi(e)?3:0}function Vi(e,t){return 2===Ui(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qi(e,t){return 2===Ui(e)?e.get(t):e[t]}function Bi(e,t,n){var r=Ui(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function zi(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Wi(e){return ba&&e instanceof Map}function Hi(e){return _a&&e instanceof Set}function Gi(e){return e.o||e.t}function Ki(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Na(e);delete t[Ta];for(var n=Ca(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Qi(e,t){return void 0===t&&(t=!1),Yi(e)||Mi(e)||!ji(e)||(Ui(e)>1&&(e.set=e.add=e.clear=e.delete=$i),Object.freeze(e),t&&Fi(e,(function(e,t){return Qi(t,!0)}),!0)),e}function $i(){Li(2)}function Yi(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Xi(e){var t=Aa[e];return t||Li(18,e),t}function Ji(e,t){Aa[e]||(Aa[e]=t)}function Zi(){return wa}function ea(e,t){t&&(Xi("Patches"),e.u=[],e.s=[],e.v=t)}function ta(e){na(e),e.p.forEach(ia),e.p=null}function na(e){e===wa&&(wa=e.l)}function ra(e){return wa={p:[],l:wa,h:e,m:!0,_:0}}function ia(e){var t=e[Ta];0===t.i||1===t.i?t.j():t.O=!0}function aa(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Xi("ES5").S(t,e,r),r?(n[Ta].P&&(ta(t),Li(4)),ji(e)&&(e=oa(t,e),t.l||ua(t,e)),t.u&&Xi("Patches").M(n[Ta].t,e,t.u,t.s)):e=oa(t,n,[]),ta(t),t.u&&t.v(t.u,t.s),e!==Sa?e:void 0}function oa(e,t,n){if(Yi(t))return t;var r=t[Ta];if(!r)return Fi(t,(function(i,a){return sa(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ua(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Ki(r.k):r.o;Fi(3===r.i?new Set(i):i,(function(t,a){return sa(e,r,i,t,a,n)})),ua(e,i,!1),n&&e.u&&Xi("Patches").R(r,n,e.u,e.s)}return r.o}function sa(e,t,n,r,i,a){if(Mi(i)){var o=oa(e,i,a&&t&&3!==t.i&&!Vi(t.D,r)?a.concat(r):void 0);if(Bi(n,r,o),!Mi(o))return;e.m=!1}if(ji(i)&&!Yi(i)){if(!e.h.F&&e._<1)return;oa(e,i),t&&t.A.l||ua(e,i)}}function ua(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Qi(t,n)}function ca(e,t){var n=e[Ta];return(n?Gi(n):e)[t]}function la(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function fa(e){e.P||(e.P=!0,e.l&&fa(e.l))}function da(e){e.o||(e.o=Ki(e.t))}function ha(e,t,n){var r=Wi(t)?Xi("MapSet").N(t,n):Hi(t)?Xi("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Zi(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Pa;n&&(i=[r],a=Oa);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):Xi("ES5").J(t,n);return(n?n.A:Zi()).p.push(r),r}function pa(e){return Mi(e)||Li(22,e),function e(t){if(!ji(t))return t;var n,r=t[Ta],i=Ui(t);if(r){if(!r.P&&(r.i<4||!Xi("ES5").K(r)))return r.t;r.I=!0,n=va(t,i),r.I=!1}else n=va(t,i);return Fi(n,(function(t,i){r&&qi(r.t,t)===i||Bi(n,t,e(i))})),3===i?new Set(n):n}(e)}function va(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ki(e)}function ma(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ta];return Pa.get(t,e)},set:function(t){var n=this[Ta];Pa.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Ta];if(!i.P)switch(i.i){case 5:r(i)&&fa(i);break;case 4:n(i)&&fa(i)}}}function n(e){for(var t=e.t,n=e.k,r=Ca(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Ta){var o=t[a];if(void 0===o&&!Vi(t,a))return!0;var s=n[a],u=s&&s[Ta];if(u?u.t!==o:!zi(s,o))return!0}}var c=!!t[Ta];return r.length!==Ca(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Ji("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Na(n);delete a[Ta];for(var o=Ca(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Zi(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Ta,{value:a,writable:!0}),i},S:function(e,n,i){i?Mi(n)&&n[Ta].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ta];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)Fi(a,(function(t){t!==Ta&&(void 0!==i[t]||Vi(i,t)?o[t]||e(a[t]):(o[t]=!0,fa(n)))})),Fi(i,(function(e){void 0!==a[e]||Vi(a,e)||(o[e]=!1,fa(n))}));else if(5===s){if(r(n)&&(fa(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}function ya(){function e(t){if(!ji(t))return t;if(Array.isArray(t))return t.map(e);if(Wi(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(Hi(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return Vi(t,Ea)&&(n[Ea]=t[Ea]),n}function t(t){return Mi(t)?e(t):t}var n="add";Ji("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,a=r.op,o=t,s=0;s<i.length-1;s++){var u=Ui(o),c=""+i[s];0!==u&&1!==u||"__proto__"!==c&&"constructor"!==c||Li(24),"function"==typeof o&&"prototype"===c&&Li(24),"object"!=typeof(o=qi(o,c))&&Li(15,i.join("/"))}var l=Ui(o),f=e(r.value),d=i[i.length-1];switch(a){case"replace":switch(l){case 2:return o.set(d,f);case 3:Li(16);default:return o[d]=f}case n:switch(l){case 1:return"-"===d?o.push(f):o.splice(d,0,f);case 2:return o.set(d,f);case 3:return o.add(f);default:return o[d]=f}case"remove":switch(l){case 1:return o.splice(d,1);case 2:return o.delete(d);case 3:return o.delete(r.value);default:return delete o[d]}default:Li(17,a)}})),t},R:function(e,r,i,a){switch(e.i){case 0:case 4:case 2:return function(e,r,i,a){var o=e.t,s=e.o;Fi(e.D,(function(e,u){var c=qi(o,e),l=qi(s,e),f=u?Vi(o,e)?"replace":n:"remove";if(c!==l||"replace"!==f){var d=r.concat(e);i.push("remove"===f?{op:f,path:d}:{op:f,path:d,value:l}),a.push(f===n?{op:"remove",path:d}:"remove"===f?{op:n,path:d,value:t(c)}:{op:"replace",path:d,value:t(c)})}}))}(e,r,i,a);case 5:case 1:return function(e,r,i,a){var o=e.t,s=e.D,u=e.o;if(u.length<o.length){var c=[u,o];o=c[0],u=c[1];var l=[a,i];i=l[0],a=l[1]}for(var f=0;f<o.length;f++)if(s[f]&&u[f]!==o[f]){var d=r.concat([f]);i.push({op:"replace",path:d,value:t(u[f])}),a.push({op:"replace",path:d,value:t(o[f])})}for(var h=o.length;h<u.length;h++){var p=r.concat([h]);i.push({op:n,path:p,value:t(u[h])})}o.length<u.length&&a.push({op:"replace",path:r.concat(["length"]),value:o.length})}(e,r,i,a);case 3:return function(e,t,r,i){var a=e.t,o=e.o,s=0;a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);r.push({op:"remove",path:a,value:e}),i.unshift({op:n,path:a,value:e})}s++})),s=0,o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);r.push({op:n,path:o,value:e}),i.unshift({op:"remove",path:o,value:e})}s++}))}(e,r,i,a)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===Sa?void 0:t}),r.push({op:"replace",path:[],value:e})}})}Di.displayName="SwiperSlide";var ga,wa,ka="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ba="undefined"!=typeof Map,_a="undefined"!=typeof Set,xa="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Sa=ka?Symbol.for("immer-nothing"):((ga={})["immer-nothing"]=!0,ga),Ea=ka?Symbol.for("immer-draftable"):"__$immer_draftable",Ta=ka?Symbol.for("immer-state"):"__$immer_state",Ia=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ca="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Na=Object.getOwnPropertyDescriptors||function(e){var t={};return Ca(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Aa={},Pa={get:function(e,t){if(t===Ta)return e;var n=Gi(e);if(!Vi(n,t))return function(e,t,n){var r,i=la(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!ji(r)?r:r===ca(e.t,t)?(da(e),e.o[t]=ha(e.A.h,r,e)):r},has:function(e,t){return t in Gi(e)},ownKeys:function(e){return Reflect.ownKeys(Gi(e))},set:function(e,t,n){var r=la(Gi(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ca(Gi(e),t),a=null==i?void 0:i[Ta];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(zi(n,i)&&(void 0!==n||Vi(e.t,t)))return!0;da(e),fa(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ca(e.t,t)||t in e.t?(e.D[t]=!1,da(e),fa(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Gi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Li(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Li(12)}},Oa={};Fi(Pa,(function(e,t){Oa[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Oa.deleteProperty=function(e,t){return Oa.set.call(this,e,t,void 0)},Oa.set=function(e,t,n){return Pa.set.call(this,e[0],t,n,e[0])};var Ra=function(){function e(e){var t=this;this.g=xa,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Li(6),void 0!==r&&"function"!=typeof r&&Li(7),ji(e)){var s=ra(t),u=ha(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?ta(s):na(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return ea(s,r),aa(e,s)}),(function(e){throw ta(s),e})):(ea(s,r),aa(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Sa&&(o=void 0),t.F&&Qi(o,!0),r){var l=[],f=[];Xi("Patches").M(e,o,l,f),r(l,f)}return o}Li(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){ji(e)||Li(8),Mi(e)&&(e=pa(e));var t=ra(this),n=ha(this,e,void 0);return n[Ta].C=!0,na(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ta]).A;return ea(n,t),aa(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!xa&&Li(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Xi("Patches").$;return Mi(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Da=new Ra,La=Da.produce,Ma=Da.produceWithPatches.bind(Da),ja=(Da.setAutoFreeze.bind(Da),Da.setUseProxies.bind(Da),Da.applyPatches.bind(Da)),Fa=(Da.createDraft.bind(Da),Da.finishDraft.bind(Da),La);function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ba="function"===typeof Symbol&&Symbol.observable||"@@observable",za=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wa={INIT:"@@redux/INIT"+za(),REPLACE:"@@redux/REPLACE"+za(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+za()}};function Ha(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ga(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(qa(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(qa(1));return n(Ga)(e,t)}if("function"!==typeof e)throw new Error(qa(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(qa(3));return a}function f(e){if("function"!==typeof e)throw new Error(qa(4));if(u)throw new Error(qa(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(qa(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function d(e){if(!Ha(e))throw new Error(qa(7));if("undefined"===typeof e.type)throw new Error(qa(8));if(u)throw new Error(qa(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(qa(10));i=e,d({type:Wa.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(qa(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Ba]=function(){return this},e}return d({type:Wa.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[Ba]=p,r}function Ka(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Wa.INIT}))throw new Error(qa(12));if("undefined"===typeof n(void 0,{type:Wa.PROBE_UNKNOWN_ACTION()}))throw new Error(qa(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(qa(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Qa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function $a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(qa(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Qa.apply(void 0,a)(n.dispatch),Va(Va({},n),{},{dispatch:r})}}}function Ya(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Xa=Ya();Xa.withExtraArgument=Ya;var Ja=Xa,Za=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eo=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},to=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},no=Object.defineProperty,ro=Object.defineProperties,io=Object.getOwnPropertyDescriptors,ao=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,uo=function(e,t,n){return t in e?no(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},co=function(e,t){for(var n in t||(t={}))oo.call(t,n)&&uo(e,n,t[n]);if(ao)for(var r=0,i=ao(t);r<i.length;r++){n=i[r];so.call(t,n)&&uo(e,n,t[n])}return e},lo=function(e,t){return ro(e,io(t))},fo=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},ho="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Qa:Qa.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function po(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var vo=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Za(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,to([void 0],e[0].concat(this)))):new(t.bind.apply(t,to([void 0],e.concat(this))))},t}(Array);function mo(e){return ji(e)?Fa(e,(function(){})):e}function yo(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new vo);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ja.withExtraArgument(n.extraArgument)):r.push(Ja));0;return r}(e)}}function go(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return co(co({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function wo(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ko(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:mo(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?wo(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=co(co({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?wo(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return mo(e())};else{var c=mo(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=to([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(Mi(e))return void 0===(r=n(e,t))?e:r;if(ji(e))return Fa(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?go(c,r):go(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var bo=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},_o=["name","message","stack","code"],xo=function(e,t){this.payload=e,this.meta=t},So=function(e,t){this.payload=e,this.meta=t},Eo=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=_o;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},To=function(){function e(e,t,n){var r=go(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:lo(co({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=go(e+"/pending",(function(e,t,n){return{payload:void 0,meta:lo(co({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=go(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Eo)(e||"Rejected"),meta:lo(co({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):bo(),d=new o;function h(e){l=e,d.abort()}var p=function(){return fo(this,null,(function(){var o,p,v,m,y,g;return eo(this,(function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}))?[4,m]:[3,2];case 1:m=w.sent(),w.label=2;case 2:if(!1===m||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:d.signal,abort:h,rejectWithValue:function(e,t){return new xo(e,t)},fulfillWithValue:function(e,t){return new So(e,t)}})).then((function(t){if(t instanceof xo)throw t;return t instanceof So?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=w.sent(),[3,5];case 4:return g=w.sent(),v=g instanceof xo?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}}))}))}();return Object.assign(p,{abort:h,requestId:f,arg:e,unwrap:function(){return p.then(Io)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function Io(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Co=function(e,t){return function(e){return e&&"function"===typeof e.match}(e)?e.match(t):e(t)};function No(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return Co(e,t)}))}}function Ao(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return Co(e,t)}))}}function Po(e,t){if(!e||!e.meta)return!1;var n="string"===typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Oo(e){return"function"===typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Ro(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Po(e,["pending"])}:Oo(e)?function(t){var n=e.map((function(e){return e.pending}));return No.apply(void 0,n)(t)}:Ro()(e[0])}function Do(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Po(e,["rejected"])}:Oo(e)?function(t){var n=e.map((function(e){return e.rejected}));return No.apply(void 0,n)(t)}:Do()(e[0])}function Lo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||Oo(e)?function(t){return Ao(Do.apply(void 0,e),n)(t)}:Lo()(e[0])}function Mo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Po(e,["fulfilled"])}:Oo(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return No.apply(void 0,n)(t)}:Mo()(e[0])}function jo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Po(e,["pending","fulfilled","rejected"])}:Oo(e)?function(t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];n.push(a.pending,a.rejected,a.fulfilled)}return No.apply(void 0,n)(t)}:jo()(e[0])}Object.assign;var Fo="listenerMiddleware";go(Fo+"/add"),go(Fo+"/removeAll"),go(Fo+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Uo,Vo=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Vo(10);ma();var qo="NOT_FOUND";var Bo=function(e,t){return e===t};function zo(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?Bo:r,a=n.maxSize,o=void 0===a?1:a,s=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:qo},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return qo}return{get:r,put:function(t,i){r(t)===qo&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,u);function l(){var t=c.get(arguments);if(t===qo){if(t=e.apply(null,arguments),s){var n=c.getEntries(),r=n.find((function(e){return s(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function Wo(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function Ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,s={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(s=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s,l=c.memoizeOptions,f=void 0===l?n:l,d=Array.isArray(f)?f:[f],h=Wo(r),p=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(d)),v=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(v,{resultFunc:u,memoizedResultFunc:p,dependencies:h,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var Go,Ko,Qo=Ho(zo),$o=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Yo=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Xo=Object.defineProperty,Jo=Object.defineProperties,Zo=Object.getOwnPropertyDescriptors,es=Object.getOwnPropertySymbols,ts=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable,rs=function(e,t,n){return t in e?Xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},is=function(e,t){for(var n in t||(t={}))ts.call(t,n)&&rs(e,n,t[n]);if(es)for(var r=0,i=es(t);r<i.length;r++){n=i[r];ns.call(t,n)&&rs(e,n,t[n])}return e},as=function(e,t){return Jo(e,Zo(t))},os=function(e,t){var n={};for(var r in e)ts.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&es)for(var i=0,a=es(e);i<a.length;i++){r=a[i];t.indexOf(r)<0&&ns.call(e,r)&&(n[r]=e[r])}return n},ss=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))};(Ko=Go||(Go={})).uninitialized="uninitialized",Ko.pending="pending",Ko.fulfilled="fulfilled",Ko.rejected="rejected";function us(e,t){if(!e)return t;if(!t)return e;if(function(e){return new RegExp("(^|:)//").test(e)}(t))return t;var n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=function(e){return e.replace(/\/$/,"")}(e),""+e+n+(t=function(e){return e.replace(/^\//,"")}(t))}var cs=function(e){return[].concat.apply([],e)};var ls=po;function fs(e,t){if(e===t||!(ls(e)&&ls(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),r=Object.keys(e),i=n.length===r.length,a=Array.isArray(t)?[]:{},o=0,s=n;o<s.length;o++){var u=s[o];a[u]=fs(e[u],t[u]),i&&(i=e[u]===a[u])}return i?e:a}var ds=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},hs=function(e){return e.status>=200&&e.status<=299},ps=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function vs(e){if(!po(e))return e;for(var t=is({},e),n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],a=i[0];void 0===i[1]&&delete t[a]}return t}var ms=function(e,t){void 0===t&&(t=void 0),this.value=e,this.meta=t};var ys,gs,ws=go("__rtkq/focused"),ks=go("__rtkq/unfocused"),bs=go("__rtkq/online"),_s=go("__rtkq/offline");function xs(e){return e.type===ys.query}function Ss(e,t,n,r,i,a){return function(e){return"function"===typeof e}(e)?e(t,n,r,i).map(Es).map(a):Array.isArray(e)?e.map(Es).map(a):[]}function Es(e){return"string"===typeof e?{type:e}:e}function Ts(e){return null!=e}(gs=ys||(ys={})).query="query",gs.mutation="mutation";var Is=Symbol("forceQueryFn"),Cs=function(e){return"function"===typeof e[Is]};function Ns(e){return e}function As(e,t,n,r){return Ss(n[e.meta.arg.endpointName][t],Mo(e)?e.payload:void 0,Lo(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function Ps(e,t,n){var r=e[t];r&&n(r)}function Os(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function Rs(e,t,n){var r=e[Os(t)];r&&n(r)}var Ds={};function Ls(e){var t=e.reducerPath,n=e.queryThunk,r=e.mutationThunk,i=e.context,a=i.endpointDefinitions,o=i.apiUid,s=i.extractRehydrationInfo,u=i.hasRehydrationInfo,c=e.assertTagType,l=e.config,f=go(t+"/resetApiState"),d=ko({name:t+"/queries",initialState:Ds,reducers:{removeQueryResult:{reducer:function(e,t){delete e[t.payload.queryCacheKey]},prepare:function(e){var t;return{payload:e,meta:(t={},t.RTK_autoBatch=!0,t)}}},queryResultPatched:function(e,t){var n=t.payload,r=n.queryCacheKey,i=n.patches;Ps(e,r,(function(e){e.data=ja(e.data,i.concat())}))}},extraReducers:function(e){e.addCase(n.pending,(function(e,t){var n,r=t.meta,i=t.meta.arg,a=Cs(i);(i.subscribe||a)&&(null!=e[n=i.queryCacheKey]||(e[n]={status:Go.uninitialized,endpointName:i.endpointName})),Ps(e,i.queryCacheKey,(function(e){e.status=Go.pending,e.requestId=a&&e.requestId?e.requestId:r.requestId,void 0!==i.originalArgs&&(e.originalArgs=i.originalArgs),e.startedTimeStamp=r.startedTimeStamp}))})).addCase(n.fulfilled,(function(e,t){var n=t.meta,r=t.payload;Ps(e,n.arg.queryCacheKey,(function(e){var t;if(e.requestId===n.requestId||Cs(n.arg)){var i=a[n.arg.endpointName].merge;if(e.status=Go.fulfilled,i)if(void 0!==e.data){var o=n.fulfilledTimeStamp,s=n.arg,u=n.baseQueryMeta,c=n.requestId,l=Fa(e.data,(function(e){return i(e,r,{arg:s.originalArgs,baseQueryMeta:u,fulfilledTimeStamp:o,requestId:c})}));e.data=l}else e.data=r;else e.data=null==(t=a[n.arg.endpointName].structuralSharing)||t?fs(e.data,r):r;delete e.error,e.fulfilledTimeStamp=n.fulfilledTimeStamp}}))})).addCase(n.rejected,(function(e,t){var n=t.meta,r=n.condition,i=n.arg,a=n.requestId,o=t.error,s=t.payload;Ps(e,i.queryCacheKey,(function(e){if(r);else{if(e.requestId!==a)return;e.status=Go.rejected,e.error=null!=s?s:o}}))})).addMatcher(u,(function(e,t){for(var n=s(t).queries,r=0,i=Object.entries(n);r<i.length;r++){var a=i[r],o=a[0],u=a[1];(null==u?void 0:u.status)!==Go.fulfilled&&(null==u?void 0:u.status)!==Go.rejected||(e[o]=u)}}))}}),h=ko({name:t+"/mutations",initialState:Ds,reducers:{removeMutationResult:{reducer:function(e,t){var n=Os(t.payload);n in e&&delete e[n]},prepare:function(e){var t;return{payload:e,meta:(t={},t.RTK_autoBatch=!0,t)}}}},extraReducers:function(e){e.addCase(r.pending,(function(e,t){var n=t.meta,r=t.meta,i=r.requestId,a=r.arg,o=r.startedTimeStamp;a.track&&(e[Os(n)]={requestId:i,status:Go.pending,endpointName:a.endpointName,startedTimeStamp:o})})).addCase(r.fulfilled,(function(e,t){var n=t.payload,r=t.meta;r.arg.track&&Rs(e,r,(function(e){e.requestId===r.requestId&&(e.status=Go.fulfilled,e.data=n,e.fulfilledTimeStamp=r.fulfilledTimeStamp)}))})).addCase(r.rejected,(function(e,t){var n=t.payload,r=t.error,i=t.meta;i.arg.track&&Rs(e,i,(function(e){e.requestId===i.requestId&&(e.status=Go.rejected,e.error=null!=n?n:r)}))})).addMatcher(u,(function(e,t){for(var n=s(t).mutations,r=0,i=Object.entries(n);r<i.length;r++){var a=i[r],o=a[0],u=a[1];(null==u?void 0:u.status)!==Go.fulfilled&&(null==u?void 0:u.status)!==Go.rejected||o===(null==u?void 0:u.requestId)||(e[o]=u)}}))}}),p=ko({name:t+"/invalidation",initialState:Ds,reducers:{},extraReducers:function(e){e.addCase(d.actions.removeQueryResult,(function(e,t){for(var n=t.payload.queryCacheKey,r=0,i=Object.values(e);r<i.length;r++)for(var a=i[r],o=0,s=Object.values(a);o<s.length;o++){var u=s[o],c=u.indexOf(n);-1!==c&&u.splice(c,1)}})).addMatcher(u,(function(e,t){for(var n,r,i,a,o=s(t).provided,u=0,c=Object.entries(o);u<c.length;u++)for(var l=c[u],f=l[0],d=l[1],h=0,p=Object.entries(d);h<p.length;h++)for(var v=p[h],m=v[0],y=v[1],g=null!=(a=(r=null!=(n=e[f])?n:e[f]={})[i=m||"__internal_without_id"])?a:r[i]=[],w=0,k=y;w<k.length;w++){var b=k[w];g.includes(b)||g.push(b)}})).addMatcher(No(Mo(n),Lo(n)),(function(e,t){for(var n,r,i,o,s=As(t,"providesTags",a,c),u=t.meta.arg.queryCacheKey,l=0,f=Object.values(e);l<f.length;l++)for(var d=f[l],h=0,p=Object.values(d);h<p.length;h++){var v=p[h],m=v.indexOf(u);-1!==m&&v.splice(m,1)}for(var y=0,g=s;y<g.length;y++){var w=g[y],k=w.type,b=w.id,_=null!=(o=(r=null!=(n=e[k])?n:e[k]={})[i=b||"__internal_without_id"])?o:r[i]=[];_.includes(u)||_.push(u)}}))}}),v=ko({name:t+"/subscriptions",initialState:Ds,reducers:{updateSubscriptionOptions:function(e,t){},unsubscribeQueryResult:function(e,t){},internal_probeSubscription:function(e,t){}}}),m=ko({name:t+"/internalSubscriptions",initialState:Ds,reducers:{subscriptionsUpdated:function(e,t){return ja(e,t.payload)}}}),y=ko({name:t+"/config",initialState:is({online:"undefined"===typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"===typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},l),reducers:{middlewareRegistered:function(e,t){var n=t.payload;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&o===n||"conflict"}},extraReducers:function(e){e.addCase(bs,(function(e){e.online=!0})).addCase(_s,(function(e){e.online=!1})).addCase(ws,(function(e){e.focused=!0})).addCase(ks,(function(e){e.focused=!1})).addMatcher(u,(function(e){return is({},e)}))}}),g=Ka({queries:d.reducer,mutations:h.reducer,provided:p.reducer,subscriptions:m.reducer,config:y.reducer});return{reducer:function(e,t){return g(f.match(t)?void 0:e,t)},actions:as(is(is(is(is(is({},y.actions),d.actions),v.actions),m.actions),h.actions),{unsubscribeMutationResult:h.actions.removeMutationResult,resetApiState:f})}}var Ms=Symbol.for("RTKQ/skipToken"),js={status:Go.uninitialized},Fs=Fa(js,(function(){})),Us=Fa(js,(function(){}));function Vs(e){var t=e.serializeQueryArgs,n=e.reducerPath,r=function(e){return Fs},i=function(e){return Us};return{buildQuerySelector:function(e,n){return function(i){var s=t({queryArgs:i,endpointDefinition:n,endpointName:e}),u=i===Ms?r:function(e){var t,n,r;return null!=(r=null==(n=null==(t=o(e))?void 0:t.queries)?void 0:n[s])?r:Fs};return Qo(u,a)}},buildMutationSelector:function(){return function(e){var t,n,r=(n="object"===typeof e?null!=(t=Os(e))?t:Ms:e)===Ms?i:function(e){var t,r,i;return null!=(i=null==(r=null==(t=o(e))?void 0:t.mutations)?void 0:r[n])?i:Us};return Qo(r,a)}},selectInvalidatedBy:function(e,t){for(var r,i=e[n],a=new Set,o=0,s=t.map(Es);o<s.length;o++){var u=s[o],c=i.provided[u.type];if(c)for(var l=null!=(r=void 0!==u.id?c[u.id]:cs(Object.values(c)))?r:[],f=0,d=l;f<d.length;f++){var h=d[f];a.add(h)}}return cs(Array.from(a.values()).map((function(e){var t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))}};function a(e){return is(is({},e),{status:t=e.status,isUninitialized:t===Go.uninitialized,isLoading:t===Go.pending,isSuccess:t===Go.fulfilled,isError:t===Go.rejected});var t}function o(e){return e[n]}}var qs=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,(function(e,t){return po(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))+")"};function Bs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=zo((function(e){var n,r;return null==(r=t.extractRehydrationInfo)?void 0:r.call(t,e,{reducerPath:null!=(n=t.reducerPath)?n:"api"})})),r=as(is({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{extractRehydrationInfo:n,serializeQueryArgs:function(e){var n=qs;if("serializeQueryArgs"in e.endpointDefinition){var r=e.endpointDefinition.serializeQueryArgs;n=function(e){var t=r(e);return"string"===typeof t?t:qs(as(is({},e),{queryArgs:t}))}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:Yo([],t.tagTypes||[])}),i={endpointDefinitions:{},batch:function(e){e()},apiUid:bo(),extractRehydrationInfo:n,hasRehydrationInfo:zo((function(e){return null!=n(e)}))},a={injectEndpoints:function(e){for(var t=e.endpoints({query:function(e){return as(is({},e),{type:ys.query})},mutation:function(e){return as(is({},e),{type:ys.mutation})}}),n=0,r=Object.entries(t);n<r.length;n++){var s=r[n],u=s[0],c=s[1];if(e.overrideExisting||!(u in i.endpointDefinitions)){i.endpointDefinitions[u]=c;for(var l=0,f=o;l<f.length;l++){f[l].injectEndpoint(u,c)}}}return a},enhanceEndpoints:function(e){var t=e.addTagTypes,n=e.endpoints;if(t)for(var o=0,s=t;o<s.length;o++){var u=s[o];r.tagTypes.includes(u)||r.tagTypes.push(u)}if(n)for(var c=0,l=Object.entries(n);c<l.length;c++){var f=l[c],d=f[0],h=f[1];"function"===typeof h?h(i.endpointDefinitions[d]):Object.assign(i.endpointDefinitions[d]||{},h)}return a}},o=e.map((function(e){return e.init(a,r,i)}));return a.injectEndpoints({endpoints:t.endpoints})}}var zs,Ws=function(e){var t=e.reducerPath,n=e.api,r=e.context,i=e.internalState,a=n.internalActions,o=a.removeQueryResult,s=a.unsubscribeQueryResult;function u(e){var t=i.currentSubscriptions[e];return!!t&&!function(e){for(var t in e)return!1;return!0}(t)}var c={};function l(e,t,n,i){var a,s=r.endpointDefinitions[t],l=null!=(a=null==s?void 0:s.keepUnusedDataFor)?a:i.keepUnusedDataFor;if(l!==1/0){var f=Math.max(0,Math.min(l,2147482.647));if(!u(e)){var d=c[e];d&&clearTimeout(d),c[e]=setTimeout((function(){u(e)||n.dispatch(o({queryCacheKey:e})),delete c[e]}),1e3*f)}}}return function(e,i,a){var o;if(s.match(e)){var u=i.getState()[t];l(k=e.payload.queryCacheKey,null==(o=u.queries[k])?void 0:o.endpointName,i,u.config)}if(n.util.resetApiState.match(e))for(var f=0,d=Object.entries(c);f<d.length;f++){var h=d[f],p=h[0],v=h[1];v&&clearTimeout(v),delete c[p]}if(r.hasRehydrationInfo(e)){u=i.getState()[t];for(var m=r.extractRehydrationInfo(e).queries,y=0,g=Object.entries(m);y<g.length;y++){var w=g[y],k=w[0],b=w[1];l(k,null==b?void 0:b.endpointName,i,u.config)}}}},Hs=function(e){var t=e.reducerPath,n=e.context,r=e.context.endpointDefinitions,i=e.mutationThunk,a=e.api,o=e.assertTagType,s=e.refetchQuery,u=a.internalActions.removeQueryResult,c=No(Mo(i),Lo(i));function l(e,r){var i=r.getState(),o=i[t],c=a.util.selectInvalidatedBy(i,e);n.batch((function(){for(var e,t=0,n=Array.from(c.values());t<n.length;t++){var i=n[t].queryCacheKey,a=o.queries[i],l=null!=(e=o.subscriptions[i])?e:{};a&&(0===Object.keys(l).length?r.dispatch(u({queryCacheKey:i})):a.status!==Go.uninitialized&&r.dispatch(s(a,i)))}}))}return function(e,t){c(e)&&l(As(e,"invalidatesTags",r,o),t),a.util.invalidateTags.match(e)&&l(Ss(e.payload,void 0,void 0,void 0,void 0,o),t)}},Gs=function(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,i=e.refetchQuery,a=e.internalState,o={};function s(e,n){var r=e.queryCacheKey,s=n.getState()[t].queries[r],u=a.currentSubscriptions[r];if(s&&s.status!==Go.uninitialized){var c=l(u);if(Number.isFinite(c)){var f=o[r];(null==f?void 0:f.timeout)&&(clearTimeout(f.timeout),f.timeout=void 0);var d=Date.now()+c,h=o[r]={nextPollTimestamp:d,pollingInterval:c,timeout:setTimeout((function(){h.timeout=void 0,n.dispatch(i(s,r))}),c)}}}}function u(e,n){var r=e.queryCacheKey,i=n.getState()[t].queries[r],u=a.currentSubscriptions[r];if(i&&i.status!==Go.uninitialized){var f=l(u);if(Number.isFinite(f)){var d=o[r],h=Date.now()+f;(!d||h<d.nextPollTimestamp)&&s({queryCacheKey:r},n)}else c(r)}}function c(e){var t=o[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete o[e]}function l(e){void 0===e&&(e={});var t=Number.POSITIVE_INFINITY;for(var n in e)e[n].pollingInterval&&(t=Math.min(e[n].pollingInterval,t));return t}return function(e,t){(r.internalActions.updateSubscriptionOptions.match(e)||r.internalActions.unsubscribeQueryResult.match(e))&&u(e.payload,t),(n.pending.match(e)||n.rejected.match(e)&&e.meta.condition)&&u(e.meta.arg,t),(n.fulfilled.match(e)||n.rejected.match(e)&&!e.meta.condition)&&s(e.meta.arg,t),r.util.resetApiState.match(e)&&function(){for(var e=0,t=Object.keys(o);e<t.length;e++){c(t[e])}}()}},Ks=new Error("Promise never resolved before cacheEntryRemoved."),Qs=function(e){var t=e.api,n=e.reducerPath,r=e.context,i=e.queryThunk,a=e.mutationThunk,o=(e.internalState,jo(i)),s=jo(a),u=Mo(i,a),c={};function l(e,n,i,a,o){var s=r.endpointDefinitions[e],u=null==s?void 0:s.onCacheEntryAdded;if(u){var l={},f=new Promise((function(e){l.cacheEntryRemoved=e})),d=Promise.race([new Promise((function(e){l.valueResolved=e})),f.then((function(){throw Ks}))]);d.catch((function(){})),c[i]=l;var h=t.endpoints[e].select(s.type===ys.query?n:i),p=a.dispatch((function(e,t,n){return n})),v=as(is({},a),{getCacheEntry:function(){return h(a.getState())},requestId:o,extra:p,updateCachedData:s.type===ys.query?function(r){return a.dispatch(t.util.updateQueryData(e,n,r))}:void 0,cacheDataLoaded:d,cacheEntryRemoved:f}),m=u(n,v);Promise.resolve(m).catch((function(e){if(e!==Ks)throw e}))}}return function(e,r,f){var d=function(e){return o(e)?e.meta.arg.queryCacheKey:s(e)?e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?Os(e.payload):""}(e);if(i.pending.match(e)){var h=f[n].queries[d],p=r.getState()[n].queries[d];!h&&p&&l(e.meta.arg.endpointName,e.meta.arg.originalArgs,d,r,e.meta.requestId)}else if(a.pending.match(e)){(p=r.getState()[n].mutations[d])&&l(e.meta.arg.endpointName,e.meta.arg.originalArgs,d,r,e.meta.requestId)}else if(u(e)){(null==(w=c[d])?void 0:w.valueResolved)&&(w.valueResolved({data:e.payload,meta:e.meta.baseQueryMeta}),delete w.valueResolved)}else if(t.internalActions.removeQueryResult.match(e)||t.internalActions.removeMutationResult.match(e)){(w=c[d])&&(delete c[d],w.cacheEntryRemoved())}else if(t.util.resetApiState.match(e))for(var v=0,m=Object.entries(c);v<m.length;v++){var y=m[v],g=y[0],w=y[1];delete c[g],w.cacheEntryRemoved()}}},$s=function(e){var t=e.api,n=e.context,r=e.queryThunk,i=e.mutationThunk,a=Ro(r,i),o=Do(r,i),s=Mo(r,i),u={};return function(e,r){var i,c,l;if(a(e)){var f=e.meta,d=f.requestId,h=f.arg,p=h.endpointName,v=h.originalArgs,m=n.endpointDefinitions[p],y=null==m?void 0:m.onQueryStarted;if(y){var g={},w=new Promise((function(e,t){g.resolve=e,g.reject=t}));w.catch((function(){})),u[d]=g;var k=t.endpoints[p].select(m.type===ys.query?v:d),b=r.dispatch((function(e,t,n){return n})),_=as(is({},r),{getCacheEntry:function(){return k(r.getState())},requestId:d,extra:b,updateCachedData:m.type===ys.query?function(e){return r.dispatch(t.util.updateQueryData(p,v,e))}:void 0,queryFulfilled:w});y(v,_)}}else if(s(e)){var x=e.meta,S=(d=x.requestId,x.baseQueryMeta);null==(i=u[d])||i.resolve({data:e.payload,meta:S}),delete u[d]}else if(o(e)){var E=e.meta,T=(d=E.requestId,E.rejectedWithValue);S=E.baseQueryMeta;null==(l=u[d])||l.reject({error:null!=(c=e.payload)?c:e.error,isUnhandledError:!T,meta:S}),delete u[d]}}},Ys=function(e){var t=e.api,n=e.context.apiUid;e.reducerPath;return function(e,r){t.util.resetApiState.match(e)&&r.dispatch(t.internalActions.middlewareRegistered(n))}},Xs="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis):function(e){return(zs||(zs=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},Js=function(e){var t=e.api,n=e.queryThunk,r=e.internalState,i=t.reducerPath+"/subscriptions",a=null,o=!1,s=t.internalActions,u=s.updateSubscriptionOptions,c=s.unsubscribeQueryResult;return function(e,s){var l,f;if(a||(a=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.internalActions.internal_probeSubscription.match(e)){var d=e.payload,h=d.queryCacheKey,p=d.requestId;return[!1,!!(null==(l=r.currentSubscriptions[h])?void 0:l[p])]}var v=function(e,r){var i,a,o,s,l,f,d,h,p;if(u.match(r)){var v=r.payload,m=v.queryCacheKey,y=v.requestId,g=v.options;return(null==(i=null==e?void 0:e[m])?void 0:i[y])&&(e[m][y]=g),!0}if(c.match(r)){var w=r.payload;return m=w.queryCacheKey,y=w.requestId,e[m]&&delete e[m][y],!0}if(t.internalActions.removeQueryResult.match(r))return delete e[r.payload.queryCacheKey],!0;if(n.pending.match(r)){var k=r.meta,b=k.arg;if(y=k.requestId,b.subscribe)return(_=null!=(o=e[a=b.queryCacheKey])?o:e[a]={})[y]=null!=(l=null!=(s=b.subscriptionOptions)?s:_[y])?l:{},!0}if(n.rejected.match(r)){var _,x=r.meta,S=x.condition;if(b=x.arg,y=x.requestId,S&&b.subscribe)return(_=null!=(d=e[f=b.queryCacheKey])?d:e[f]={})[y]=null!=(p=null!=(h=b.subscriptionOptions)?h:_[y])?p:{},!0}return!1}(r.currentSubscriptions,e);if(v){o||(Xs((function(){var e=JSON.parse(JSON.stringify(r.currentSubscriptions)),n=Ma(a,(function(){return e}))[1];s.next(t.internalActions.subscriptionsUpdated(n)),a=e,o=!1})),o=!0);var m=!!(null==(f=e.type)?void 0:f.startsWith(i)),y=n.rejected.match(e)&&e.meta.condition&&!!e.meta.arg.subscribe;return[!m&&!y,!1]}return[!0,!1]}};function Zs(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,i=e.context,a=i.apiUid,o={invalidateTags:go(t+"/invalidateTags")},s=[Ys,Ws,Hs,Gs,Qs,$s];return{middleware:function(n){var o=!1,c=as(is({},e),{internalState:{currentSubscriptions:{}},refetchQuery:u}),l=s.map((function(e){return e(c)})),f=Js(c),d=function(e){var t=e.reducerPath,n=e.context,r=e.api,i=e.refetchQuery,a=e.internalState,o=r.internalActions.removeQueryResult;function s(e,r){var s=e.getState()[t],u=s.queries,c=a.currentSubscriptions;n.batch((function(){for(var t=0,n=Object.keys(c);t<n.length;t++){var a=n[t],l=u[a],f=c[a];f&&l&&(Object.values(f).some((function(e){return!0===e[r]}))||Object.values(f).every((function(e){return void 0===e[r]}))&&s.config[r])&&(0===Object.keys(f).length?e.dispatch(o({queryCacheKey:a})):l.status!==Go.uninitialized&&e.dispatch(i(l,a)))}}))}return function(e,t){ws.match(e)&&s(t,"refetchOnFocus"),bs.match(e)&&s(t,"refetchOnReconnect")}}(c);return function(e){return function(s){o||(o=!0,n.dispatch(r.internalActions.middlewareRegistered(a)));var u,c=as(is({},n),{next:e}),h=n.getState(),p=f(s,c,h),v=p[0],m=p[1];if(u=v?e(s):m,n.getState()[t]&&(d(s,c,h),function(e){return!!e&&"string"===typeof e.type&&e.type.startsWith(t+"/")}(s)||i.hasRehydrationInfo(s)))for(var y=0,g=l;y<g.length;y++){(0,g[y])(s,c,h)}return u}}},actions:o};function u(e,t,r){return void 0===r&&(r={}),n(is({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},r))}}function eu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,Yo([e],t))}var tu=Symbol(),nu=function(){return{name:tu,init:function(e,t,n){var r=t.baseQuery,i=(t.tagTypes,t.reducerPath),a=t.serializeQueryArgs,o=t.keepUnusedDataFor,s=t.refetchOnMountOrArgChange,u=t.refetchOnFocus,c=t.refetchOnReconnect;ya();var l=function(e){return e};Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:bs,onOffline:_s,onFocus:ws,onFocusLost:ks},util:{}});var f=function(e){var t=this,n=e.reducerPath,r=e.baseQuery,i=e.context.endpointDefinitions,a=e.serializeQueryArgs,o=e.api,s=function(e,n){return ss(t,[e,n],(function(e,t){var n,a,o,s,c,l,f,d,h,p,v,m,y,g=t.signal,w=t.abort,k=t.rejectWithValue,b=t.fulfillWithValue,_=t.dispatch,x=t.getState,S=t.extra;return $o(this,(function(t){switch(t.label){case 0:n=i[e.endpointName],t.label=1;case 1:return t.trys.push([1,8,,13]),a=Ns,o=void 0,s={signal:g,abort:w,dispatch:_,getState:x,extra:S,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?u(e,x()):void 0},(c="query"===e.type?e[Is]:void 0)?(o=c(),[3,6]):[3,2];case 2:return n.query?[4,r(n.query(e.originalArgs),s,n.extraOptions)]:[3,4];case 3:return o=t.sent(),n.transformResponse&&(a=n.transformResponse),[3,6];case 4:return[4,n.queryFn(e.originalArgs,s,n.extraOptions,(function(e){return r(e,s,n.extraOptions)}))];case 5:o=t.sent(),t.label=6;case 6:if(o.error)throw new ms(o.error,o.meta);return l=b,[4,a(o.data,o.meta,e.originalArgs)];case 7:return[2,l.apply(void 0,[t.sent(),(m={fulfilledTimeStamp:Date.now(),baseQueryMeta:o.meta},m.RTK_autoBatch=!0,m)])];case 8:if(f=t.sent(),!((d=f)instanceof ms))return[3,12];h=Ns,n.query&&n.transformErrorResponse&&(h=n.transformErrorResponse),t.label=9;case 9:return t.trys.push([9,11,,12]),p=k,[4,h(d.value,d.meta,e.originalArgs)];case 10:return[2,p.apply(void 0,[t.sent(),(y={baseQueryMeta:d.meta},y.RTK_autoBatch=!0,y)])];case 11:return v=t.sent(),d=v,[3,12];case 12:throw console.error(d),d;case 13:return[2]}}))}))};function u(e,t){var r,i,a,o,s=null==(i=null==(r=t[n])?void 0:r.queries)?void 0:i[e.queryCacheKey],u=null==(a=t[n])?void 0:a.config.refetchOnMountOrArgChange,c=null==s?void 0:s.fulfilledTimeStamp,l=null!=(o=e.forceRefetch)?o:e.subscribe&&u;return!!l&&(!0===l||(Number(new Date)-Number(c))/1e3>=l)}var c=To(n+"/executeQuery",s,{getPendingMeta:function(){var e;return(e={startedTimeStamp:Date.now()}).RTK_autoBatch=!0,e},condition:function(e,t){var r,a,o,s=(0,t.getState)(),c=null==(a=null==(r=s[n])?void 0:r.queries)?void 0:a[e.queryCacheKey],l=null==c?void 0:c.fulfilledTimeStamp,f=e.originalArgs,d=null==c?void 0:c.originalArgs,h=i[e.endpointName];return!!Cs(e)||"pending"!==(null==c?void 0:c.status)&&(!!u(e,s)||!(!xs(h)||!(null==(o=null==h?void 0:h.forceRefetch)?void 0:o.call(h,{currentArg:f,previousArg:d,endpointState:c,state:s})))||!l)},dispatchConditionRejection:!0}),l=To(n+"/executeMutation",s,{getPendingMeta:function(){var e;return(e={startedTimeStamp:Date.now()}).RTK_autoBatch=!0,e}});function f(e){return function(t){var n,r;return(null==(r=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:r.endpointName)===e}}return{queryThunk:c,mutationThunk:l,prefetch:function(e,t,n){return function(r,i){var a=function(e){return"force"in e}(n)&&n.force,s=function(e){return"ifOlderThan"in e}(n)&&n.ifOlderThan,u=function(n){return void 0===n&&(n=!0),o.endpoints[e].initiate(t,{forceRefetch:n})},c=o.endpoints[e].select(t)(i());if(a)r(u());else if(s){var l=null==c?void 0:c.fulfilledTimeStamp;if(!l)return void r(u());(Number(new Date)-Number(new Date(l)))/1e3>=s&&r(u())}else r(u(!1))}},updateQueryData:function(e,t,n){return function(r,i){var a,s,u=o.endpoints[e].select(t)(i()),c={patches:[],inversePatches:[],undo:function(){return r(o.util.patchQueryData(e,t,c.inversePatches))}};if(u.status===Go.uninitialized)return c;if("data"in u)if(ji(u.data)){var l=Ma(u.data,n),f=l[1],d=l[2];(a=c.patches).push.apply(a,f),(s=c.inversePatches).push.apply(s,d)}else{var h=n(u.data);c.patches.push({op:"replace",path:[],value:h}),c.inversePatches.push({op:"replace",path:[],value:u.data})}return r(o.util.patchQueryData(e,t,c.patches)),c}},upsertQueryData:function(e,t,n){return function(r){var i;return r(o.endpoints[e].initiate(t,((i={subscribe:!1,forceRefetch:!0})[Is]=function(){return{data:n}},i)))}},patchQueryData:function(e,t,n){return function(r){var s=i[e];r(o.internalActions.queryResultPatched({queryCacheKey:a({queryArgs:t,endpointDefinition:s,endpointName:e}),patches:n}))}},buildMatchThunkActions:function(e,t){return{matchPending:Ao(Ro(e),f(t)),matchFulfilled:Ao(Mo(e),f(t)),matchRejected:Ao(Do(e),f(t))}}}}({baseQuery:r,reducerPath:i,context:n,api:e,serializeQueryArgs:a}),d=f.queryThunk,h=f.mutationThunk,p=f.patchQueryData,v=f.updateQueryData,m=f.upsertQueryData,y=f.prefetch,g=f.buildMatchThunkActions,w=Ls({context:n,queryThunk:d,mutationThunk:h,reducerPath:i,assertTagType:l,config:{refetchOnFocus:u,refetchOnReconnect:c,refetchOnMountOrArgChange:s,keepUnusedDataFor:o,reducerPath:i}}),k=w.reducer,b=w.actions;eu(e.util,{patchQueryData:p,updateQueryData:v,upsertQueryData:m,prefetch:y,resetApiState:b.resetApiState}),eu(e.internalActions,b);var _=Zs({reducerPath:i,context:n,queryThunk:d,mutationThunk:h,api:e,assertTagType:l}),x=_.middleware,S=_.actions;eu(e.util,S),eu(e,{reducer:k,middleware:x});var E=Vs({serializeQueryArgs:a,reducerPath:i}),T=E.buildQuerySelector,I=E.buildMutationSelector,C=E.selectInvalidatedBy;eu(e.util,{selectInvalidatedBy:C});var N=function(e){var t=e.serializeQueryArgs,n=e.queryThunk,r=e.mutationThunk,i=e.api,a=e.context,o=new Map,s=new Map,u=i.internalActions,c=u.unsubscribeQueryResult,l=u.removeMutationResult,f=u.updateSubscriptionOptions;return{buildInitiateQuery:function(e,r){return function a(s,u){var l=void 0===u?{}:u,h=l.subscribe,p=void 0===h||h,v=l.forceRefetch,m=l.subscriptionOptions,y=l[Is];return function(u,l){var h,g,w=t({queryArgs:s,endpointDefinition:r,endpointName:e}),k=n(((h={type:"query",subscribe:p,forceRefetch:v,subscriptionOptions:m,endpointName:e,originalArgs:s,queryCacheKey:w})[Is]=y,h)),b=i.endpoints[e].select(s),_=u(k),x=b(l());d(u);var S=_.requestId,E=_.abort,T=x.requestId!==S,I=null==(g=o.get(u))?void 0:g[w],C=function(){return b(l())},N=Object.assign(y?_.then(C):T&&!I?Promise.resolve(x):Promise.all([I,_]).then(C),{arg:s,requestId:S,subscriptionOptions:m,queryCacheKey:w,abort:E,unwrap:function(){return ss(this,null,(function(){var e;return $o(this,(function(t){switch(t.label){case 0:return[4,N];case 1:if((e=t.sent()).isError)throw e.error;return[2,e.data]}}))}))},refetch:function(){return u(a(s,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){p&&u(c({queryCacheKey:w,requestId:S}))},updateSubscriptionOptions:function(t){N.subscriptionOptions=t,u(f({endpointName:e,requestId:S,queryCacheKey:w,options:t}))}});if(!I&&!T&&!y){var A=o.get(u)||{};A[w]=N,o.set(u,A),N.then((function(){delete A[w],Object.keys(A).length||o.delete(u)}))}return N}}},buildInitiateMutation:function(e){return function(t,n){var i=void 0===n?{}:n,a=i.track,o=void 0===a||a,u=i.fixedCacheKey;return function(n,i){var a=r({type:"mutation",endpointName:e,originalArgs:t,track:o,fixedCacheKey:u}),c=n(a);d(n);var f=c.requestId,h=c.abort,p=c.unwrap,v=c.unwrap().then((function(e){return{data:e}})).catch((function(e){return{error:e}})),m=function(){n(l({requestId:f,fixedCacheKey:u}))},y=Object.assign(v,{arg:c.arg,requestId:f,abort:h,unwrap:p,unsubscribe:m,reset:m}),g=s.get(n)||{};return s.set(n,g),g[f]=y,y.then((function(){delete g[f],Object.keys(g).length||s.delete(n)})),u&&(g[u]=y,y.then((function(){g[u]===y&&(delete g[u],Object.keys(g).length||s.delete(n))}))),y}}},getRunningQueryThunk:function(e,n){return function(r){var i,s=a.endpointDefinitions[e],u=t({queryArgs:n,endpointDefinition:s,endpointName:e});return null==(i=o.get(r))?void 0:i[u]}},getRunningMutationThunk:function(e,t){return function(e){var n;return null==(n=s.get(e))?void 0:n[t]}},getRunningQueriesThunk:function(){return function(e){return Object.values(o.get(e)||{}).filter(Ts)}},getRunningMutationsThunk:function(){return function(e){return Object.values(s.get(e)||{}).filter(Ts)}},getRunningOperationPromises:function(){var e=function(e){return Array.from(e.values()).flatMap((function(e){return e?Object.values(e):[]}))};return Yo(Yo([],e(o)),e(s)).filter(Ts)},removalWarning:function(){throw new Error("This method had to be removed due to a conceptual bug in RTK.\n       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.\n       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.")}};function d(e){}}({queryThunk:d,mutationThunk:h,api:e,serializeQueryArgs:a,context:n}),A=N.buildInitiateQuery,P=N.buildInitiateMutation,O=N.getRunningMutationThunk,R=N.getRunningMutationsThunk,D=N.getRunningQueriesThunk,L=N.getRunningQueryThunk,M=N.getRunningOperationPromises,j=N.removalWarning;return eu(e.util,{getRunningOperationPromises:M,getRunningOperationPromise:j,getRunningMutationThunk:O,getRunningMutationsThunk:R,getRunningQueryThunk:L,getRunningQueriesThunk:D}),{name:tu,injectEndpoint:function(t,n){var r,i=e;null!=(r=i.endpoints)[t]||(r[t]={}),xs(n)?eu(i.endpoints[t],{name:t,select:T(t,n),initiate:A(t,n)},g(d,t)):function(e){return e.type===ys.mutation}(n)&&eu(i.endpoints[t],{name:t,select:I(),initiate:P(t)},g(h,t))}}}}},ru=(nu(),function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}),iu=Object.defineProperty,au=Object.defineProperties,ou=Object.getOwnPropertyDescriptors,su=Object.getOwnPropertySymbols,uu=Object.prototype.hasOwnProperty,cu=Object.prototype.propertyIsEnumerable,lu=function(e,t,n){return t in e?iu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},fu=function(e,t){for(var n in t||(t={}))uu.call(t,n)&&lu(e,n,t[n]);if(su)for(var r=0,i=su(t);r<i.length;r++){n=i[r];cu.call(t,n)&&lu(e,n,t[n])}return e},du=function(e,t){return au(e,ou(t))};function hu(e,t,n,i){var a=(0,r.useMemo)((function(){return{queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:i}):e}}),[e,t,n,i]),o=(0,r.useRef)(a);return(0,r.useEffect)((function(){o.current.serialized!==a.serialized&&(o.current=a)}),[a]),o.current.serialized===a.serialized?o.current.queryArgs:e}var pu=Symbol();function vu(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){ft(t.current,e)||(t.current=e)}),[e]),ft(t.current,e)?t.current:e}var mu,yu=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,(function(e,t){return po(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))+")"},gu="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,wu=function(e){return e},ku=function(e){return e.isUninitialized?du(fu({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:Go.pending}):e};function bu(e){return e.replace(e[0],e[0].toUpperCase())}function _u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,ru([e],t))}!function(e){e.query="query",e.mutation="mutation"}(mu||(mu={}));var xu=Symbol();var Su=Bs(nu(),function(e){var t=void 0===e?{}:e,n=t.batch,i=void 0===n?He.unstable_batchedUpdates:n,a=t.useDispatch,o=void 0===a?ct:a,s=t.useSelector,u=void 0===s?et:s,c=t.useStore,l=void 0===c?ot:c,f=t.unstable__sideEffectsInRender,d=void 0!==f&&f;return{name:xu,init:function(e,t,n){var a=t.serializeQueryArgs,s=e,c=function(e){var t=e.api,n=e.moduleOptions,i=n.batch,a=n.useDispatch,o=n.useSelector,s=n.useStore,u=n.unstable__sideEffectsInRender,c=e.serializeQueryArgs,l=e.context,f=u?function(e){return e()}:r.useEffect;return{buildQueryHooks:function(e){var n=function(n,i){var o=void 0===i?{}:i,s=o.refetchOnReconnect,u=o.refetchOnFocus,c=o.refetchOnMountOrArgChange,d=o.skip,h=void 0!==d&&d,p=o.pollingInterval,v=void 0===p?0:p,m=t.endpoints[e].initiate,y=a(),g=hu(h?Ms:n,yu,l.endpointDefinitions[e],e),w=vu({refetchOnReconnect:s,refetchOnFocus:u,pollingInterval:v}),k=(0,r.useRef)(!1),b=(0,r.useRef)(),_=b.current||{},x=_.queryCacheKey,S=_.requestId,E=!1;if(x&&S){var T=y(t.internalActions.internal_probeSubscription({queryCacheKey:x,requestId:S}));E=!!T}var I=!E&&k.current;return f((function(){k.current=E})),f((function(){b.current=void 0}),[I]),f((function(){var e,t=b.current;if(g===Ms)return null==t||t.unsubscribe(),void(b.current=void 0);var n=null==(e=b.current)?void 0:e.subscriptionOptions;if(t&&t.arg===g)w!==n&&t.updateSubscriptionOptions(w);else{null==t||t.unsubscribe();var r=y(m(g,{subscriptionOptions:w,forceRefetch:c}));b.current=r}}),[y,m,c,g,w,I]),(0,r.useEffect)((function(){return function(){var e;null==(e=b.current)||e.unsubscribe(),b.current=void 0}}),[]),(0,r.useMemo)((function(){return{refetch:function(){var e;if(!b.current)throw new Error("Cannot refetch a query that has not been started yet.");return null==(e=b.current)?void 0:e.refetch()}}}),[])},u=function(n){var o=void 0===n?{}:n,s=o.refetchOnReconnect,u=o.refetchOnFocus,c=o.pollingInterval,l=void 0===c?0:c,d=t.endpoints[e].initiate,h=a(),p=(0,r.useState)(pu),v=p[0],m=p[1],y=(0,r.useRef)(),g=vu({refetchOnReconnect:s,refetchOnFocus:u,pollingInterval:l});f((function(){var e,t,n=null==(e=y.current)?void 0:e.subscriptionOptions;g!==n&&(null==(t=y.current)||t.updateSubscriptionOptions(g))}),[g]);var w=(0,r.useRef)(g);f((function(){w.current=g}),[g]);var k=(0,r.useCallback)((function(e,t){var n;return void 0===t&&(t=!1),i((function(){var r;null==(r=y.current)||r.unsubscribe(),y.current=n=h(d(e,{subscriptionOptions:w.current,forceRefetch:!t})),m(e)})),n}),[h,d]);return(0,r.useEffect)((function(){return function(){var e;null==(e=null==y?void 0:y.current)||e.unsubscribe()}}),[]),(0,r.useEffect)((function(){v===pu||y.current||k(v,!0)}),[v,k]),(0,r.useMemo)((function(){return[k,v]}),[k,v])},h=function(n,i){var a=void 0===i?{}:i,u=a.skip,f=void 0!==u&&u,h=a.selectFromResult,p=t.endpoints[e].select,v=hu(f?Ms:n,c,l.endpointDefinitions[e],e),m=(0,r.useRef)(),y=(0,r.useMemo)((function(){return Qo([p(v),function(e,t){return t},function(e){return v}],d)}),[p,v]),g=(0,r.useMemo)((function(){return h?Qo([y],h):y}),[y,h]),w=o((function(e){return g(e,m.current)}),ft),k=s(),b=y(k.getState(),m.current);return gu((function(){m.current=b}),[b]),w};return{useQueryState:h,useQuerySubscription:n,useLazyQuerySubscription:u,useLazyQuery:function(e){var t=u(e),n=t[0],i=t[1],a=h(i,du(fu({},e),{skip:i===pu})),o=(0,r.useMemo)((function(){return{lastArg:i}}),[i]);return(0,r.useMemo)((function(){return[n,a,o]}),[n,a,o])},useQuery:function(e,t){var i=n(e,t),a=h(e,fu({selectFromResult:e===Ms||(null==t?void 0:t.skip)?void 0:ku},t)),o=a.data,s=a.status,u=a.isLoading,c=a.isSuccess,l=a.isError,f=a.error;return(0,r.useDebugValue)({data:o,status:s,isLoading:u,isSuccess:c,isError:l,error:f}),(0,r.useMemo)((function(){return fu(fu({},a),i)}),[a,i])}}},buildMutationHook:function(e){return function(n){var s=void 0===n?{}:n,u=s.selectFromResult,c=void 0===u?wu:u,l=s.fixedCacheKey,f=t.endpoints[e],d=f.select,h=f.initiate,p=a(),v=(0,r.useState)(),m=v[0],y=v[1];(0,r.useEffect)((function(){return function(){(null==m?void 0:m.arg.fixedCacheKey)||null==m||m.reset()}}),[m]);var g=(0,r.useCallback)((function(e){var t=p(h(e,{fixedCacheKey:l}));return y(t),t}),[p,h,l]),w=(m||{}).requestId,k=(0,r.useMemo)((function(){return Qo([d({fixedCacheKey:l,requestId:null==m?void 0:m.requestId})],c)}),[d,m,c,l]),b=o(k,ft),_=null==l?null==m?void 0:m.arg.originalArgs:void 0,x=(0,r.useCallback)((function(){i((function(){m&&y(void 0),l&&p(t.internalActions.removeMutationResult({requestId:w,fixedCacheKey:l}))}))}),[p,l,m,w]),S=b.endpointName,E=b.data,T=b.status,I=b.isLoading,C=b.isSuccess,N=b.isError,A=b.error;(0,r.useDebugValue)({endpointName:S,data:E,status:T,isLoading:I,isSuccess:C,isError:N,error:A});var P=(0,r.useMemo)((function(){return du(fu({},b),{originalArgs:_,reset:x})}),[b,_,x]);return(0,r.useMemo)((function(){return[g,P]}),[g,P])}},usePrefetch:function(e,n){var i=a(),o=vu(n);return(0,r.useCallback)((function(n,r){return i(t.util.prefetch(e,n,fu(fu({},o),r)))}),[e,i,o])}};function d(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){var r=t.endpointName,i=l.endpointDefinitions[r];c({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:r})===c({queryArgs:n,endpointDefinition:i,endpointName:r})&&(t=void 0)}n===Ms&&(t=void 0);var a=e.isSuccess?e.data:null==t?void 0:t.data;void 0===a&&(a=e.data);var o=void 0!==a,s=e.isLoading,u=!o&&s,f=e.isSuccess||s&&o;return du(fu({},e),{data:a,currentData:e.data,isFetching:s,isLoading:u,isSuccess:f})}}({api:e,moduleOptions:{batch:i,useDispatch:o,useSelector:u,useStore:l,unstable__sideEffectsInRender:d},serializeQueryArgs:a,context:n}),f=c.buildQueryHooks,h=c.buildMutationHook,p=c.usePrefetch;return _u(s,{usePrefetch:p}),_u(n,{batch:i}),{injectEndpoint:function(t,n){if(function(e){return e.type===mu.query}(n)){var r=f(t),i=r.useQuery,a=r.useLazyQuery,o=r.useLazyQuerySubscription,u=r.useQueryState,c=r.useQuerySubscription;_u(s.endpoints[t],{useQuery:i,useLazyQuery:a,useLazyQuerySubscription:o,useQueryState:u,useQuerySubscription:c}),e["use"+bu(t)+"Query"]=i,e["useLazy"+bu(t)+"Query"]=a}else if(function(e){return e.type===mu.mutation}(n)){var l=h(t);_u(s.endpoints[t],{useMutation:l}),e["use"+bu(t)+"Mutation"]=l}}}}}}()),Eu=Su({reducerPath:"spotifyApi",baseQuery:function(e){var t=this;void 0===e&&(e={});var n=e,r=n.baseUrl,i=n.prepareHeaders,a=void 0===i?function(e){return e}:i,o=n.fetchFn,s=void 0===o?ds:o,u=n.paramsSerializer,c=n.isJsonContentType,l=void 0===c?ps:c,f=n.jsonContentType,d=void 0===f?"application/json":f,h=n.timeout,p=n.validateStatus,v=os(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","timeout","validateStatus"]);return"undefined"===typeof fetch&&s===ds&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(e,n){return ss(t,null,(function(){var t,i,o,c,f,y,g,w,k,b,_,x,S,E,T,I,C,N,A,P,O,R,D,L,M,j,F,U,V,q,B,z,W,H,G,K,Q,$,Y,X;return $o(this,(function(J){switch(J.label){case 0:return t=n.signal,i=n.getState,o=n.extra,c=n.endpoint,f=n.forced,y=n.type,k=(w="string"==typeof e?{url:e}:e).url,b=w.method,_=void 0===b?"GET":b,x=w.headers,S=void 0===x?new Headers(v.headers):x,E=w.body,T=void 0===E?void 0:E,I=w.params,C=void 0===I?void 0:I,N=w.responseHandler,A=void 0===N?"json":N,P=w.validateStatus,O=void 0===P?null!=p?p:hs:P,R=w.timeout,D=void 0===R?h:R,L=os(w,["url","method","headers","body","params","responseHandler","validateStatus","timeout"]),M=is(as(is({},v),{method:_,signal:t,body:T}),L),S=new Headers(vs(S)),j=M,[4,a(S,{getState:i,extra:o,endpoint:c,forced:f,type:y})];case 1:j.headers=J.sent()||S,F=function(e){return"object"===typeof e&&(po(e)||Array.isArray(e)||"function"===typeof e.toJSON)},!M.headers.has("content-type")&&F(T)&&M.headers.set("content-type",d),F(T)&&l(M.headers)&&(M.body=JSON.stringify(T)),C&&(U=~k.indexOf("?")?"&":"?",V=u?u(C):new URLSearchParams(vs(C)),k+=U+V),k=us(r,k),q=new Request(k,M),B=q.clone(),g={request:B},W=!1,H=D&&setTimeout((function(){W=!0,n.abort()}),D),J.label=2;case 2:return J.trys.push([2,4,5,6]),[4,s(q)];case 3:return z=J.sent(),[3,6];case 4:return G=J.sent(),[2,{error:{status:W?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(G)},meta:g}];case 5:return H&&clearTimeout(H),[7];case 6:K=z.clone(),g.response=K,$="",J.label=7;case 7:return J.trys.push([7,9,,10]),[4,Promise.all([m(z,A).then((function(e){return Q=e}),(function(e){return Y=e})),K.text().then((function(e){return $=e}),(function(){}))])];case 8:if(J.sent(),Y)throw Y;return[3,10];case 9:return X=J.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:z.status,data:$,error:String(X)},meta:g}];case 10:return[2,O(z,Q)?{data:Q,meta:g}:{error:{status:z.status,data:Q},meta:g}]}}))}))};function m(e,t){return ss(this,null,(function(){var n;return $o(this,(function(r){switch(r.label){case 0:return"function"===typeof t?[2,t(e)]:("content-type"===t&&(t=l(e.headers)?"json":"text"),"json"!==t?[3,2]:[4,e.text()]);case 1:return[2,(n=r.sent()).length?JSON.parse(n):null];case 2:return[2,e.text()]}}))}))}}({baseUrl:"https://api.spotify.com/v1",mode:"cors",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}),endpoints:function(e){return{getNewRelease:e.query({query:function(){return"/browse/new-releases?country=VN&limit=5"}}),getTrendingTracks:e.query({query:function(){return"/playlists/37i9dQZEVXbMDoHDwVN2tF"}}),getArtistDetails:e.query({query:function(e){return"artists/".concat(e)}}),getArtistsTopTracks:e.query({query:function(e){var t=e.artistId;return"/artists/".concat(t,"/top-tracks")}}),getSongDetails:e.query({query:function(e){var t=e.songid;return"/tracks/".concat(t)}}),getCategories:e.query({query:function(){return"/browse/categories"}})}}});Eu.useGetNewReleaseQuery,Eu.useGetTrendingTracksQuery,Eu.useGetArtistDetailsQuery,Eu.useGetArtistsTopTracksQuery,Eu.useGetSongDetailsQuery,Eu.useGetCategoriesQuery;Xn("https://accounts.spotify.com/api/token",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("331ec2d4422e40158118ed7027542e1b:cdbfe903116848bf98cf47ad3ab24f22")},data:"grant_type=client_credentials",method:"POST"}).then((function(e){localStorage.setItem("token",JSON.stringify(e.data.access_token))}));var Tu={baseURL:"https://api.spotify.com/v1"},Iu=JSON.parse(localStorage.getItem("token")),Cu=Xn.create({baseURL:Tu.baseURL,headers:{Authorization:"Bearer "+Iu}});Cu.interceptors.request.use(function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Cu.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){throw e}));var Nu={getCategoryPlaylist:function(){var e=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/browse/categories/".concat(t,"/playlists"),{method:"GET",headers:{Authorization:"Bearer "+n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getCategories:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/browse/categories",{method:"GET",headers:{Authorization:"Bearer "+t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNewRelease:function(e){return Xn("https://api.spotify.com/v1/browse/new-releases?country=VN&limit=5",{method:"GET",headers:{Authorization:"Bearer "+e}})},getTrendingTrack:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/playlists/37i9dQZEVXbMDoHDwVN2tF",{method:"GET",headers:{Authorization:"Bearer "+t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTodayTopHits:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/playlists/37i9dQZF1DXcBWIGoYBM5M/tracks",{method:"GET",headers:{Authorization:"Bearer "+t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPlaylistCoverImage:function(){var e=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/playlists/".concat(t,"/images"),{method:"GET",headers:{Authorization:"Bearer "+n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPlaylist:function(){var e=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/playlists/".concat(t),{method:"GET",headers:{Authorization:"Bearer "+n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getArtistDetails:function(){var e=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/artists/".concat(t),{method:"GET",headers:{Authorization:"Bearer "+n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getArtistsTopTracks:function(){var e=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?market=ES"),{method:"GET",headers:{Authorization:"Bearer "+n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getSeveralArtists:function(){var e=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/artists?ids=".concat(t),{method:"GET",mode:"cors",headers:{Authorization:"Bearer "+n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAlbums:function(){var e=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn("https://api.spotify.com/v1/artists/".concat(t,"/albums"),{method:"GET",headers:{Authorization:"Bearer "+n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Au=Nu,Pu=ht().bind({wrapper:"SlideCard_wrapper__ld7nn","wrapper-button--explore":"SlideCard_wrapper-button--explore__CJAS+"});var Ou=function(e){var t=e.data,n=l((0,r.useState)(t.images),2),i=n[0],a=(n[1],i.find((function(e){return e.height=300})).url);return(0,Jn.jsx)("div",{className:Pu("wrapper"),style:{backgroundImage:"url(".concat(a,")")},children:(0,Jn.jsx)("button",{className:Pu("wrapper-button--explore"),children:"Explore now"})})};function Ru(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function Du(){return Du="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ru(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Du.apply(this,arguments)}function Lu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var Mu=!1,ju=!1,Fu="${JSCORE_VERSION}",Uu=function(e,t){if(!e)throw Vu(t)},Vu=function(e){return new Error("Firebase Database ("+Fu+") INTERNAL ASSERT FAILED: "+e)},qu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Bu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zu=function(e){var t=qu(e);return Bu.encodeByteArray(t,!0)},Wu=function(e){return zu(e).replace(/\./g,"")},Hu=function(e){try{return Bu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Gu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Gu(e[n],t[n]));return e}function Ku(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Qu(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ku())}function $u(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Yu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Xu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ju(){var e=Ku();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zu(){return!0===Mu||!0===ju}function ec(){try{return"object"===typeof indexedDB}catch(e){return!1}}var tc=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},nc=function(){try{return tc()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/free-music-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDn_mGk2G-DqWB0lfJ-83tL_fCOVbfknoQ",REACT_APP_FIREBASE_APP_ID:"1:987512357874:web:e3206c04fb94664a28e16b",REACT_APP_FIREBASE_AUTH_DOMAIN:"free-music-player-23c8e.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://free-music-player-23c8e-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-V0YG68W21R",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"987512357874",REACT_APP_FIREBASE_PROJECT_ID:"free-music-player-23c8e",REACT_APP_FIREBASE_STORAGE_BUCKET:"free-music-player-23c8e.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Hu(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},rc=function(e){var t=function(e){var t,n;return null===(n=null===(t=nc())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},ic=function(){var e;return null===(e=nc())||void 0===e?void 0:e.config},ac=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function oc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wu(JSON.stringify({alg:"none",type:"JWT"})),Wu(JSON.stringify(a)),""].join(".")}var sc=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(b(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(a),uc.prototype.create),a}return v(n)}(E(Error)),uc=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?cc(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new sc(n,a,t);return o}}]),e}();function cc(e,t){return e.replace(lc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var lc=/\{\$([^}]+)}/g;function fc(e){return JSON.parse(e)}function dc(e){return JSON.stringify(e)}var hc=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=fc(Hu(a[0])||""),n=fc(Hu(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function pc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vc(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function mc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yc(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function gc(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(wc(s)&&wc(u)){if(!gc(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function wc(e){return null!==e&&"object"===typeof e}function kc(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function bc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function _c(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var xc=function(){function e(){h(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return v(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=d^l&(f^d),u=1518500249):(s=l^f^d,u=1859775393):p<60?(s=l&f|d&(l|f),u=2400959708):(s=l^f^d,u=3395469782);var v=(c<<5|c>>>27)+s+h+u+n[p]&4294967295;h=d,d=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Sc(e,t){var n=new Ec(e,t);return n.subscribe.bind(n)}var Ec=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Lu(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Tc),void 0===r.error&&(r.error=Tc),void 0===r.complete&&(r.complete=Tc);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Tc(){}function Ic(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Cc=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Nc(e){return e&&e._delegate?e._delegate:e}var Ac=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Pc="[DEFAULT]",Oc=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ac;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pc})}catch(u){}var t,n=Lu(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Lu(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Lu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(wP){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Pc?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(wP){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc;return this.component?this.component.multipleInstances?e:Pc:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Rc,Dc,Lc=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Oc(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mc=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dc||(Dc={}));var jc={debug:Dc.DEBUG,verbose:Dc.VERBOSE,info:Dc.INFO,warn:Dc.WARN,error:Dc.ERROR,silent:Dc.SILENT},Fc=Dc.INFO,Uc=(tr(Rc={},Dc.DEBUG,"log"),tr(Rc,Dc.VERBOSE,"log"),tr(Rc,Dc.INFO,"info"),tr(Rc,Dc.WARN,"warn"),tr(Rc,Dc.ERROR,"error"),Rc),Vc=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Uc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},qc=function(){function e(t){h(this,e),this.name=t,this._logLevel=Fc,this._logHandler=Vc,this._userLogHandler=null,Mc.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Dc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?jc[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dc.DEBUG].concat(t)),this._logHandler.apply(this,[this,Dc.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dc.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Dc.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dc.INFO].concat(t)),this._logHandler.apply(this,[this,Dc.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dc.WARN].concat(t)),this._logHandler.apply(this,[this,Dc.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dc.ERROR].concat(t)),this._logHandler.apply(this,[this,Dc.ERROR].concat(t))}}]),e}();var Bc,zc;var Wc=new WeakMap,Hc=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,Qc=new WeakMap;var $c={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Hc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jc(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Yc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zc||(zc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zc(this),n),Jc(Wc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jc(e.apply(Zc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Zc(this),t].concat(r));return Gc.set(a,t.sort?t.sort():[t]),Jc(a)}}function Xc(e){return"function"===typeof e?Yc(e):(e instanceof IDBTransaction&&function(e){if(!Hc.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Hc.set(e,t)}}(e),t=e,(Bc||(Bc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,$c):e);var t}function Jc(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Jc(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Wc.set(t,e)})).catch((function(){})),Qc.set(t,e),t}(e);if(Kc.has(e))return Kc.get(e);var t=Xc(e);return t!==e&&(Kc.set(e,t),Qc.set(t,e)),t}var Zc=function(e){return Qc.get(e)};var el,tl,nl,rl=["get","getKey","getAll","getAllKeys","count"],il=["put","add","delete","clear"],al=new Map;function ol(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(al.get(t))return al.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=il.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rl.includes(n))){var a=function(){var e=ir(nr().mark((function e(t){var a,o,s,u,c,l,f=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return al.set(t,a),a}}}el=function(e){return Va(Va({},e),{},{get:function(t,n,r){return ol(t,n)||e.get(t,n,r)},has:function(t,n){return!!ol(t,n)||e.has(t,n)}})},$c=el($c);var sl=function(){function e(t){h(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ul="@firebase/app",cl="0.9.0",ll=new qc("@firebase/app"),fl="[DEFAULT]",dl=(tr(tl={},ul,"fire-core"),tr(tl,"@firebase/app-compat","fire-core-compat"),tr(tl,"@firebase/analytics","fire-analytics"),tr(tl,"@firebase/analytics-compat","fire-analytics-compat"),tr(tl,"@firebase/app-check","fire-app-check"),tr(tl,"@firebase/app-check-compat","fire-app-check-compat"),tr(tl,"@firebase/auth","fire-auth"),tr(tl,"@firebase/auth-compat","fire-auth-compat"),tr(tl,"@firebase/database","fire-rtdb"),tr(tl,"@firebase/database-compat","fire-rtdb-compat"),tr(tl,"@firebase/functions","fire-fn"),tr(tl,"@firebase/functions-compat","fire-fn-compat"),tr(tl,"@firebase/installations","fire-iid"),tr(tl,"@firebase/installations-compat","fire-iid-compat"),tr(tl,"@firebase/messaging","fire-fcm"),tr(tl,"@firebase/messaging-compat","fire-fcm-compat"),tr(tl,"@firebase/performance","fire-perf"),tr(tl,"@firebase/performance-compat","fire-perf-compat"),tr(tl,"@firebase/remote-config","fire-rc"),tr(tl,"@firebase/remote-config-compat","fire-rc-compat"),tr(tl,"@firebase/storage","fire-gcs"),tr(tl,"@firebase/storage-compat","fire-gcs-compat"),tr(tl,"@firebase/firestore","fire-fst"),tr(tl,"@firebase/firestore-compat","fire-fst-compat"),tr(tl,"fire-js","fire-js"),tr(tl,"firebase","fire-js-all"),tl),hl=new Map,pl=new Map;function vl(e,t){try{e.container.addComponent(t)}catch(n){ll.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ml(e,t){e.container.addOrOverwriteComponent(t)}function yl(e){var t=e.name;if(pl.has(t))return ll.debug("There were multiple attempts to register component ".concat(t,".")),!1;pl.set(t,e);var n,r=Lu(hl.values());try{for(r.s();!(n=r.n()).done;){vl(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function gl(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fl;gl(e,t).clearInstance(n)}function kl(){pl.clear()}var bl=(tr(nl={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),tr(nl,"bad-app-name","Illegal App name: '{$appName}"),tr(nl,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),tr(nl,"app-deleted","Firebase App named '{$appName}' already deleted"),tr(nl,"no-options","Need to provide options, when not being deployed to hosting via source."),tr(nl,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),tr(nl,"invalid-log-argument","First argument to `onLog` must be null or a function."),tr(nl,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),tr(nl,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),tr(nl,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),tr(nl,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),nl),_l=new uc("app","Firebase",bl),xl=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ac("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _l.create("app-deleted",{appName:this._name})}}]),e}(),Sl="9.15.0";function El(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:fl,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw _l.create("bad-app-name",{appName:String(a)});if(n||(n=ic()),!n)throw _l.create("no-options");var o=hl.get(a);if(o){if(gc(n,o.options)&&gc(i,o.config))return o;throw _l.create("duplicate-app",{appName:a})}var s,u=new Lc(a),c=Lu(pl.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var f=new xl(n,i,u);return hl.set(a,f),f}function Tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl,t=hl.get(e);if(!t&&e===fl)return El();if(!t)throw _l.create("no-app",{appName:e});return t}function Il(){return Array.from(hl.values())}function Cl(e){return Nl.apply(this,arguments)}function Nl(){return Nl=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!hl.has(n)){e.next=6;break}return hl.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}function Al(e,t,n){var r,i=null!==(r=dl[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ll.warn(s.join(" "))}yl(new Ac("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Pl(e,t){if(null!==e&&"function"!==typeof e)throw _l.create("invalid-log-argument");!function(e,t){var n,r=Lu(Mc);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=jc[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Dc[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ol(e){var t;t=e,Mc.forEach((function(e){e.setLogLevel(t)}))}var Rl="firebase-heartbeat-store",Dl=null;function Ll(){return Dl||(Dl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Jc(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Jc(s.result),e.oldVersion,e.newVersion,Jc(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rl)}}).catch((function(e){throw _l.create("idb-open",{originalErrorMessage:e.message})}))),Dl}function Ml(e){return jl.apply(this,arguments)}function jl(){return jl=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ll();case 3:return n=e.sent,e.abrupt("return",n.transaction(Rl).objectStore(Rl).get(Vl(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof sc?ll.warn(e.t0.message):(r=_l.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ll.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),jl.apply(this,arguments)}function Fl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=ir(nr().mark((function e(t,n){var r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ll();case 3:return r=e.sent,i=r.transaction(Rl,"readwrite"),a=i.objectStore(Rl),e.next=8,a.put(n,Vl(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof sc?ll.warn(e.t0.message):(o=_l.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ll.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ul.apply(this,arguments)}function Vl(e){return"".concat(e.name,"!").concat(e.options.appId)}var ql=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Hl(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=ir(nr().mark((function e(){var t,n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Bl(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ir(nr().mark((function e(){var t,n,r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Bl(),n=zl(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Wu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bl(){return(new Date).toISOString().substring(0,10)}function zl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Lu(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Gl(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Gl(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Wl,Hl=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ec()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(DL){t(DL)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ml(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fl(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fl(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Gl(e){return Wu(JSON.stringify({version:2,heartbeats:e})).length}Wl="",yl(new Ac("platform-logger",(function(e){return new sl(e)}),"PRIVATE")),yl(new Ac("heartbeat",(function(e){return new ql(e)}),"PRIVATE")),Al(ul,cl,Wl),Al(ul,cl,"esm2017"),Al("fire-js","");function Kl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ql;Object.create;var $l="facebook.com",Yl="github.com",Xl="google.com",Jl="password",Zl="twitter.com",ef="EMAIL_SIGNIN",tf="PASSWORD_RESET",nf="RECOVER_EMAIL",rf="REVERT_SECOND_FACTOR_ADDITION",af="VERIFY_AND_CHANGE_EMAIL",of="VERIFY_EMAIL";function sf(){return tr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var uf=function(){var e;return tr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),tr(e,"argument-error",""),tr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),tr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),tr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),tr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),tr(e,"cordova-not-ready","Cordova framework is not ready."),tr(e,"cors-unsupported","This browser is not supported."),tr(e,"credential-already-in-use","This credential is already associated with a different user account."),tr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),tr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),tr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),tr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),tr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),tr(e,"email-already-in-use","The email address is already in use by another account."),tr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),tr(e,"expired-action-code","The action code has expired."),tr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),tr(e,"internal-error","An internal AuthError has occurred."),tr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),tr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),tr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),tr(e,"invalid-auth-event","An internal AuthError has occurred."),tr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),tr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),tr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),tr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),tr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),tr(e,"invalid-email","The email address is badly formatted."),tr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),tr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),tr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),tr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),tr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),tr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),tr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),tr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),tr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),tr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),tr(e,"wrong-password","The password is invalid or the user does not have a password."),tr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),tr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),tr(e,"invalid-provider-id","The specified provider ID is invalid."),tr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),tr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),tr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),tr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),tr(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),tr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),tr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),tr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),tr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),tr(e,"missing-continue-uri","A continue URL must be provided in the request."),tr(e,"missing-iframe-start","An internal AuthError has occurred."),tr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),tr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),tr(e,"missing-multi-factor-info","No second factor identifier is provided."),tr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),tr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),tr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),tr(e,"app-deleted","This instance of FirebaseApp has been deleted."),tr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),tr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),tr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),tr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),tr(e,"no-auth-event","An internal AuthError has occurred."),tr(e,"no-such-provider","User was not linked to an account with the given provider."),tr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),tr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),tr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),tr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),tr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),tr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),tr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),tr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),tr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),tr(e,"rejected-credential","The request contains malformed or mismatching credentials."),tr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),tr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),tr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),tr(e,"timeout","The operation has timed out."),tr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),tr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),tr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),tr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),tr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),tr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),tr(e,"unverified-email","The operation requires a verified email."),tr(e,"user-cancelled","The user did not grant your application the permissions it requested."),tr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),tr(e,"user-disabled","The user account has been disabled by an administrator."),tr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),tr(e,"user-signed-out",""),tr(e,"weak-password","The password must be 6 characters long or more."),tr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),tr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},cf=sf,lf=new uc("auth","Firebase",sf()),ff=new qc("@firebase/auth");function df(e){if(ff.logLevel<=Dc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ff.error.apply(ff,["Auth (".concat(Sl,"): ").concat(e)].concat(n))}}function hf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw yf.apply(void 0,[e].concat(n))}function pf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yf.apply(void 0,[e].concat(n))}function vf(e,t,n){var r=Object.assign(Object.assign({},cf()),tr({},t,n));return new uc("auth","Firebase",r).create(t,{appName:e.name})}function mf(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&hf(e,"argument-error"),vf(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function yf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return lf.create.apply(lf,[e].concat(n))}function gf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw yf.apply(void 0,[t].concat(r))}}function wf(e){var t="INTERNAL ASSERTION FAILED: "+e;throw df(t),new Error(t)}function kf(e,t){e||wf(t)}var bf=new Map;function _f(e){kf(e instanceof Function,"Expected a class definition");var t=bf.get(e);return t?(kf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bf.set(e,t),t)}function xf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Sf(){return"http:"===Ef()||"https:"===Ef()}function Ef(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Tf=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,kf(n>t,"Short delay should be less than long delay!"),this.isMobile=Qu()||Xu()}return v(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Sf()||Yu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function If(e,t){kf(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Cf=function(){function e(){h(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void wf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void wf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void wf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Nf=(tr(Ql={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),tr(Ql,"MISSING_CUSTOM_TOKEN","internal-error"),tr(Ql,"INVALID_IDENTIFIER","invalid-email"),tr(Ql,"MISSING_CONTINUE_URI","internal-error"),tr(Ql,"INVALID_PASSWORD","wrong-password"),tr(Ql,"MISSING_PASSWORD","internal-error"),tr(Ql,"EMAIL_EXISTS","email-already-in-use"),tr(Ql,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),tr(Ql,"INVALID_IDP_RESPONSE","invalid-credential"),tr(Ql,"INVALID_PENDING_TOKEN","invalid-credential"),tr(Ql,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),tr(Ql,"MISSING_REQ_TYPE","internal-error"),tr(Ql,"EMAIL_NOT_FOUND","user-not-found"),tr(Ql,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),tr(Ql,"EXPIRED_OOB_CODE","expired-action-code"),tr(Ql,"INVALID_OOB_CODE","invalid-action-code"),tr(Ql,"MISSING_OOB_CODE","internal-error"),tr(Ql,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),tr(Ql,"INVALID_ID_TOKEN","invalid-user-token"),tr(Ql,"TOKEN_EXPIRED","user-token-expired"),tr(Ql,"USER_NOT_FOUND","user-token-expired"),tr(Ql,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),tr(Ql,"INVALID_CODE","invalid-verification-code"),tr(Ql,"INVALID_SESSION_INFO","invalid-verification-id"),tr(Ql,"INVALID_TEMPORARY_PROOF","invalid-credential"),tr(Ql,"MISSING_SESSION_INFO","missing-verification-id"),tr(Ql,"SESSION_EXPIRED","code-expired"),tr(Ql,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),tr(Ql,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),tr(Ql,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),tr(Ql,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),tr(Ql,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),tr(Ql,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),tr(Ql,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),tr(Ql,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),tr(Ql,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),tr(Ql,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),tr(Ql,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ql),Af=new Tf(3e4,6e4);function Pf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Of(e,t,n,r){return Rf.apply(this,arguments)}function Rf(){return Rf=ir(nr().mark((function e(t,n,r,i){var a,o=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Df(t,a,ir(nr().mark((function e(){var a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=kc(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Cf.fetch()(Ff(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Df(e,t,n){return Lf.apply(this,arguments)}function Lf(){return Lf=ir(nr().mark((function e(t,n,r){var i,a,o,s,u,c,f,d,h,p;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Nf),n),e.prev=2,a=new Uf(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Vf(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Vf(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Vf(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Vf(t,"user-disabled",s);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw vf(t,p,h);case 34:hf(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof sc)){e.next=41;break}throw e.t0;case 41:hf(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Lf.apply(this,arguments)}function Mf(e,t,n,r){return jf.apply(this,arguments)}function jf(){return jf=ir(nr().mark((function e(t,n,r,i){var a,o,s=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Of(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&hf(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Ff(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?If(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Uf=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(pf(n.auth,"network-request-failed"))}),Af.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Vf(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=pf(e,t,r);return i.customData._tokenResponse=n,i}function qf(e,t){return Bf.apply(this,arguments)}function Bf(){return Bf=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function zf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Hf(e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function Kf(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Qf(){return Qf=ir(nr().mark((function e(t){var n,r,i,a,o,s,u=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Nc(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,gf((a=Yf(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Kf($f(a.auth_time)),issuedAtTime:Kf($f(a.iat)),expirationTime:Kf($f(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(e){return 1e3*Number(e)}function Yf(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return df("JWT malformed, contained fewer than 3 sections"),null;try{var a=Hu(r);return a?JSON.parse(a):(df("Failed to decode base64 JWT payload"),null)}catch(o){return df("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Xf(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=ir(nr().mark((function e(t,n){var r=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof sc&&Zf(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jf.apply(this,arguments)}function Zf(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ed=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),td=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Kf(this.lastLoginAt),this.creationTime=Kf(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function nd(e){return rd.apply(this,arguments)}function rd(){return rd=ir(nr().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Xf(t,Hf(r,{idToken:i}));case 6:gf(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?od(o.providerUserInfo):[],u=ad(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new td(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(){return(id=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nc(t),e.next=3,nd(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ad(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function od(e){return e.map((function(e){var t=e.providerId,n=Kl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function sd(e,t){return ud.apply(this,arguments)}function ud(){return ud=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(t,{},ir(nr().mark((function e(){var r,i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Ff(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Cf.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}var cd=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){gf(e.idToken,"internal-error"),gf("undefined"!==typeof e.idToken,"internal-error"),gf("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Yf(e);return gf(t,"internal-error"),gf("undefined"!==typeof t.exp,"internal-error"),gf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ir(nr().mark((function e(t){var n,r=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],gf(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ir(nr().mark((function e(t,n){var r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return wf("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(gf("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(gf("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(gf("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ld(e,t){gf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var fd=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Kl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ed(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new td(a.createdAt||void 0,a.lastLoginAt||void 0)}return v(e,[{key:"getIdToken",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xf(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(gf(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Qf.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return id.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(gf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){gf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ir(nr().mark((function e(t){var n,r,i=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,nd(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Xf(this,qf(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,w=n.uid,k=n.emailVerified,b=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;gf(w&&x,t,"internal-error");var S=cd.fromJSON(this.name,x);gf("string"===typeof w,t,"internal-error"),ld(f,t.name),ld(d,t.name),gf("boolean"===typeof k,t,"internal-error"),gf("boolean"===typeof b,t,"internal-error"),ld(h,t.name),ld(p,t.name),ld(v,t.name),ld(m,t.name),ld(y,t.name),ld(g,t.name);var E=new e({uid:w,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=ir(nr().mark((function t(n,r){var i,a,o,s=arguments;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new cd).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,nd(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),dd=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return v(e,[{key:"_isAvailable",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();dd.type="NONE";var hd=dd;function pd(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var vd=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=pd(this.userKey,a.apiKey,o),this.fullPersistenceKey=pd("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?fd._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ir(nr().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,h,p,v=arguments;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(_f(hd),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||_f(hd),s=pd(i,n.config.apiKey,n.name),u=null,c=Lu(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=fd._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function md(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kd(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_d(t))return"Blackberry";if(xd(t))return"Webos";if(gd(t))return"Safari";if((t.includes("chrome/")||wd(t))&&!t.includes("edge/"))return"Chrome";if(bd(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function yd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/firefox\//i.test(e)}function gd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/crios\//i.test(e)}function kd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/iemobile/i.test(e)}function bd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/android/i.test(e)}function _d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/blackberry/i.test(e)}function xd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/webos/i.test(e)}function Sd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ed(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return Sd(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Td(){return Ju()&&10===document.documentMode}function Id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return Sd(e)||bd(e)||xd(e)||_d(e)||/windows phone/i.test(e)||kd(e)}function Cd(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=md(Ku());break;case"Worker":t="".concat(md(Ku()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sl,"/").concat(r)}var Nd=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return v(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ir(nr().mark((function e(t){var n,r,i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Lu(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Lu(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(Zi){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ad=function(){function e(t,n,r){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Od(this),this.idTokenSubscription=new Od(this),this.beforeStateQueue=new Nd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lf,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return v(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=_f(t)),this._initializationPromise=this.queue(ir(nr().mark((function r(){var i,a;return nr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,vd.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ir(nr().mark((function e(t){var n,r,i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return gf(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nd(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Nc(t):null)&&gf(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ir(nr().mark((function e(t){var n,r=this,i=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&gf(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ir(nr().mark((function n(){return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(_f(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new uc("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return gf(n=t&&_f(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,vd.create(this,[_f(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ir(nr().mark((function e(t){var n=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return gf(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return gf(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cd(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ir(nr().mark((function e(){var t,n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pd(e){return Nc(e)}var Od=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=Sc((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return gf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Rd(e,t,n){var r=Pd(e);gf(r._canInitEmulator,r,"emulator-config-failed"),gf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Dd(t),o=function(e){var t=Dd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ld(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Ld(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Dd(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ld(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Md=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return wf("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return wf("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return wf("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return wf("not implemented")}}]),e}();function jd(e,t){return Fd.apply(this,arguments)}function Fd(){return Fd=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:resetPassword",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fd.apply(this,arguments)}function Ud(e,t){return Vd.apply(this,arguments)}function Vd(){return Vd=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function qd(e,t){return Bd.apply(this,arguments)}function Bd(){return Bd=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:update",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function zd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mf(t,"POST","/v1/accounts:signInWithPassword",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Hd(e,t){return Gd.apply(this,arguments)}function Gd(){return Gd=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:sendOobCode",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}function Kd(e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,n));case 1:case"end":return e.stop()}}),e)}))),Qd.apply(this,arguments)}function $d(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,n));case 1:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function Xd(e,t){return Jd.apply(this,arguments)}function Jd(){return Jd=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,n));case 1:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}function Zd(e,t){return eh.apply(this,arguments)}function eh(){return eh=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(t,n));case 1:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mf(t,"POST","/v1/accounts:signInWithEmailLink",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mf(t,"POST","/v1/accounts:signInWithEmailLink",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}var ah=function(e){y(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return v(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zd(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",th(t,{email:this._email,oobCode:this._password}));case 5:hf(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ud(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rh(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:hf(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Md);function oh(e,t){return sh.apply(this,arguments)}function sh(){return sh=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mf(t,"POST","/v1/accounts:signInWithIdp",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}var uh=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return oh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oh(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hf("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Kl(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Md);function ch(e,t){return lh.apply(this,arguments)}function lh(){return lh=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:sendVerificationCode",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(){return fh=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mf(t,"POST","/v1/accounts:signInWithPhoneNumber",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function dh(){return dh=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mf(t,"POST","/v1/accounts:signInWithPhoneNumber",Pf(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Vf(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}var hh=tr({},"USER_NOT_FOUND","user-not-found");function ph(){return ph=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Mf(t,"POST","/v1/accounts:signInWithPhoneNumber",Pf(t,r),hh));case 2:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}var vh=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return fh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return dh.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ph.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Md);var mh=function(){function e(t){var n,r,i,a,o,s;h(this,e);var u=bc(_c(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);gf(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=bc(_c(e)).link,n=t?bc(_c(t)).deep_link_id:null,r=bc(_c(e)).deep_link_id;return(r?bc(_c(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(wP){return null}}}]),e}();var yh=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return ah._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=mh.parseLink(t);return gf(n,"argument-error"),ah._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();yh.PROVIDER_ID="password",yh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var gh=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),wh=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(gh),kh=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return gf(e.idToken||e.accessToken,"argument-error"),uh._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return gf("providerId"in t&&"signInMethod"in t,"argument-error"),uh._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(wh),bh=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return uh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(wP){return null}}}]),n}(wh);bh.FACEBOOK_SIGN_IN_METHOD="facebook.com",bh.PROVIDER_ID="facebook.com";var _h=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return uh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(wP){return null}}}]),n}(wh);_h.GOOGLE_SIGN_IN_METHOD="google.com",_h.PROVIDER_ID="google.com";var xh=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return uh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(wP){return null}}}]),n}(wh);xh.GITHUB_SIGN_IN_METHOD="github.com",xh.PROVIDER_ID="github.com";var Sh=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return v(n,[{key:"_getIdTokenResponse",value:function(e){return oh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oh(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Md),Eh=function(e){y(n,e);var t=x(n);function n(e){return h(this,n),gf(e.startsWith("saml."),"argument-error"),t.call(this,e)}return v(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Sh.fromJSON(e);return gf(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Sh._create(r,n)}catch(i){return null}}}]),n}(gh),Th=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return uh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(wP){return null}}}]),n}(wh);function Ih(e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mf(t,"POST","/v1/accounts:signUp",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}Th.TWITTER_SIGN_IN_METHOD="twitter.com",Th.PROVIDER_ID="twitter.com";var Nh=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return v(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ir(nr().mark((function t(n,r,i){var a,o,s,u,c=arguments;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,fd._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ah(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ir(nr().mark((function t(n,r,i){var a;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ah(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ah(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ph(){return Ph=ir(nr().mark((function e(t){var n,r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pd(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Nh({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ih(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Nh._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ph.apply(this,arguments)}var Oh=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o,s;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(b(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(sc);function Rh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Oh._fromErrorAndOperation(e,n,t,r);throw n}))}function Dh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Lh(e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=ir(nr().mark((function e(t,n){var r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nc(t),e.next=3,Uh(!0,r,n);case 3:return e.t0=zf,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Dh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function jh(e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=ir(nr().mark((function e(t,n){var r,i,a=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Xf,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Nh._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Uh(e,t,n){return Vh.apply(this,arguments)}function Vh(){return(Vh=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nd(n);case 2:i=Dh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",gf(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qh(e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=ir(nr().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Xf(t,Rh(i,a,n,t),r);case 6:return gf((o=e.sent).idToken,i,"internal-error"),gf(s=Yf(o.idToken),i,"internal-error"),u=s.sub,gf(t.uid===u,i,"user-mismatch"),e.abrupt("return",Nh._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&hf(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Bh.apply(this,arguments)}function zh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=ir(nr().mark((function e(t,n){var r,i,a,o,s=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Rh(t,i,n);case 4:return a=e.sent,e.next=7,Nh._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Hh(e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zh(Pd(t),n));case 1:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Kh(e,t){return Qh.apply(this,arguments)}function Qh(){return(Qh=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nc(t),e.next=3,Uh(!1,r,n.providerId);case 3:return e.abrupt("return",jh(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $h(e,t){return Yh.apply(this,arguments)}function Yh(){return(Yh=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qh(Nc(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mf(t,"POST","/v1/accounts:signInWithCustomToken",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}function Zh(){return Zh=ir(nr().mark((function e(t,n){var r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pd(t),e.next=3,Xh(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Nh._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}var ep=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return v(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?tp._fromServerResponse(e,t):hf(e,"internal-error")}}]),e}(),tp=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ep);function np(e,t,n){var r;gf((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gf("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gf(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gf(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function rp(){return rp=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nc(t),a={requestType:"PASSWORD_RESET",email:n},r&&np(i,a,r),e.next=5,$d(i,a);case 5:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(){return ip=ir(nr().mark((function e(t,n,r){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jd(Nc(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(){return ap=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qd(Nc(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e,t){return sp.apply(this,arguments)}function sp(){return sp=ir(nr().mark((function e(t,n){var r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nc(t),e.next=3,jd(r,{oobCode:n});case 3:i=e.sent,gf(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return gf(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:gf(i.mfaInfo,r,"internal-error");case 13:gf(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ep._fromServerResponse(Pd(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function up(){return up=ir(nr().mark((function e(t,n){var r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op(Nc(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function cp(e,t,n){return lp.apply(this,arguments)}function lp(){return lp=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pd(t),e.next=3,Ih(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Nh._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),lp.apply(this,arguments)}function fp(){return fp=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nc(t),a={requestType:"EMAIL_SIGNIN",email:n},gf(r.handleCodeInApp,i,"argument-error"),r&&np(i,a,r),e.next=6,Xd(i,a);case 6:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function dp(){return dp=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nc(t),gf((a=yh.credentialWithLink(n,r||xf()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Hh(i,a));case 4:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function hp(e,t){return pp.apply(this,arguments)}function pp(){return pp=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:createAuthUri",Pf(t,n)));case 1:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(){return vp=ir(nr().mark((function e(t,n){var r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf()?xf():"http://localhost",i={identifier:n,continueUri:r},e.next=4,hp(Nc(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function mp(){return(mp=ir(nr().mark((function e(t,n){var r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nc(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&np(r.auth,a,n),e.next=8,Kd(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yp(){return(yp=ir(nr().mark((function e(t,n,r){var i,a,o,s;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nc(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&np(i.auth,o,r),e.next=8,Zd(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gp(e,t){return wp.apply(this,arguments)}function wp(){return wp=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function kp(){return(kp=ir(nr().mark((function e(t,n){var r,i,a,o,s,u,c;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Nc(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Xf(a,gp(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bp(e,t,n){return _p.apply(this,arguments)}function _p(){return _p=ir(nr().mark((function e(t,n,r){var i,a,o,s;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Xf(t,Ud(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),_p.apply(this,arguments)}var xp=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Sp=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return v(n)}(xp),Ep=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return v(n)}(xp),Tp=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return v(n)}(Sp),Ip=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return v(n)}(xp),Cp=function(e){y(n,e);var t=x(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return v(n)}(Sp);function Np(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Yf(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new xp(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ep(a,i);case"github.com":return new Tp(a,i);case"google.com":return new Ip(a,i);case"twitter.com":return new Cp(a,i,e.screenName||null);case"custom":case"anonymous":return new xp(a,null);default:return new xp(a,r,i)}}(n)}var Ap=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return v(e,[{key:"toJSON",value:function(){return{multiFactorSession:tr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Pp=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return v(e,[{key:"resolveSignIn",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Pd(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ep._fromServerResponse(r,e)}));gf(i.mfaPendingCredential,r,"internal-error");var o=Ap._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ir(nr().mark((function e(t){var a,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Nh._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return gf(n.user,r,"internal-error"),e.abrupt("return",Nh._forOperation(n.user,n.operationType,s));case 17:hf(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Op(e,t){return Of(e,"POST","/v2/accounts/mfaEnrollment:start",Pf(e,t))}function Rp(e,t){return Of(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Pf(e,t))}var Dp=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ep._fromServerResponse(t.auth,e)})))}))}return v(e,[{key:"getSession",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ap,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ir(nr().mark((function e(t,n){var r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Xf(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ir(nr().mark((function e(t){var n,r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Xf(this.user,Rp(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Lp=new WeakMap;var Mp="__sak",jp=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch(wP){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Fp=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ku();return gd(e)||Sd(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Id(),e._shouldAllowMigration=!0,e}return v(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Td()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ir(nr().mark((function e(t,r){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ir(nr().mark((function e(t){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(jp);Fp.type="LOCAL";var Up=Fp,Vp=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(jp);Vp.type="SESSION";var qp=Vp;function Bp(e){return Promise.all(e.map(function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var zp=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ir(nr().mark((function e(t){var n,r,i,a,o,s,u,c;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Bp(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Wp(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}zp.receivers=[];var Hp=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return v(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ir(nr().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Wp("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gp(){return window}function Kp(){return"undefined"!==typeof Gp().WorkerGlobalScope&&"function"===typeof Gp().importScripts}function Qp(){return $p.apply(this,arguments)}function $p(){return($p=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Yp(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Xp="firebaseLocalStorageDb",Jp="firebaseLocalStorage",Zp="fbase_key",ev=function(){function e(t){h(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function tv(e,t){return e.transaction([Jp],t?"readwrite":"readonly").objectStore(Jp)}function nv(){var e=indexedDB.deleteDatabase(Xp);return new ev(e).toPromise()}function rv(){var e=indexedDB.open(Xp,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Jp,{keyPath:Zp})}catch(r){n(r)}})),e.addEventListener("success",ir(nr().mark((function n(){var r;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Jp)){n.next=12;break}return r.close(),n.next=5,nv();case 5:return n.t0=t,n.next=8,rv();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function iv(e,t,n){return av.apply(this,arguments)}function av(){return av=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tv(t,!0).put((tr(i={},Zp,n),tr(i,"value",r),i)),e.abrupt("return",new ev(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t){return sv.apply(this,arguments)}function sv(){return sv=ir(nr().mark((function e(t,n){var r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tv(t,!1).get(n),e.next=3,new ev(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function uv(e,t){var n=tv(e,!0).delete(t);return new ev(n).toPromise()}var cv=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(e,[{key:"_openDb",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,rv();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kp()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ir(nr().mark((function e(){var t=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=zp._getInstance(Kp()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ir(nr().mark((function e(n,r){var i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ir(nr().mark((function e(){var t,n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qp();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Hp(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Yp()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,rv();case 5:return t=e.sent,e.next=8,iv(t,Mp,"1");case 8:return e.next=10,uv(t,Mp);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ir(nr().mark((function e(t,n){var r=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return iv(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ov(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ir(nr().mark((function e(t){var n=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return uv(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ir(nr().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=tv(e,!1).getAll();return new ev(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Lu(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();cv.type="LOCAL";var lv=cv;function fv(e,t){return Of(e,"POST","/v2/accounts/mfaSignIn:start",Pf(e,t))}function dv(e){return hv.apply(this,arguments)}function hv(){return hv=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Of(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function pv(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=pf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function vv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var mv=1e12,yv=function(){function e(t){h(this,e),this.auth=t,this.counter=mv,this._widgets=new Map}return v(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new gv(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||mv;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||mv;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||mv,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gv=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;gf(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return v(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wv=vv("rcb"),kv=new Tf(3e4,6e4),bv="https://www.google.com/recaptcha/api.js?",_v=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Gp().grecaptcha)||void 0===t?void 0:t.render)}return v(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return gf(xv(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Gp().grecaptcha):new Promise((function(r,i){var a=Gp().setTimeout((function(){i(pf(e,"network-request-failed"))}),kv.get());Gp()[wv]=function(){Gp().clearTimeout(a),delete Gp()[wv];var o=Gp().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(pf(e,"internal-error"))},pv("".concat(bv,"?").concat(kc({onload:wv,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(pf(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Gp().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function xv(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Sv=function(){function e(){h(this,e)}return v(e,[{key:"load",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new yv(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ev="recaptcha",Tv={theme:"light",type:"image"},Iv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Tv),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=Ev,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pd(r),this.isInvisible="invisible"===this.parameters.size,gf("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;gf(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sv:new _v,this.validateStartingState()}return v(e,[{key:"verify",value:function(){var e=ir(nr().mark((function e(){var t,n,r,i=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){gf(!this.parameters.sitekey,this.auth,"argument-error"),gf(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gf("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Gp()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){gf(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ir(nr().mark((function e(){var t,n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gf(Sf()&&!Kp(),this.auth,"internal-error"),e.next=3,Cv();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,dv(this.auth);case 8:gf(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return gf(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Cv(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Nv=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return v(e,[{key:"confirm",value:function(e){var t=vh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Av(){return Av=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pd(t),e.next=3,Dv(i,n,Nc(r));case 3:return a=e.sent,e.abrupt("return",new Nv(a,(function(e){return Hh(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Av.apply(this,arguments)}function Pv(e,t,n){return Ov.apply(this,arguments)}function Ov(){return(Ov=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nc(t),e.next=3,Uh(!1,i,"phone");case 3:return e.next=5,Dv(i.auth,n,Nc(r));case 5:return a=e.sent,e.abrupt("return",new Nv(a,(function(e){return Kh(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rv(){return(Rv=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nc(t),e.next=3,Dv(i.auth,n,Nc(r));case 3:return a=e.sent,e.abrupt("return",new Nv(a,(function(e){return $h(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dv(e,t,n){return Lv.apply(this,arguments)}function Lv(){return Lv=ir(nr().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,gf("string"===typeof a,t,"argument-error"),gf(r.type===Ev,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return gf("enroll"===s.type,t,"internal-error"),e.next=13,Op(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return gf("signin"===s.type,t,"internal-error"),gf(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,fv(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ch(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Lv.apply(this,arguments)}function Mv(){return(Mv=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jh(Nc(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jv=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=Pd(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return Dv(this.auth,e,Nc(t))}}],[{key:"credential",value:function(e,t){return vh._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?vh._fromTokenResponse(n,r):null}}]),e}();function Fv(e,t){return t?_f(t):(gf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jv.PROVIDER_ID="phone",jv.PHONE_SIGN_IN_METHOD="phone";var Uv=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return oh(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return oh(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return oh(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Md);function Vv(e){return zh(e.auth,new Uv(e),e.bypassAuthState)}function qv(e){var t=e.auth,n=e.user;return gf(n,t,"internal-error"),qh(n,new Uv(e),e.bypassAuthState)}function Bv(e){return zv.apply(this,arguments)}function zv(){return zv=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,gf(r=t.user,n,"internal-error"),e.abrupt("return",jh(r,new Uv(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}var Wv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ir(nr().mark((function t(n,r){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ir(nr().mark((function e(t){var n,r,i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vv;case"linkViaPopup":case"linkViaRedirect":return Bv;case"reauthViaPopup":case"reauthViaRedirect":return qv;default:hf(this.auth,"internal-error")}}},{key:"resolve",value:function(e){kf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){kf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Hv=new Tf(2e3,1e4);function Gv(e,t,n){return Kv.apply(this,arguments)}function Kv(){return Kv=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pd(t),mf(t,n,gh),a=Fv(i,r),o=new Xv(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Qv(){return(Qv=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf((i=Nc(t)).auth,n,gh),a=Fv(i.auth,r),o=new Xv(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $v(e,t,n){return Yv.apply(this,arguments)}function Yv(){return(Yv=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf((i=Nc(t)).auth,n,gh),a=Fv(i.auth,r),o=new Xv(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xv=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=b(s),s}return v(n,[{key:"executeNotNull",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return gf(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ir(nr().mark((function e(){var t,n=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kf(1===this.filter.length,"Popup operations only handle one event"),t=Wp(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(pf(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(pf(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(pf(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Hv.get())}()}}]),n}(Wv);Xv.currentPopupAction=null;var Jv=new Map,Zv=function(e){y(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return v(n,[{key:"execute",value:function(){var e=ir(nr().mark((function e(){var t,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Jv.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,em(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Du(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Jv.set(this.auth._key(),t);case 21:return this.bypassAuthState||Jv.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ir(nr().mark((function e(t){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Du(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Du(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Wv);function em(e,t){return tm.apply(this,arguments)}function tm(){return tm=ir(nr().mark((function e(t,n){var r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=om(n),i=am(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e,t){return rm.apply(this,arguments)}function rm(){return rm=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",am(t)._set(om(n),"true"));case 1:case"end":return e.stop()}}),e)}))),rm.apply(this,arguments)}function im(e,t){Jv.set(e._key(),t)}function am(e){return _f(e._redirectPersistence)}function om(e){return pd("pendingRedirect",e.config.apiKey,e.name)}function sm(e,t,n){return function(e,t,n){return um.apply(this,arguments)}(e,t,n)}function um(){return um=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pd(t),mf(t,n,gh),a=Fv(i,r),e.next=5,nm(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(e,t,n){return function(e,t,n){return lm.apply(this,arguments)}(e,t,n)}function lm(){return(lm=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf((i=Nc(t)).auth,n,gh),a=Fv(i.auth,r),e.next=5,nm(a,i.auth);case 5:return e.next=7,ym(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fm(e,t,n){return function(e,t,n){return dm.apply(this,arguments)}(e,t,n)}function dm(){return(dm=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf((i=Nc(t)).auth,n,gh),a=Fv(i.auth,r),e.next=5,Uh(!1,i,n.providerId);case 5:return e.next=7,nm(a,i.auth);case 7:return e.next=9,ym(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hm(e,t){return pm.apply(this,arguments)}function pm(){return pm=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pd(t)._initializationPromise;case 2:return e.abrupt("return",vm(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return mm.apply(this,arguments)}function mm(){return mm=ir(nr().mark((function e(t,n){var r,i,a,o,s,u=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Pd(t),a=Fv(i,n),o=new Zv(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e){return gm.apply(this,arguments)}function gm(){return(gm=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wp("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wm=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bm(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pf(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(km(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(km(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function km(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bm(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function _m(e){return xm.apply(this,arguments)}function xm(){return xm=ir(nr().mark((function e(t){var n,r=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Of(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}var Sm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Em=/^https?/;function Tm(){return Tm=ir(nr().mark((function e(t){var n,r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_m(t);case 4:n=e.sent,r=n.authorizedDomains,i=Lu(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Im(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:hf(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Tm.apply(this,arguments)}function Im(e){var t=xf(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Em.test(r))return!1;if(Sm.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Cm=new Tf(3e4,6e4);function Nm(){var e=Gp().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Am=null;function Pm(e){return Am=Am||function(e){return new Promise((function(t,n){var r,i,a;function o(){Nm(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Nm(),n(pf(e,"network-request-failed"))},timeout:Cm.get()})}if(null===(i=null===(r=Gp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gp().gapi)||void 0===a?void 0:a.load)){var s=vv("iframefcb");return Gp()[s]=function(){gapi.load?o():n(pf(e,"network-request-failed"))},pv("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Am=null,e}))}(e),Am}var Om=new Tf(5e3,15e3),Rm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lm(e){var t=e.config;gf(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?If(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Sl},i=Dm.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(kc(r).slice(1))}function Mm(e){return jm.apply(this,arguments)}function jm(){return jm=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pm(t);case 2:return n=e.sent,gf(r=Gp().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Lm(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rm,dontclear:!0},(function(e){return new Promise(function(){var n=ir(nr().mark((function n(r,i){var a,o,s;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Gp().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=pf(t,"network-request-failed"),o=Gp().setTimeout((function(){i(a)}),Om.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}var Fm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Um="_blank",Vm="http://localhost",qm=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Bm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Fm),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ku().toLowerCase();n&&(s=wd(c)?Um:n),yd(c)&&(t=t||Vm,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ed(c)&&"_self"!==s)return zm(t||"",s),new qm(null);var d=window.open(t||"",s,f);gf(d,e,"popup-blocked");try{d.focus()}catch(h){}return new qm(d)}function zm(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Wm="__/auth/handler",Hm="emulator/auth/handler";function Gm(e,t,n,r,i,a){gf(e.config.authDomain,e,"auth-domain-config-required"),gf(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sl,eventId:i};if(t instanceof gh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",mc(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),f=c[0],d=c[1];o[f]=d}}if(t instanceof wh){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Wm);return If(t,Hm)}(e),"?").concat(kc(p).slice(1))}var Km="webStorageSupport",Qm=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qp,this._completeRedirectFn=vm,this._overrideRedirectResult=im}return v(e,[{key:"_openPopup",value:function(){var e=ir(nr().mark((function e(t,n,r,i){var a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kf(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Gm(t,n,r,xf(),i),e.abrupt("return",Bm(t,o,Wp()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ir(nr().mark((function e(t,n,r,i){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Gm(t,n,r,xf(),i),Gp().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(kf(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mm(t);case 2:return n=e.sent,r=new wm(t),n.register("authEvent",(function(e){return gf(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Km,{type:Km},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),hf(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Tm.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Id()||gd()||Sd()}}]),e}(),$m=Qm,Ym=function(){function e(t){h(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return wf("unexpected MultiFactorSessionType")}}}]),e}(),Xm=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Of(e,"POST","/v2/accounts/mfaEnrollment:finalize",Pf(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Of(e,"POST","/v2/accounts/mfaSignIn:finalize",Pf(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ym),Jm=function(){function e(){h(this,e)}return v(e,null,[{key:"assertion",value:function(e){return Xm._fromCredential(e)}}]),e}();Jm.FACTOR_ID="phone";var Zm="@firebase/auth",ey="0.21.0",ty=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return v(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){gf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ny;!function(e){var t;null===(t=nc())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");ny="Browser",yl(new Ac("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){gf(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),gf(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:ny,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cd(ny)},i=new Ad(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_f);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),yl(new Ac("auth-internal",(function(e){return function(e){return new ty(e)}(Pd(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Al(Zm,ey,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ny)),Al(Zm,ey,"esm2017");var ry,iy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ay={},oy=oy||{},sy=iy||self;function uy(){}function cy(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ly(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fy="closure_uid_"+(1e9*Math.random()>>>0),dy=0;function hy(e,t,n){return e.call.apply(e.bind,arguments)}function py(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vy(e,t,n){return(vy=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hy:py).apply(null,arguments)}function my(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yy(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function gy(){this.s=this.s,this.o=this.o}gy.prototype.s=!1,gy.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,fy)&&e[fy]||(e[fy]=++dy)}(this)},gy.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ky(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function by(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(cy(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function _y(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_y.prototype.h=function(){this.defaultPrevented=!0};var xy=function(){if(!sy.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{sy.addEventListener("test",uy,t),sy.removeEventListener("test",uy,t)}catch(zi){}return e}();function Sy(e){return/^[\s\xa0]*$/.test(e)}var Ey=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ty(e,t){return e<t?-1:e>t?1:0}function Iy(){var e=sy.navigator;return e&&(e=e.userAgent)?e:""}function Cy(e){return-1!=Iy().indexOf(e)}function Ny(e){return Ny[" "](e),e}Ny[" "]=uy;var Ay,Py=Cy("Opera"),Oy=Cy("Trident")||Cy("MSIE"),Ry=Cy("Edge"),Dy=Ry||Oy,Ly=Cy("Gecko")&&!(-1!=Iy().toLowerCase().indexOf("webkit")&&!Cy("Edge"))&&!(Cy("Trident")||Cy("MSIE"))&&!Cy("Edge"),My=-1!=Iy().toLowerCase().indexOf("webkit")&&!Cy("Edge");function jy(){var e=sy.document;return e?e.documentMode:void 0}e:{var Fy="",Uy=function(){var e=Iy();return Ly?/rv:([^\);]+)(\)|;)/.exec(e):Ry?/Edge\/([\d\.]+)/.exec(e):Oy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):My?/WebKit\/(\S+)/.exec(e):Py?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Uy&&(Fy=Uy?Uy[1]:""),Oy){var Vy=jy();if(null!=Vy&&Vy>parseFloat(Fy)){Ay=String(Vy);break e}}Ay=Fy}var qy,By={};function zy(){return function(e){var t=By;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ey(String(Ay)).split("."),n=Ey("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ty(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ty(0==a[2].length,0==o[2].length)||Ty(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(sy.document&&Oy){var Wy=jy();qy=Wy||(parseInt(Ay,10)||void 0)}else qy=void 0;var Hy=qy;function Gy(e,t){if(_y.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ly){e:{try{Ny(t.nodeName);var i=!0;break e}catch(Bi){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ky[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gy.X.h.call(this)}}yy(Gy,_y);var Ky={2:"touch",3:"pen",4:"mouse"};Gy.prototype.h=function(){Gy.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qy="closure_listenable_"+(1e6*Math.random()|0),$y=0;function Yy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++$y,this.ba=this.ea=!1}function Xy(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Jy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zy(e){var t={};for(var n in e)t[n]=e[n];return t}var eg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<eg.length;a++)n=eg[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ng(e){this.src=e,this.g={},this.h=0}function rg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wy(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ig(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ng.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ig(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Yy(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ag="closure_lm_"+(1e6*Math.random()|0),og={};function sg(e,t,n,r,i){if(r&&r.once)return cg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)sg(e,t[a],n,r,i);return null}return n=mg(n),e&&e[Qy]?e.N(t,n,ly(r)?!!r.capture:!!r,i):ug(e,t,n,!1,r,i)}function ug(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ly(i)?!!i.capture:!!i,s=pg(e);if(s||(e[ag]=s=new ng(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)cg(e,t[a],n,r,i);return null}return n=mg(n),e&&e[Qy]?e.O(t,n,ly(r)?!!r.capture:!!r,i):ug(e,t,n,!0,r,i)}function lg(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)lg(e,t[a],n,r,i);else r=ly(r)?!!r.capture:!!r,n=mg(n),e&&e[Qy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ig(a=e.g[t],n,r,i))&&(Xy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=pg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ig(t,n,r,i)),(n=-1<e?t[e]:null)&&fg(n))}function fg(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Qy])rg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pg(t))?(rg(n,e),0==n.h&&(n.src=null,t[ag]=null)):Xy(e)}}}function dg(e){return e in og?og[e]:og[e]="on"+e}function hg(e,t){if(e.ba)e=!0;else{t=new Gy(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&fg(e),e=n.call(r,t)}return e}function pg(e){return(e=e[ag])instanceof ng?e:null}var vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function mg(e){return"function"===typeof e?e:(e[vg]||(e[vg]=function(t){return e.handleEvent(t)}),e[vg])}function yg(){gy.call(this),this.i=new ng(this),this.P=this,this.I=null}function gg(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new _y(t,e);else if(t instanceof _y)t.target=t.target||e;else{var i=t;tg(t=new _y(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=wg(o,r,!0,t)&&i}if(i=wg(o=t.g=e,r,!0,t)&&i,i=wg(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=wg(o=t.g=n[a],r,!1,t)&&i}function wg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&rg(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}yy(yg,gy),yg.prototype[Qy]=!0,yg.prototype.removeEventListener=function(e,t,n,r){lg(this,e,t,n,r)},yg.prototype.M=function(){if(yg.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xy(n[r]);delete t.g[e],t.h--}}this.I=null},yg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var kg=sy.JSON.stringify;function bg(){var e=Ng,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _g,xg=function(){function e(){h(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=Sg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Sg=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Eg}),(function(e){return e.reset()})),Eg=function(){function e(){h(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Tg(e){sy.setTimeout((function(){throw e}),0)}function Ig(e,t){_g||function(){var e=sy.Promise.resolve(void 0);_g=function(){e.then(Ag)}}(),Cg||(_g(),Cg=!0),Ng.add(e,t)}var Cg=!1,Ng=new xg;function Ag(){for(var e;e=bg();){try{e.h.call(e.g)}catch(zi){Tg(zi)}var t=Sg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cg=!1}function Pg(e,t){yg.call(this),this.h=e||1,this.g=t||sy,this.j=vy(this.lb,this),this.l=Date.now()}function Og(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Rg(e,t,n){if("function"===typeof e)n&&(e=vy(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vy(e.handleEvent,e)}return 2147483647<Number(t)?-1:sy.setTimeout(e,t||0)}function Dg(e){e.g=Rg((function(){e.g=null,e.i&&(e.i=!1,Dg(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}yy(Pg,yg),(ry=Pg.prototype).ca=!1,ry.R=null,ry.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gg(this,"tick"),this.ca&&(Og(this),this.start()))}},ry.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ry.M=function(){Pg.X.M.call(this),Og(this),delete this.g};var Lg=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Dg(this)}},{key:"M",value:function(){Du(g(n.prototype),"M",this).call(this),this.g&&(sy.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(gy);function Mg(e){gy.call(this),this.h=e,this.g={}}yy(Mg,gy);var jg=[];function Fg(e,t,n,r){Array.isArray(n)||(n&&(jg[0]=n.toString()),n=jg);for(var i=0;i<n.length;i++){var a=sg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ug(e){Jy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fg(e)}),e),e.g={}}function Vg(){this.g=!0}function qg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return kg(n)}catch(Li){return t}}(e,n)+(r?" "+r:"")}))}Mg.prototype.M=function(){Mg.X.M.call(this),Ug(this)},Mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vg.prototype.Aa=function(){this.g=!1},Vg.prototype.info=function(){};var Bg={},zg=null;function Wg(){return zg=zg||new yg}function Hg(e){_y.call(this,Bg.Pa,e)}function Gg(e){var t=Wg();gg(t,new Hg(t))}function Kg(e,t){_y.call(this,Bg.STAT_EVENT,e),this.stat=t}function Qg(e){var t=Wg();gg(t,new Kg(t,e))}function $g(e,t){_y.call(this,Bg.Qa,e),this.size=t}function Yg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return sy.setTimeout((function(){e()}),t)}Bg.Pa="serverreachability",yy(Hg,_y),Bg.STAT_EVENT="statevent",yy(Kg,_y),Bg.Qa="timingevent",yy($g,_y);var Xg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Jg={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Zg(){}function ew(e){return e.h||(e.h=e.i())}function tw(){}Zg.prototype.h=null;var nw,rw={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function iw(){_y.call(this,"d")}function aw(){_y.call(this,"c")}function ow(){}function sw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Mg(this),this.O=cw,e=Dy?125:void 0,this.T=new Pg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new uw}function uw(){this.i=null,this.g="",this.h=!1}yy(iw,_y),yy(aw,_y),yy(ow,Zg),ow.prototype.g=function(){return new XMLHttpRequest},ow.prototype.i=function(){return{}},nw=new ow;var cw=45e3,lw={},fw={};function dw(e,t,n){e.K=1,e.v=Pw(Tw(t)),e.s=n,e.P=!0,hw(e,null)}function hw(e,t){e.F=Date.now(),yw(e),e.A=Tw(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ww(n.i,"t",r),e.C=0,n=e.l.H,e.h=new uw,e.g=Wk(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Lg(vy(e.La,e,e.g),e.N)),Fg(e.S,e.g,"readystatechange",e.ib),t=e.H?Zy(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Gg(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function pw(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function vw(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=mw(e,n))==fw){4==t&&(e.o=4,Qg(14),i=!1),qg(e.j,e.m,null,"[Incomplete Response]");break}if(r==lw){e.o=4,Qg(15),qg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qg(e.j,e.m,r,null),_w(e,r)}pw(e)&&r!=fw&&r!=lw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mk(t),t.K=!0,Qg(11))):(qg(e.j,e.m,n,"[Invalid Chunked Response]"),bw(e),kw(e))}function mw(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fw:(n=Number(t.substring(n,r)),isNaN(n)?lw:(r+=1)+n>t.length?fw:(t=t.substr(r,n),e.C=r+n,t))}function yw(e){e.V=Date.now()+e.O,gw(e,e.O)}function gw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Yg(vy(e.gb,e),t)}function ww(e){e.B&&(sy.clearTimeout(e.B),e.B=null)}function kw(e){0==e.l.G||e.I||Uk(e.l,e)}function bw(e){ww(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Og(e.T),Ug(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _w(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Xw(n.h,e)))if(!e.J&&Xw(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Fk(n),Ck(n)}Lk(n),Qg(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Yg(vy(n.cb,n),6e3));if(1>=Yw(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else qk(n,11)}else if((e.J||n.g==e)&&Fk(n),!Sy(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Jw(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,Aw(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=zk(r,r.H?r.ka:null,r.V),h.J){Zw(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(ww(p),yw(p)),r.g=h}else Dk(r);0<n.i.length&&Ak(n)}else"stop"!=a[0]&&"close"!=a[0]||qk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?qk(n,7):Ik(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Gg()}catch(a){}}function xw(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cy(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(cy(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(cy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ry=sw.prototype).setTimeout=function(e){this.O=e},ry.ib=function(e){e=e.target;var t=this.L;t&&3==bk(e)?t.l():this.La(e)},ry.La=function(e){try{if(e==this.g)e:{var t=bk(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Dy||this.g&&(this.h.h||this.g.fa()||_k(this.g)))){this.I||4!=t||7==n||Gg(),ww(this);var r=this.g.aa();this.Y=r;t:if(pw(this)){var i=_k(this.g);e="";var a=i.length,o=4==bk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bw(this),kw(this);var s="";break t}this.h.i=new sy.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sy(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Qg(12),bw(this),kw(this);break e}qg(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_w(this,r)}this.P?(vw(this,t,s),Dy&&this.i&&3==t&&(Fg(this.S,this.T,"tick",this.hb),this.T.start())):(qg(this.j,this.m,s,null),_w(this,s)),4==t&&bw(this),this.i&&!this.I&&(4==t?Uk(this.l,this):(this.i=!1,yw(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Qg(12)):(this.o=0,Qg(13)),bw(this),kw(this)}}}catch(t){}},ry.hb=function(){if(this.g){var e=bk(this.g),t=this.g.fa();this.C<t.length&&(ww(this),vw(this,e,t),this.i&&4!=e&&yw(this))}},ry.cancel=function(){this.I=!0,bw(this)},ry.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Gg(),Qg(17)),bw(this),this.o=2,kw(this)):gw(this,this.V-e)};var Sw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ew(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ew){this.h=void 0!==t?t:e.h,Iw(this,e.j),this.s=e.s,this.g=e.g,Cw(this,e.m),this.l=e.l,t=e.i;var n=new Vw;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nw(this,n),this.o=e.o}else e&&(n=String(e).match(Sw))?(this.h=!!t,Iw(this,n[1]||"",!0),this.s=Ow(n[2]||""),this.g=Ow(n[3]||"",!0),Cw(this,n[4]),this.l=Ow(n[5]||"",!0),Nw(this,n[6]||"",!0),this.o=Ow(n[7]||"")):(this.h=!!t,this.i=new Vw(null,this.h))}function Tw(e){return new Ew(e)}function Iw(e,t,n){e.j=n?Ow(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cw(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nw(e,t,n){t instanceof Vw?(e.i=t,function(e,t){t&&!e.j&&(qw(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Bw(this,t),Ww(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Rw(t,Fw)),e.i=new Vw(t,e.h))}function Aw(e,t,n){e.i.set(t,n)}function Pw(e){return Aw(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ow(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rw(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Dw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Dw(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ew.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rw(t,Lw,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rw(t,Lw,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rw(n,"/"==n.charAt(0)?jw:Mw,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rw(n,Uw)),e.join("")};var Lw=/[#\/\?@]/g,Mw=/[#\?:]/g,jw=/[#\?]/g,Fw=/[#\?@]/g,Uw=/#/g;function Vw(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qw(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Bw(e,t){qw(e),t=Hw(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zw(e,t){return qw(e),t=Hw(e,t),e.g.has(t)}function Ww(e,t,n){Bw(e,t),0<n.length&&(e.i=null,e.g.set(Hw(e,t),ky(n)),e.h+=n.length)}function Hw(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ry=Vw.prototype).add=function(e,t){qw(this),this.i=null,e=Hw(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ry.forEach=function(e,t){qw(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ry.oa=function(){qw(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ry.W=function(e){qw(this);var t=[];if("string"===typeof e)zw(this,e)&&(t=t.concat(this.g.get(Hw(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ry.set=function(e,t){return qw(this),this.i=null,zw(this,e=Hw(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ry.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ry.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Gw=v((function e(t,n){h(this,e),this.h=t,this.g=n}));function Kw(e){this.l=e||Qw,sy.PerformanceNavigationTiming?e=0<(e=sy.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(sy.g&&sy.g.Ga&&sy.g.Ga()&&sy.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qw=10;function $w(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Yw(e){return e.h?1:e.g?e.g.size:0}function Xw(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jw(e,t){e.g?e.g.add(t):e.h=t}function Zw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ek(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Lu(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ky(e.i)}function tk(){}function nk(){this.g=new tk}function rk(e,t,n){var r=n||"";try{xw(e,(function(e,n){var i=e;ly(e)&&(i=kg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ik(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Bi){}}function ak(e){this.l=e.ac||null,this.j=e.jb||!1}function ok(e,t){yg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kw.prototype.cancel=function(){if(this.i=ek(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Lu(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},tk.prototype.stringify=function(e){return sy.JSON.stringify(e,void 0)},tk.prototype.parse=function(e){return sy.JSON.parse(e,void 0)},yy(ak,Zg),ak.prototype.g=function(){return new ok(this.l,this.j)},ak.prototype.i=function(e){return function(){return e}}({}),yy(ok,yg);var sk=0;function uk(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function ck(e){e.readyState=4,e.l=null,e.j=null,e.A=null,lk(e)}function lk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ry=ok.prototype).open=function(e,t){if(this.readyState!=sk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,lk(this)},ry.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||sy).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ry.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ck(this)),this.readyState=sk},ry.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,lk(this)),this.g&&(this.readyState=3,lk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof sy.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uk(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},ry.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ck(this):lk(this),3==this.readyState&&uk(this)}},ry.Va=function(e){this.g&&(this.response=this.responseText=e,ck(this))},ry.Ua=function(e){this.g&&(this.response=e,ck(this))},ry.ga=function(){this.g&&ck(this)},ry.setRequestHeader=function(e,t){this.v.append(e,t)},ry.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ry.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ok.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fk=sy.JSON.parse;function dk(e){yg.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hk,this.K=this.L=!1}yy(dk,yg);var hk="",pk=/^https?$/i,vk=["POST","PUT"];function mk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yk(e),wk(e)}function yk(e){e.D||(e.D=!0,gg(e,"complete"),gg(e,"error"))}function gk(e){if(e.h&&"undefined"!=typeof oy&&(!e.C[1]||4!=bk(e)||2!=e.aa()))if(e.v&&4==bk(e))Rg(e.Ha,0,e);else if(gg(e,"readystatechange"),4==bk(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Sw)[1]||null;if(!a&&sy.self&&sy.self.location){var o=sy.self.location.protocol;a=o.substr(0,o.length-1)}i=!pk.test(a?a.toLowerCase():"")}t=i}if(t)gg(e,"complete"),gg(e,"success");else{e.m=6;try{var s=2<bk(e)?e.g.statusText:""}catch(Vi){s=""}e.j=s+" ["+e.aa()+"]",yk(e)}}finally{wk(e)}}}function wk(e,t){if(e.g){kk(e);var n=e.g,r=e.C[0]?uy:null;e.g=null,e.C=null,t||gg(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function kk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(sy.clearTimeout(e.A),e.A=null)}function bk(e){return e.g?e.g.readyState:0}function _k(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case hk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Xi){return null}}function xk(e){var t="";return Jy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Sk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xk(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Aw(e,t,n))}function Ek(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Tk(e){this.Ca=0,this.i=[],this.j=new Vg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ek("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ek("baseRetryDelayMs",5e3,e),this.bb=Ek("retryDelaySeedMs",1e4,e),this.$a=Ek("forwardChannelMaxRetries",2,e),this.ta=Ek("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Kw(e&&e.concurrentRequestLimit),this.Fa=new nk,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ik(e){if(Nk(e),3==e.G){var t=e.U++,n=Tw(e.F);Aw(n,"SID",e.I),Aw(n,"RID",t),Aw(n,"TYPE","terminate"),Ok(e,n),(t=new sw(e,e.j,t,void 0)).K=2,t.v=Pw(Tw(n)),n=!1,sy.navigator&&sy.navigator.sendBeacon&&(n=sy.navigator.sendBeacon(t.v.toString(),"")),!n&&sy.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wk(t.l,null),t.g.da(t.v)),t.F=Date.now(),yw(t)}Bk(e)}function Ck(e){e.g&&(Mk(e),e.g.cancel(),e.g=null)}function Nk(e){Ck(e),e.u&&(sy.clearTimeout(e.u),e.u=null),Fk(e),e.h.cancel(),e.m&&("number"===typeof e.m&&sy.clearTimeout(e.m),e.m=null)}function Ak(e){$w(e.h)||e.m||(e.m=!0,Ig(e.Ja,e),e.C=0)}function Pk(e,t){var n;n=t?t.m:e.U++;var r=Tw(e.F);Aw(r,"SID",e.I),Aw(r,"RID",n),Aw(r,"AID",e.T),Ok(e,r),e.o&&e.s&&Sk(r,e.o,e.s),n=new sw(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Rk(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Jw(e.h,n),dw(n,r,t)}function Ok(e,t){e.ia&&Jy(e.ia,(function(e,n){Aw(t,n,e)})),e.l&&xw({},(function(e,n){Aw(t,n,e)}))}function Rk(e,t,n){n=Math.min(e.i.length,n);var r=e.l?vy(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{rk(l,o,"req"+c+"_")}catch(va){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Dk(e){e.g||e.u||(e.Z=1,Ig(e.Ia,e),e.A=0)}function Lk(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Yg(vy(e.Ia,e),Vk(e,e.A)),e.A++,!0)}function Mk(e){null!=e.B&&(sy.clearTimeout(e.B),e.B=null)}function jk(e){e.g=new sw(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Tw(e.sa);Aw(t,"RID","rpc"),Aw(t,"SID",e.I),Aw(t,"CI",e.L?"0":"1"),Aw(t,"AID",e.T),Aw(t,"TYPE","xmlhttp"),Ok(e,t),e.o&&e.s&&Sk(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Pw(Tw(t)),n.s=null,n.P=!0,hw(n,e)}function Fk(e){null!=e.v&&(sy.clearTimeout(e.v),e.v=null)}function Uk(e,t){var n=null;if(e.g==t){Fk(e),Mk(e),e.g=null;var r=2}else{if(!Xw(e.h,t))return;n=t.D,Zw(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;gg(r=Wg(),new $g(r,n)),Ak(e)}else Dk(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Yw(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Yg(vy(e.Ja,e,t),Vk(e,e.C)),e.C++,!0))}(e,t)||2==r&&Lk(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:qk(e,5);break;case 4:qk(e,10);break;case 3:qk(e,6);break;default:qk(e,2)}}function Vk(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function qk(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=vy(e.kb,e);n||(n=new Ew("//www.google.com/images/cleardot.gif"),sy.location&&"http"==sy.location.protocol||Iw(n,"https"),Pw(n)),function(e,t){var n=new Vg;if(sy.Image){var r=new Image;r.onload=my(ik,n,r,"TestLoadImage: loaded",!0,t),r.onerror=my(ik,n,r,"TestLoadImage: error",!1,t),r.onabort=my(ik,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=my(ik,n,r,"TestLoadImage: timeout",!1,t),sy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qg(2);e.G=0,e.l&&e.l.va(t),Bk(e),Nk(e)}function Bk(e){if(e.G=0,e.la=[],e.l){var t=ek(e.h);0==t.length&&0==e.i.length||(by(e.la,t),by(e.la,e.i),e.h.i.length=0,ky(e.i),e.i.length=0),e.l.ua()}}function zk(e,t,n){var r=n instanceof Ew?Tw(n):new Ew(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Cw(r,r.m);else{var i=sy.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ew(null,void 0);r&&Iw(a,r),t&&(a.g=t),i&&Cw(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Aw(r,n,t),Aw(r,"VER",e.ma),Ok(e,r),r}function Wk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new dk(new ak({jb:!0})):new dk(e.ra)).Ka(e.H),t}function Hk(){}function Gk(){if(Oy&&!(10<=Number(Hy)))throw Error("Environmental error: no available transport.")}function Kk(e,t){yg.call(this),this.g=new Tk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Sy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sy(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Yk(this)}function Qk(e){iw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $k(){aw.call(this),this.status=1}function Yk(e){this.g=e}(ry=dk.prototype).Ka=function(e){this.L=e},ry.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nw.g(),this.C=this.u?ew(this.u):ew(nw),this.g.onreadystatechange=vy(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void mk(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Lu(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=sy.FormData&&e instanceof sy.FormData,!(0<=wy(vk,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=Lu(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),d=f[0],h=f[1];this.g.setRequestHeader(d,h)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kk(this),0<this.B&&((this.K=function(e){return Oy&&zy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vy(this.qa,this)):this.A=Rg(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){mk(this,s)}},ry.qa=function(){"undefined"!=typeof oy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gg(this,"timeout"),this.abort(8))},ry.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gg(this,"complete"),gg(this,"abort"),wk(this))},ry.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wk(this,!0)),dk.X.M.call(this)},ry.Ha=function(){this.s||(this.F||this.v||this.l?gk(this):this.fb())},ry.fb=function(){gk(this)},ry.aa=function(){try{return 2<bk(this)?this.g.status:-1}catch(qi){return-1}},ry.fa=function(){try{return this.g?this.g.responseText:""}catch(qi){return""}},ry.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fk(t)}},ry.Ea=function(){return this.m},ry.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ry=Tk.prototype).ma=8,ry.G=1,ry.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new sw(this,this.j,e,void 0),n=this.s;if(this.S&&(n?tg(n=Zy(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Rk(this,t,r),Aw(i=Tw(this.F),"RID",e),Aw(i,"CVER",22),this.D&&Aw(i,"X-HTTP-Session-Id",this.D),Ok(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(xk(n)))+"&"+r:this.o&&Sk(i,this.o,n)),Jw(this.h,t),this.Ya&&Aw(i,"TYPE","init"),this.O?(Aw(i,"$req",r),Aw(i,"SID","null"),t.Z=!0,dw(t,i,null)):dw(t,i,r),this.G=2}}else 3==this.G&&(e?Pk(this,e):0==this.i.length||$w(this.h)||Pk(this))},ry.Ia=function(){if(this.u=null,jk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Yg(vy(this.eb,this),e)}},ry.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qg(10),Ck(this),jk(this))},ry.cb=function(){null!=this.v&&(this.v=null,Ck(this),Lk(this),Qg(19))},ry.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Qg(2)):(this.j.info("Failed to ping google.com"),Qg(1))},(ry=Hk.prototype).xa=function(){},ry.wa=function(){},ry.va=function(){},ry.ua=function(){},ry.Ra=function(){},Gk.prototype.g=function(e,t){return new Kk(e,t)},yy(Kk,yg),Kk.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Qg(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=zk(e,null,e.V),Ak(e)},Kk.prototype.close=function(){Ik(this.g)},Kk.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=kg(e),e=n);t.i.push(new Gw(t.ab++,e)),3==t.G&&Ak(t)},Kk.prototype.M=function(){this.g.l=null,delete this.j,Ik(this.g),delete this.g,Kk.X.M.call(this)},yy(Qk,iw),yy($k,aw),yy(Yk,Hk),Yk.prototype.xa=function(){gg(this.g,"a")},Yk.prototype.wa=function(e){gg(this.g,new Qk(e))},Yk.prototype.va=function(e){gg(this.g,new $k)},Yk.prototype.ua=function(){gg(this.g,"b")},Gk.prototype.createWebChannel=Gk.prototype.g,Kk.prototype.send=Kk.prototype.u,Kk.prototype.open=Kk.prototype.m,Kk.prototype.close=Kk.prototype.close,Xg.NO_ERROR=0,Xg.TIMEOUT=8,Xg.HTTP_ERROR=6,Jg.COMPLETE="complete",tw.EventType=rw,rw.OPEN="a",rw.CLOSE="b",rw.ERROR="c",rw.MESSAGE="d",yg.prototype.listen=yg.prototype.N,dk.prototype.listenOnce=dk.prototype.O,dk.prototype.getLastError=dk.prototype.Oa,dk.prototype.getLastErrorCode=dk.prototype.Ea,dk.prototype.getStatus=dk.prototype.aa,dk.prototype.getResponseJson=dk.prototype.Sa,dk.prototype.getResponseText=dk.prototype.fa,dk.prototype.send=dk.prototype.da,dk.prototype.setWithCredentials=dk.prototype.Ka;var Xk=ay.createWebChannelTransport=function(){return new Gk},Jk=ay.getStatEventTarget=function(){return Wg()},Zk=ay.ErrorCode=Xg,eb=ay.EventType=Jg,tb=ay.Event=Bg,nb=ay.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rb=ay.FetchXmlHttpFactory=ak,ib=ay.WebChannel=tw,ab=ay.XhrIo=dk,ob="@firebase/firestore",sb=function(){function e(t){h(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sb.UNAUTHENTICATED=new sb(null),sb.GOOGLE_CREDENTIALS=new sb("google-credentials-uid"),sb.FIRST_PARTY=new sb("first-party-uid"),sb.MOCK_USER=new sb("mock-user");var ub="9.15.0",cb=new qc("@firebase/firestore");function lb(){return cb.logLevel}function fb(e){if(cb.logLevel<=Dc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pb);cb.debug.apply(cb,["Firestore (".concat(ub,"): ").concat(e)].concat(d(i)))}}function db(e){if(cb.logLevel<=Dc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pb);cb.error.apply(cb,["Firestore (".concat(ub,"): ").concat(e)].concat(d(i)))}}function hb(e){if(cb.logLevel<=Dc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pb);cb.warn.apply(cb,["Firestore (".concat(ub,"): ").concat(e)].concat(d(i)))}}function pb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ub,") INTERNAL ASSERTION FAILED: ")+e;throw db(t),new Error(t)}function mb(e,t){e||vb()}function yb(e,t){return e}var gb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wb=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(sc),kb=v((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),bb=v((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),_b=function(){function e(){h(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sb.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),xb=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Sb=function(){function e(t){h(this,e),this.t=t,this.currentUser=sb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new kb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new kb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){fb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(fb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new kb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(mb("string"==typeof n.accessToken),new bb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return mb(null===e||"string"==typeof e),new sb(e)}}]),e}(),Eb=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=sb.FIRST_PARTY,this.p=new Map}return v(e,[{key:"I",value:function(){return this.g?this.g():(mb(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Tb=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new Eb(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sb.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ib=v((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Cb=function(){function e(t){h(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&fb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,fb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){fb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):fb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(mb("string"==typeof t.token),e.A=t.token,new Ib(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Nb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ab=function(){function e(){h(this,e)}return v(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Nb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Pb(e,t){return e<t?-1:e>t?1:0}function Ob(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Rb(e){return e+"\0"}var Db=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new wb(gb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wb(gb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new wb(gb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wb(gb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Pb(this.nanoseconds,e.nanoseconds):Pb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lb=function(){function e(t){h(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Db(0,0))}},{key:"max",value:function(){return new e(new Db(253402300799,999999999))}}]),e}(),Mb=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&vb(),void 0===r?r=t.length-n:r>t.length-n&&vb(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),jb=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new wb(gb.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,d(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mb),Fb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ub=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new wb(gb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new wb(gb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new wb(gb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new wb(gb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mb),Vb=function(){function e(t){h(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===jb.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(jb.fromString(t))}},{key:"fromName",value:function(t){return new e(jb.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(jb.emptyPath())}},{key:"comparator",value:function(e,t){return jb.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new jb(t.slice()))}}]),e}(),qb=v((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Bb(e){return e.fields.find((function(e){return 2===e.kind}))}function zb(e){return e.fields.filter((function(e){return 2!==e.kind}))}qb.UNKNOWN_ID=-1;var Wb=v((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var Hb=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return v(e,null,[{key:"empty",value:function(){return new e(0,Qb.min())}}]),e}();function Gb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lb.fromTimestamp(1e9===r?new Db(n+1,0):new Db(n,r));return new Qb(i,Vb.empty(),t)}function Kb(e){return new Qb(e.readTime,e.key,-1)}var Qb=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Lb.min(),Vb.empty(),-1)}},{key:"max",value:function(){return new e(Lb.max(),Vb.empty(),-1)}}]),e}();function $b(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Vb.comparator(e.documentKey,t.documentKey))?n:Pb(e.largestBatchId,t.largestBatchId)}var Yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xb=function(){function e(){h(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Jb(e){return Zb.apply(this,arguments)}function Zb(){return Zb=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===gb.FAILED_PRECONDITION&&t.message===Yb){e.next=2;break}throw t;case 2:fb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}var e_=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Lu(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),t_=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new kb,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new i_(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=c_(e.target.error);r.P.reject(new i_(t,n))}}return v(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(fb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new o_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new i_(n,t)}}}]),e}(),n_=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Ku())&&db("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return v(e,[{key:"F",value:function(){var e=ir(nr().mark((function e(t){var n=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return fb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new i_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new wb(gb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new wb(gb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new i_(t,n))},i.onupgradeneeded=function(e){fb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){fb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ir(nr().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(nr().mark((function e(){var n,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=t_.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),e_.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,fb("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return fb("SimpleDb","Removing database:",e),s_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ec())return!1;if(e.N())return!0;var t=Ku(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/free-music-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDn_mGk2G-DqWB0lfJ-83tL_fCOVbfknoQ",REACT_APP_FIREBASE_APP_ID:"1:987512357874:web:e3206c04fb94664a28e16b",REACT_APP_FIREBASE_AUTH_DOMAIN:"free-music-player-23c8e.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://free-music-player-23c8e-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-V0YG68W21R",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"987512357874",REACT_APP_FIREBASE_PROJECT_ID:"free-music-player-23c8e",REACT_APP_FIREBASE_STORAGE_BUCKET:"free-music-player-23c8e.appspot.com"})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),r_=function(){function e(t){h(this,e),this.q=t,this.U=!1,this.K=null}return v(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return s_(this.q.delete())}}]),e}(),i_=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,gb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return v(n)}(wb);function a_(e){return"IndexedDbTransactionError"===e.name}var o_=function(){function e(t){h(this,e),this.store=t}return v(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(fb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),s_(n)}},{key:"add",value:function(e){return fb("SimpleDb","ADD",this.store.name,e,e),s_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return s_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),fb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return fb("SimpleDb","DELETE",this.store.name,e),s_(this.store.delete(e))}},{key:"count",value:function(){return fb("SimpleDb","COUNT",this.store.name),s_(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new e_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new e_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){fb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new e_((function(n,r){t.onerror=function(e){var t=c_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new e_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new r_(i),o=t(i.primaryKey,i.value,a);if(o instanceof e_){var s=o.catch((function(e){return a.done(),e_.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return e_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function s_(e){return new e_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=c_(e.target.error);n(t)}}))}var u_=!1;function c_(e){var t=n_.D(Ku());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new wb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return u_||(u_=!0,setTimeout((function(){throw r}),0)),r}}return e}var l_=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.et=n,this.task=null}return v(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;fb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=fb,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!a_(e.t4)){e.next=17;break}fb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Jb(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),f_=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return v(e,[{key:"st",value:function(){var e=ir(nr().mark((function e(){var t,n=this,r=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return e_.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return fb("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return fb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Kb(t);$b(r,n)>0&&(n=r)})),new Qb(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),d_=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();d_.at=-1;var h_=v((function e(t,n,r,i,a,o,s,u){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),p_=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function v_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function m_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function y_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function g_(e){return null==e}function w_(e){return 0===e&&1/e==-1/0}function k_(e){return"number"==typeof e&&Number.isInteger(e)&&!w_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var b_=function(e){function t(e){h(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Pb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();b_.EMPTY_BYTE_STRING=new b_("");var __=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function x_(e){if(mb(!!e),"string"==typeof e){var t=0,n=__.exec(e);if(mb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:S_(e.seconds),nanos:S_(e.nanos)}}function S_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function E_(e){return"string"==typeof e?b_.fromBase64String(e):b_.fromUint8Array(e)}function T_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function I_(e){var t=e.mapValue.fields.__previous_value__;return T_(t)?I_(t):t}function C_(e){var t=x_(e.mapValue.fields.__local_write_time__.timestampValue);return new Db(t.seconds,t.nanos)}var N_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},A_={nullValue:"NULL_VALUE"};function P_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?T_(e)?4:H_(e)?9007199254740991:10:vb()}function O_(e,t){if(e===t)return!0;var n=P_(e);if(n!==P_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return C_(e).isEqual(C_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=x_(e.timestampValue),r=x_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return E_(e.bytesValue).isEqual(E_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return S_(e.geoPointValue.latitude)===S_(t.geoPointValue.latitude)&&S_(e.geoPointValue.longitude)===S_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return S_(e.integerValue)===S_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=S_(e.doubleValue),r=S_(t.doubleValue);return n===r?w_(n)===w_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ob(e.arrayValue.values||[],t.arrayValue.values||[],O_);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(v_(n)!==v_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!O_(n[i],r[i])))return!1;return!0}(e,t);default:return vb()}}function R_(e,t){return void 0!==(e.values||[]).find((function(e){return O_(e,t)}))}function D_(e,t){if(e===t)return 0;var n=P_(e),r=P_(t);if(n!==r)return Pb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=S_(e.integerValue||e.doubleValue),r=S_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return L_(e.timestampValue,t.timestampValue);case 4:return L_(C_(e),C_(t));case 5:return Pb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=E_(e),r=E_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Pb(n[i],r[i]);if(0!==a)return a}return Pb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pb(S_(e.latitude),S_(t.latitude));return 0!==n?n:Pb(S_(e.longitude),S_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=D_(n[i],r[i]);if(a)return a}return Pb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===N_.mapValue&&t===N_.mapValue)return 0;if(e===N_.mapValue)return 1;if(t===N_.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Pb(r[o],a[o]);if(0!==s)return s;var u=D_(n[r[o]],i[a[o]]);if(0!==u)return u}return Pb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vb()}}function L_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pb(e,t);var n=x_(e),r=x_(t),i=Pb(n.seconds,r.seconds);return 0!==i?i:Pb(n.nanos,r.nanos)}function M_(e){return j_(e)}function j_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=x_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?E_(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Lu(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=j_(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Lu(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(j_(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):vb();var t,n}function F_(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function U_(e){return!!e&&"integerValue"in e}function V_(e){return!!e&&"arrayValue"in e}function q_(e){return!!e&&"nullValue"in e}function B_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function z_(e){return!!e&&"mapValue"in e}function W_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return m_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=W_(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=W_(e.arrayValue.values[r]);return n}return Object.assign({},e)}function H_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function G_(e){return"nullValue"in e?A_:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?F_(p_.empty(),Vb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:vb()}function K_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?F_(p_.empty(),Vb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?N_:vb()}function Q_(e,t){var n=D_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $_(e,t){var n=D_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Y_=v((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function X_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Vb.comparator(Vb.fromName(o.referenceValue),n.key):D_(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function J_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!O_(e.position[n],t.position[n]))return!1;return!0}var Z_=v((function e(){h(this,e)})),ex=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(D_(t,this.value)):null!==t&&P_(this.value)===P_(t)&&this.matchesComparison(D_(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vb()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new lx(e,t,r):"array-contains"===t?new px(e,r):"in"===t?new vx(e,r):"not-in"===t?new mx(e,r):"array-contains-any"===t?new yx(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new fx(e,n):new dx(e,n)}}]),n}(Z_),tx=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return v(n,[{key:"matches",value:function(e){return nx(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Lu(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Z_);function nx(e){return"and"===e.op}function rx(e){return"or"===e.op}function ix(e){return ax(e)&&nx(e)}function ax(e){var t,n=Lu(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof tx)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function ox(e){if(e instanceof ex)return e.field.canonicalString()+e.op.toString()+M_(e.value);var t=e.filters.map((function(e){return ox(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function sx(e,t){return e instanceof ex?function(e,t){return t instanceof ex&&e.op===t.op&&e.field.isEqual(t.field)&&O_(e.value,t.value)}(e,t):e instanceof tx?function(e,t){return t instanceof tx&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&sx(n,t.filters[r])}),!0)}(e,t):void vb()}function ux(e,t){var n=e.filters.concat(t);return tx.create(n,e.op)}function cx(e){return e instanceof ex?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(M_(e.value))}(e):e instanceof tx?function(e){return e.op.toString()+" {"+e.getFilters().map(cx).join(" ,")+"}"}(e):"Filter"}var lx=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=Vb.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=Vb.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(ex),fx=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=hx("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ex),dx=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=hx("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ex);function hx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vb.fromName(e.referenceValue)}))}var px=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return V_(t)&&R_(t.arrayValue,this.value)}}]),n}(ex),vx=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&R_(this.value.arrayValue,t)}}]),n}(ex),mx=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(R_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!R_(this.value.arrayValue,t)}}]),n}(ex),yx=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!V_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return R_(t.value.arrayValue,e)}))}}]),n}(ex),gx=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function wx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var kx=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||_x.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_x.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_x.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new bx(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new bx(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new bx(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new bx(this.root,e,this.comparator,!0)}}]),e}(),bx=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_x=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vb();if(this.right.isRed())throw vb();var e=this.left.check();if(e!==this.right.check())throw vb();return e+(this.isRed()?0:1)}}]),e}();_x.EMPTY=null,_x.RED=!0,_x.BLACK=!1,_x.EMPTY=new(function(){function e(){h(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw vb()}},{key:"value",get:function(){throw vb()}},{key:"color",get:function(){throw vb()}},{key:"left",get:function(){throw vb()}},{key:"right",get:function(){throw vb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _x(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var xx=function(){function e(t){h(this,e),this.comparator=t,this.data=new kx(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sx=function(){function e(t){h(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ex(e){return e.hasNext()?e.getNext():void 0}var Tx=function(){function e(t){h(this,e),this.fields=t,t.sort(Ub.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new xx(Ub.comparator),i=Lu(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Lu(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Lu(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ob(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ix=function(){function e(t){h(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!z_(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=W_(t)}},{key:"setAll",value:function(e){var t=this,n=Ub.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=W_(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());z_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return O_(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];z_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){m_(t,(function(t,n){return e[t]=n}));var r,i=Lu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(W_(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Cx(e){var t=[];return m_(e.fields,(function(e,n){var r=new Ub([e]);if(z_(n)){var i=Cx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Lu(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Tx(t)}var Nx=function(){function e(t,n,r,i,a,o,s){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Lb.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ix.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ix.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lb.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lb.min(),Lb.min(),Lb.min(),Ix.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Lb.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lb.min(),Lb.min(),Ix.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lb.min(),Lb.min(),Ix.empty(),2)}}]),e}(),Ax=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Px(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ax(e,t,n,r,i,a,o)}function Ox(e){var t=yb(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return ox(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),g_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return M_(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return M_(e)})).join(",")),t.ft=n}return t.ft}function Rx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!sx(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!J_(e.startAt,t.startAt)&&J_(e.endAt,t.endAt)}function Dx(e){return Vb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Lx(e,t){return e.filters.filter((function(e){return e instanceof ex&&e.field.isEqual(t)}))}function Mx(e,t,n){var r,i=A_,a=!0,o=Lu(Lx(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=A_,c=!0;switch(s.op){case"<":case"<=":u=G_(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=A_}Q_({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Q_({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function jx(e,t,n){var r,i=N_,a=!0,o=Lu(Lx(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=N_,c=!0;switch(s.op){case">=":case">":u=K_(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=N_}$_({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$_({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Fx=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function Ux(e,t,n,r,i,a,o,s){return new Fx(e,t,n,r,i,a,o,s)}function Vx(e){return new Fx(e)}function qx(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zx(e){var t,n=Lu(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Wx(e){return null!==e.collectionGroup}function Hx(e){var t=yb(e);if(null===t.dt){t.dt=[];var n=zx(t),r=Bx(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new gx(n)),t.dt.push(new gx(Ub.keyField(),"asc"));else{var i,a=!1,o=Lu(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new gx(Ub.keyField(),u))}}}return t.dt}function Gx(e){var t=yb(e);if(!t._t)if("F"===t.limitType)t._t=Px(t.path,t.collectionGroup,Hx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Lu(Hx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new gx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Y_(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Y_(t.startAt.position,t.startAt.inclusive):null;t._t=Px(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Kx(e,t){t.getFirstInequalityField(),zx(e);var n=e.filters.concat([t]);return new Fx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qx(e,t,n){return new Fx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $x(e,t){return Rx(Gx(e),Gx(t))&&e.limitType===t.limitType}function Yx(e){return"".concat(Ox(Gx(e)),"|lt:").concat(e.limitType)}function Xx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return cx(e)})).join(", "),"]")),g_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return M_(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return M_(e)})).join(",")),"Target(".concat(t,")")}(Gx(e)),"; limitType=").concat(e.limitType,")")}function Jx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Lu(Hx(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Lu(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=X_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hx(e),t))&&!(e.endAt&&!function(e,t,n){var r=X_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hx(e),t))}(e,t)}function Zx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eS(e){return function(t,n){var r,i=!1,a=Lu(Hx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=tS(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function tS(e,t,n){var r=e.field.isKeyField()?Vb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?D_(r,i):vb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vb()}}function nS(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:w_(t)?"-0":t}}function rS(e){return{integerValue:""+e}}function iS(e,t){return k_(t)?rS(t):nS(e,t)}var aS=v((function e(){h(this,e),this._=void 0}));function oS(e,t,n){return e instanceof cS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof lS?fS(e,t):e instanceof dS?hS(e,t):function(e,t){var n=uS(e,t),r=vS(n)+vS(e.gt);return U_(n)&&U_(e.gt)?rS(r):nS(e.yt,r)}(e,t)}function sS(e,t,n){return e instanceof lS?fS(e,t):e instanceof dS?hS(e,t):n}function uS(e,t){return e instanceof pS?U_(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var cS=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(aS),lS=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return v(n)}(aS);function fS(e,t){var n,r=mS(t),i=Lu(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return O_(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dS=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return v(n)}(aS);function hS(e,t){var n,r=mS(t),i=Lu(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!O_(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pS=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return v(n)}(aS);function vS(e){return S_(e.integerValue||e.doubleValue)}function mS(e){return V_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var yS=v((function e(t,n){h(this,e),this.field=t,this.transform=n}));var gS=v((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),wS=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function kS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var bS=v((function e(){h(this,e)}));function _S(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new DS(e.key,wS.none()):new IS(e.key,e.data,wS.none());var n,r=e.data,i=Ix.empty(),a=new xx(Ub.comparator),o=Lu(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new CS(e.key,i,new Tx(a.toArray()),wS.none())}function xS(e,t,n){e instanceof IS?function(e,t,n){var r=e.value.clone(),i=AS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof CS?function(e,t,n){if(kS(e.precondition,t)){var r=AS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(NS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function SS(e,t,n,r){return e instanceof IS?function(e,t,n,r){if(!kS(e.precondition,t))return n;var i=e.value.clone(),a=PS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof CS?function(e,t,n,r){if(!kS(e.precondition,t))return n;var i=PS(e.fieldTransforms,r,t),a=t.data;return a.setAll(NS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return kS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ES(e,t){var n,r=null,i=Lu(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=uS(a.transform,o||null);null!=s&&(null===r&&(r=Ix.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function TS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ob(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof lS&&t instanceof lS||e instanceof dS&&t instanceof dS?Ob(e.elements,t.elements,O_):e instanceof pS&&t instanceof pS?O_(e.gt,t.gt):e instanceof cS&&t instanceof cS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var IS=function(e){y(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bS),CS=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(bS);function NS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function AS(e,t,n){var r=new Map;mb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,sS(o,s,n[i]))}return r}function PS(e,t,n){var r,i=new Map,a=Lu(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,oS(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var OS,RS,DS=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bS),LS=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bS),MS=v((function e(t){h(this,e),this.count=t}));function jS(e){switch(e){default:return vb();case gb.CANCELLED:case gb.UNKNOWN:case gb.DEADLINE_EXCEEDED:case gb.RESOURCE_EXHAUSTED:case gb.INTERNAL:case gb.UNAVAILABLE:case gb.UNAUTHENTICATED:return!1;case gb.INVALID_ARGUMENT:case gb.NOT_FOUND:case gb.ALREADY_EXISTS:case gb.PERMISSION_DENIED:case gb.FAILED_PRECONDITION:case gb.ABORTED:case gb.OUT_OF_RANGE:case gb.UNIMPLEMENTED:case gb.DATA_LOSS:return!0}}function FS(e){if(void 0===e)return db("GRPC error has no .code"),gb.UNKNOWN;switch(e){case OS.OK:return gb.OK;case OS.CANCELLED:return gb.CANCELLED;case OS.UNKNOWN:return gb.UNKNOWN;case OS.DEADLINE_EXCEEDED:return gb.DEADLINE_EXCEEDED;case OS.RESOURCE_EXHAUSTED:return gb.RESOURCE_EXHAUSTED;case OS.INTERNAL:return gb.INTERNAL;case OS.UNAVAILABLE:return gb.UNAVAILABLE;case OS.UNAUTHENTICATED:return gb.UNAUTHENTICATED;case OS.INVALID_ARGUMENT:return gb.INVALID_ARGUMENT;case OS.NOT_FOUND:return gb.NOT_FOUND;case OS.ALREADY_EXISTS:return gb.ALREADY_EXISTS;case OS.PERMISSION_DENIED:return gb.PERMISSION_DENIED;case OS.FAILED_PRECONDITION:return gb.FAILED_PRECONDITION;case OS.ABORTED:return gb.ABORTED;case OS.OUT_OF_RANGE:return gb.OUT_OF_RANGE;case OS.UNIMPLEMENTED:return gb.UNIMPLEMENTED;case OS.DATA_LOSS:return gb.DATA_LOSS;default:return vb()}}(RS=OS||(OS={}))[RS.OK=0]="OK",RS[RS.CANCELLED=1]="CANCELLED",RS[RS.UNKNOWN=2]="UNKNOWN",RS[RS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",RS[RS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",RS[RS.NOT_FOUND=5]="NOT_FOUND",RS[RS.ALREADY_EXISTS=6]="ALREADY_EXISTS",RS[RS.PERMISSION_DENIED=7]="PERMISSION_DENIED",RS[RS.UNAUTHENTICATED=16]="UNAUTHENTICATED",RS[RS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",RS[RS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",RS[RS.ABORTED=10]="ABORTED",RS[RS.OUT_OF_RANGE=11]="OUT_OF_RANGE",RS[RS.UNIMPLEMENTED=12]="UNIMPLEMENTED",RS[RS.INTERNAL=13]="INTERNAL",RS[RS.UNAVAILABLE=14]="UNAVAILABLE",RS[RS.DATA_LOSS=15]="DATA_LOSS";var US=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Lu(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){m_(this.inner,(function(t,n){var r,i=Lu(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return y_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),VS=new kx(Vb.comparator);function qS(){return VS}var BS=new kx(Vb.comparator);function zS(){for(var e=BS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function WS(e){var t=BS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function HS(){return KS()}function GS(){return KS()}function KS(){return new US((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var QS=new kx(Vb.comparator),$S=new xx(Vb.comparator);function YS(){for(var e=$S,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var XS=new xx(Pb);function JS(){return XS}var ZS=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,eE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Lb.min(),i,JS(),qS(),YS())}}]),e}(),eE=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,YS(),YS(),YS())}}]),e}(),tE=v((function e(t,n,r,i){h(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),nE=v((function e(t,n){h(this,e),this.targetId=t,this.Et=n})),rE=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),iE=function(){function e(){h(this,e),this.At=0,this.Rt=sE(),this.bt=b_.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return v(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=YS(),t=YS(),n=YS();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vb()}})),new eE(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=sE()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),aE=function(){function e(t){h(this,e),this.$t=t,this.Bt=new Map,this.Lt=qS(),this.qt=oE(),this.Ut=new xx(Pb)}return v(e,[{key:"Kt",value:function(e){var t,n=Lu(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Lu(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:vb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Dx(i))if(0===n){var a=new Vb(i.path);this.Qt(t,a,Nx.newNoDocument(a,Lb.min()))}else mb(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Dx(a.target)){var o=new Vb(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Nx.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=YS();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new ZS(e,n,this.Ut,this.Lt,r);return this.Lt=qS(),this.qt=oE(),this.Ut=new xx(Pb),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new iE,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new xx(Pb),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||fb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new iE),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function oE(){return new kx(Vb.comparator)}function sE(){return new kx(Vb.comparator)}var uE={asc:"ASCENDING",desc:"DESCENDING"},cE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lE={and:"AND",or:"OR"},fE=v((function e(t,n){h(this,e),this.databaseId=t,this.wt=n}));function dE(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(e,t){return e.wt?t.toBase64():t.toUint8Array()}function pE(e,t){return dE(e,t.toTimestamp())}function vE(e){return mb(!!e),Lb.fromTimestamp(function(e){var t=x_(e);return new Db(t.seconds,t.nanos)}(e))}function mE(e,t){return function(e){return new jb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function yE(e){var t=jb.fromString(e);return mb(VE(t)),t}function gE(e,t){return mE(e.databaseId,t.path)}function wE(e,t){var n=yE(t);if(n.get(1)!==e.databaseId.projectId)throw new wb(gb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wb(gb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vb(xE(n))}function kE(e,t){return mE(e.databaseId,t)}function bE(e){var t=yE(e);return 4===t.length?jb.emptyPath():xE(t)}function _E(e){return new jb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xE(e){return mb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function SE(e,t,n){return{name:gE(e,t),fields:n.value.mapValue.fields}}function EE(e,t,n){var r=wE(e,t.name),i=vE(t.updateTime),a=t.createTime?vE(t.createTime):Lb.min(),o=new Ix({mapValue:{fields:t.fields}}),s=Nx.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function TE(e,t){return"found"in t?function(e,t){mb(!!t.found),t.found.name,t.found.updateTime;var n=wE(e,t.found.name),r=vE(t.found.updateTime),i=t.found.createTime?vE(t.found.createTime):Lb.min(),a=new Ix({mapValue:{fields:t.found.fields}});return Nx.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){mb(!!t.missing),mb(!!t.readTime);var n=wE(e,t.missing),r=vE(t.readTime);return Nx.newNoDocument(n,r)}(e,t):vb()}function IE(e,t){var n;if(t instanceof IS)n={update:SE(e,t.key,t.value)};else if(t instanceof DS)n={delete:gE(e,t.key)};else if(t instanceof CS)n={update:SE(e,t.key,t.data),updateMask:UE(t.fieldMask)};else{if(!(t instanceof LS))return vb();n={verify:gE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof cS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pS)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw vb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vb()}(e,t.precondition)),n}function CE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?wS.updateTime(vE(e.updateTime)):void 0!==e.exists?wS.exists(e.exists):wS.none()}(t.currentDocument):wS.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)mb("REQUEST_TIME"===t.setToServerValue),n=new cS;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new lS(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new dS(i)}else"increment"in t?n=new pS(e,t.increment):vb();var a=Ub.fromServerFormat(t.fieldPath);return new yS(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=wE(e,t.update.name),a=new Ix({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Tx(t.map((function(e){return Ub.fromServerFormat(e)})))}(t.updateMask);return new CS(i,a,o,n,r)}return new IS(i,a,n,r)}if(t.delete){var s=wE(e,t.delete);return new DS(s,n)}if(t.verify){var u=wE(e,t.verify);return new LS(u,n)}return vb()}function NE(e,t){return{documents:[kE(e,t.path)]}}function AE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return FE(tx.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ME(e.field),direction:RE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||g_(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function PE(e){var t=bE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=OE(e);return t instanceof tx&&ix(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new gx(jE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return g_(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Y_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Y_(n,t)}(n.endAt)),Ux(t,i,s,o,u,"F",c,l)}function OE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=jE(e.unaryFilter.field);return ex.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=jE(e.unaryFilter.field);return ex.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jE(e.unaryFilter.field);return ex.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jE(e.unaryFilter.field);return ex.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vb()}}(e):void 0!==e.fieldFilter?function(e){return ex.create(jE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vb()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return tx.create(e.compositeFilter.filters.map((function(e){return OE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vb()}}(e.compositeFilter.op))}(e):vb()}function RE(e){return uE[e]}function DE(e){return cE[e]}function LE(e){return lE[e]}function ME(e){return{fieldPath:e.canonicalString()}}function jE(e){return Ub.fromServerFormat(e.fieldPath)}function FE(e){return e instanceof ex?function(e){if("=="===e.op){if(B_(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NAN"}};if(q_(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(B_(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NOT_NAN"}};if(q_(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ME(e.field),op:DE(e.op),value:e.value}}}(e):e instanceof tx?function(e){var t=e.getFilters().map((function(e){return FE(e)}));return 1===t.length?t[0]:{compositeFilter:{op:LE(e.op),filters:t}}}(e):vb()}function UE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function VE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function qE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zE(t)),t=BE(e.get(n),t);return zE(t)}function BE(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function zE(e){return e+"\x01\x01"}function WE(e){var t=e.length;if(mb(t>=2),2===t)return mb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jb.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&vb(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:vb()}a=o+2}return new jb(r)}var HE=["userId","batchId"];function GE(e,t){return[e,qE(t)]}function KE(e,t,n){return[e,qE(t),n]}var QE={},$E=["prefixPath","collectionGroup","readTime","documentId"],YE=["prefixPath","collectionGroup","documentId"],XE=["collectionGroup","readTime","prefixPath","documentId"],JE=["canonicalId","targetId"],ZE=["targetId","path"],eT=["path","targetId"],tT=["collectionId","parent"],nT=["indexId","uid"],rT=["uid","sequenceNumber"],iT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aT=["indexId","uid","orderedDocumentKey"],oT=["userId","collectionPath","documentId"],sT=["userId","collectionPath","largestBatchId"],uT=["userId","collectionGroup","largestBatchId"],cT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),lT=[].concat(d(cT),["documentOverlays"]),fT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dT=fT,hT=[].concat(dT,["indexConfiguration","indexState","indexEntries"]),pT=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return v(n)}(Xb);function vT(e,t){var n=yb(e);return n_.M(n.se,t)}var mT=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&xS(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Lu(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=SS(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Lu(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=SS(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=GS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=_S(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Lb.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),YS())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ob(this.mutations,e.mutations,(function(e,t){return TS(e,t)}))&&Ob(this.baseMutations,e.baseMutations,(function(e,t){return TS(e,t)}))}}]),e}(),yT=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){mb(t.mutations.length===r.length);for(var i=QS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),gT=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),wT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lb.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:b_.EMPTY_BYTE_STRING;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),kT=v((function e(t){h(this,e),this.ie=t}));function bT(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_T(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:gE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:dE(e,t.version.toTimestamp()),createTime:dE(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xT(t.version)};else{if(!t.isUnknownDocument())return vb();r.unknownDocument={path:n.path.toArray(),version:xT(t.version)}}return r}function _T(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xT(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ST(e){var t=new Db(e.seconds,e.nanoseconds);return Lb.fromTimestamp(t)}function ET(e,t){for(var n=(t.baseMutations||[]).map((function(t){return CE(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return CE(e.ie,t)})),s=Db.fromMillis(t.localWriteTimeMs);return new mT(t.batchId,s,n,o)}function TT(e){var t,n,r=ST(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ST(e.lastLimboFreeSnapshotVersion):Lb.min();return void 0!==e.query.documents?(mb(1===(n=e.query).documents.length),t=Gx(Vx(bE(n.documents[0])))):t=function(e){return Gx(PE(e))}(e.query),new wT(t,e.targetId,0,e.lastListenSequenceNumber,r,i,b_.fromBase64String(e.resumeToken))}function IT(e,t){var n,r=xT(t.snapshotVersion),i=xT(t.lastLimboFreeSnapshotVersion);n=Dx(t.target)?NE(e.ie,t.target):AE(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ox(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function CT(e){var t=PE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qx(t,t.limit,"L"):t}function NT(e,t){return new gT(t.largestBatchId,CE(e.ie,t.overlayMutation))}function AT(e,t){var n=t.path.lastSegment();return[e,qE(t.path.popLast()),n]}function PT(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:xT(r.readTime),documentKey:qE(r.documentKey.path),largestBatchId:r.largestBatchId}}var OT=function(){function e(){h(this,e)}return v(e,[{key:"getBundleMetadata",value:function(e,t){return RT(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ST(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return RT(e).put({bundleId:(n=t).id,createTime:xT(vE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return DT(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:CT(t.bundledQuery),readTime:ST(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return DT(e).put(function(e){return{name:e.name,readTime:xT(vE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function RT(e){return vT(e,"bundles")}function DT(e){return vT(e,"namedQueries")}var LT=function(){function e(t,n){h(this,e),this.yt=t,this.userId=n}return v(e,[{key:"getOverlay",value:function(e,t){var n=this;return MT(e).get(AT(this.userId,t)).next((function(e){return e?NT(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=HS();return e_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new gT(t,a);i.push(r.oe(e,o))})),e_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(qE(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(MT(e).Y("collectionPathOverlayIndex",i))})),e_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=HS(),a=qE(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return MT(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Lu(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=NT(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=HS(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return MT(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=NT(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return MT(e).put(function(e,t,n){var r=l(AT(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:IE(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function MT(e){return vT(e,"documentOverlays")}var jT=function(){function e(){h(this,e)}return v(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(S_(e.integerValue));else if("doubleValue"in e){var n=S_(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),w_(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(E_(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?H_(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):vb()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=Lu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Vb.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function FT(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function UT(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=FT(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}jT.Ie=new jT;var VT=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return v(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=Lu(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=Lu(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=UT(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=UT(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),qT=function(){function e(t){h(this,e),this.$e=t}return v(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),BT=function(){function e(t){h(this,e),this.$e=t}return v(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),zT=function(){function e(){h(this,e),this.$e=new VT,this.Be=new qT(this.$e),this.Le=new BT(this.$e)}return v(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),WT=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return v(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function HT(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=GT(e.arrayValue,t.arrayValue))?n:0!==(n=GT(e.directionalValue,t.directionalValue))?n:Vb.comparator(e.documentKey,t.documentKey)}function GT(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var KT=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=Lu(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return v(e,[{key:"je",value:function(e){mb(e.collectionGroup===this.collectionId);var t=Bb(e);if(void 0!==t&&!this.We(t))return!1;for(var n=zb(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=Lu(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function QT(e){var t,n;if(mb(e instanceof ex||e instanceof tx),e instanceof ex){if(e instanceof vx){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return ex.create(e.field,"==",t)})))||[];return tx.create(r,"or")}return e}var i=e.filters.map((function(e){return QT(e)}));return tx.create(i,e.op)}function $T(e){if(0===e.getFilters().length)return[];var t=ZT(QT(e));return mb(JT(t)),YT(t)||XT(t)?[t]:t.getFilters()}function YT(e){return e instanceof ex}function XT(e){return e instanceof tx&&ix(e)}function JT(e){return YT(e)||XT(e)||function(e){if(e instanceof tx&&rx(e)){var t,n=Lu(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!YT(r)&&!XT(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function ZT(e){if(mb(e instanceof ex||e instanceof tx),e instanceof ex)return e;if(1===e.filters.length)return ZT(e.filters[0]);var t=e.filters.map((function(e){return ZT(e)})),n=tx.create(t,e.op);return JT(n=nI(n))?n:(mb(n instanceof tx),mb(nx(n)),mb(n.filters.length>1),n.filters.reduce((function(e,t){return eI(e,t)})))}function eI(e,t){var n;return mb(e instanceof ex||e instanceof tx),mb(t instanceof ex||t instanceof tx),n=e instanceof ex?t instanceof ex?function(e,t){return tx.create([e,t],"and")}(e,t):tI(e,t):t instanceof ex?tI(t,e):function(e,t){if(mb(e.filters.length>0&&t.filters.length>0),nx(e)&&nx(t))return ux(e,t.getFilters());var n=rx(e)?e:t,r=rx(e)?t:e,i=n.filters.map((function(e){return eI(e,r)}));return tx.create(i,"or")}(e,t),nI(n)}function tI(e,t){if(nx(t))return ux(t,e.getFilters());var n=t.filters.map((function(t){return eI(e,t)}));return tx.create(n,"or")}function nI(e){if(mb(e instanceof ex||e instanceof tx),e instanceof ex)return e;var t=e.getFilters();if(1===t.length)return nI(t[0]);if(ax(e))return e;var n=t.map((function(e){return nI(e)})),r=[];return n.forEach((function(t){t instanceof ex?r.push(t):t instanceof tx&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:tx.create(r,e.op)}var rI=function(){function e(){h(this,e),this.Je=new iI}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),e_.resolve()}},{key:"getCollectionParents",value:function(e,t){return e_.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return e_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return e_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return e_.resolve(null)}},{key:"getIndexType",value:function(e,t){return e_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return e_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return e_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return e_.resolve(Qb.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return e_.resolve(Qb.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return e_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return e_.resolve()}}]),e}(),iI=function(){function e(){h(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xx(jb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new xx(jb.comparator)).toArray()}}]),e}(),aI=new Uint8Array(0),oI=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.Ye=new iI,this.Xe=new US((function(e){return Ox(e)}),(function(e,t){return Rx(e,t)})),this.uid=t.uid||""}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:qE(i)};return sI(e).put(a)}return e_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Rb(t),""],!1,!0);return sI(e).W(r).next((function(e){var r,i=Lu(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(WE(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=cI(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=lI(e);return a.next((function(e){o.put(PT(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=cI(e),r=lI(e),i=uI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=uI(e),i=!0,a=new Map;return e_.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=YS(),o=[];return e_.forEach(a,(function(i,a){var s;fb("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ox(t)));var u=function(e,t){var n=Bb(t);if(void 0===n)return null;var r,i=Lu(Lx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Lu(zb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Lu(Lx(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Lu(zb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Mx(e,o.fieldPath,e.startAt):jx(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Y_(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Lu(zb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?jx(e,o.fieldPath,e.endAt):Mx(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Y_(r,i)}(a,i),d=n.en(i,a,l),h=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,u,d,l.inclusive,h,f.inclusive,p);return e_.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Vb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return e_.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:$T(tx.create(e.filters,"and")).map((function(t){return Px(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.rn(t[u/c]):aI,h=s.on(e,f,n[u%c],r),p=s.un(e,f,i[u%c],a),v=o.map((function(t){return s.on(e,f,t,!0)}));l.push.apply(l,d(s.createRange(h,p,v)))},h=0;h<u;++h)f(h);return l}},{key:"on",value:function(e,t,n,r){var i=new WT(e,Vb.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new WT(e,Vb.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new KT(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Lu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return e_.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new xx(Ub.comparator),r=!1,i=Lu(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Lu(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=Lu(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new zT,i=Lu(zb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);jT.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new zT;return jT.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new zT;return jT.Ie.ue(F_(this.databaseId,t),n.qe(function(e){var t=zb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zT);var i,a=0,o=Lu(zb(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Lu(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&V_(c))r=this.ln(r,u,c);else{var d=f.qe(u.kind);jT.Ie.ue(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=d(e),a=[],o=Lu(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Lu(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new zT;f.seed(l.Fe()),jT.Ie.ue(u,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ex&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=cI(e),i=lI(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return e_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Hb(t.sequenceNumber,new Qb(ST(t.readTime),new Vb(WE(t.documentKey)),t.largestBatchId)):Hb.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Wb(Ub.fromServerFormat(n),r)}));return new qb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Pb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=cI(e),a=lI(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return e_.forEach(t,(function(t){return a.put(PT(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return e_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?e_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),e_.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?e_.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return uI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return uI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=uI(e),i=new xx(HT);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new WT(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new xx(HT),r=this.cn(t,e);if(null==r)return n;var i=Bb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(V_(a)){var o,s=Lu(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new WT(t.indexId,e.key,this.rn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new WT(t.indexId,e.key,aI,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;fb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Ex(a),u=Ex(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Ex(o)):l?(i(s),s=Ex(a)):(s=Ex(a),u=Ex(o))}}(r,i,HT,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),e_.waitFor(o)}},{key:"dn",value:function(e){var t=1;return lI(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return HT(e,t)})).filter((function(e,t,n){return!t||0!==HT(e,n[t-1])}));var r=[];r.push(e);var i,a=Lu(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=HT(o,e),u=HT(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,aI,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,aI,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"pn",value:function(e,t){return HT(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(fI)}},{key:"getMinOffset",value:function(e,t){var n=this;return e_.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||vb()}))})).next(fI)}}]),e}();function sI(e){return vT(e,"collectionParents")}function uI(e){return vT(e,"indexEntries")}function cI(e){return vT(e,"indexConfiguration")}function lI(e){return vT(e,"indexState")}function fI(e){mb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;$b(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qb(t.readTime,t.documentKey,n)}var dI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hI=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function pI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){mb(1===s)})));var c,l=[],f=Lu(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=KE(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return e_.waitFor(a).next((function(){return l}))}function vI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vb();t=e.noDocument}return JSON.stringify(t).length}hI.DEFAULT_COLLECTION_PERCENTILE=10,hI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hI.DEFAULT=new hI(41943040,hI.DEFAULT_COLLECTION_PERCENTILE,hI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hI.DISABLED=new hI(-1,0,0);var mI=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return v(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gI(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=wI(e),o=gI(e);return o.add({}).next((function(s){mb("number"==typeof s);var u,c=new mT(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return IE(e.ie,t)})),i=n.mutations.map((function(t){return IE(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],d=new xx((function(e,t){return Pb(e.canonicalString(),t.canonicalString())})),h=Lu(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=KE(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,QE))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),e_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return gI(e).get(t).next((function(e){return e?(mb(e.userId===n.userId),ET(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?e_.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return gI(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(mb(t.batchId>=r),a=ET(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gI(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gI(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return ET(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=GE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return wI(e).Z({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],d=WE(c);if(u===n.userId&&t.path.isEqual(d))return gI(e).get(f).next((function(e){if(!e)throw vb();mb(e.userId===n.userId),a.push(ET(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xx(Pb),i=[];return t.forEach((function(t){var a=GE(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=wI(e).Z({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=WE(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),e_.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=GE(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new xx(Pb);return wI(e).Z({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],d=WE(c);u===n.userId&&r.isPrefixOf(d)?d.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(gI(e).get(t).next((function(e){if(null===e)throw vb();mb(e.userId===n.userId),r.push(ET(n.yt,e))})))})),e_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return pI(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),e_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return e_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return wI(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=WE(e[1]);i.push(a)}else r.done()})).next((function(){mb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return yI(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return kI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return mb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function yI(e,t,n){var r=GE(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return wI(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function gI(e){return vT(e,"mutations")}function wI(e){return vT(e,"documentMutations")}function kI(e){return vT(e,"mutationQueues")}var bI=function(){function e(t){h(this,e),this.bn=t}return v(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),_I=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.yt=n}return v(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new bI(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Lb.fromTimestamp(new Db(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return xI(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return mb(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return xI(e).Z((function(o,s){var u=TT(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return e_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return xI(e).Z((function(e,n){var r=TT(n);t(r)}))}},{key:"Vn",value:function(e){return SI(e).get("targetGlobalKey").next((function(e){return mb(null!==e),e}))}},{key:"Sn",value:function(e,t){return SI(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return xI(e).put(IT(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ox(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xI(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=TT(n);Rx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=EI(e);return t.forEach((function(t){var o=qE(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),e_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=EI(e);return e_.forEach(t,(function(t){var a=qE(t.path);return e_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=EI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=EI(e),i=YS();return r.Z({range:n,X:!0},(function(e,t,n){var r=WE(e[1]),a=new Vb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=qE(t.path),r=IDBKeyRange.bound([n],[Rb(n)],!1,!0),i=0;return EI(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return xI(e).get(t).next((function(e){return e?TT(e):null}))}}]),e}();function xI(e){return vT(e,"targets")}function SI(e){return vT(e,"targetGlobal")}function EI(e){return vT(e,"targetDocuments")}function TI(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Pb(r,o);return 0===u?Pb(i,s):u}var II=function(){function e(t){h(this,e),this.xn=t,this.buffer=new xx(TI),this.Nn=0}return v(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();TI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),CI=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return v(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;fb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!a_(e.t0)){e.next=12;break}fb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Jb(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),NI=function(){function e(t,n){h(this,e),this.$n=t,this.params=n}return v(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return e_.resolve(d_.at);var r=new II(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(fb("LruGarbageCollector","Garbage collection skipped; disabled"),e_.resolve(dI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(fb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),dI):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(fb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),lb()<=Dc.DEBUG&&fb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),e_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),AI=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=function(e,t){return new NI(e,t)}(this,n)}return v(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return PI(e,n)}},{key:"removeReference",value:function(e,t,n){return PI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return PI(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return kI(e).tt((function(r){return yI(e,r,t).next((function(e){return e&&(n=!0),e_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Lb.min()),EI(e).delete([0,qE(o.path)])}))}));i.push(u)}})).next((function(){return e_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return PI(e,t)}},{key:"Kn",value:function(e,t){var n,r=EI(e),i=d_.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==d_.at&&t(new Vb(WE(n)),i),i=u,n=s):i=d_.at})).next((function(){i!==d_.at&&t(new Vb(WE(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function PI(e,t){return EI(e).put(function(e,t){return{targetId:0,path:qE(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var OI=function(){function e(){h(this,e),this.changes=new US((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Nx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?e_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),RI=function(){function e(t){h(this,e),this.yt=t}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return jI(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return jI(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_T(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Nx.newInvalidDocument(t);return jI(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(FI(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Nx.newInvalidDocument(t)};return jI(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(FI(t))},(function(e,i){r={document:n.jn(t,i),size:vI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=qS();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=qS(),i=new kx(Vb.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,vI(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return e_.resolve();var r=new xx(VI);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(FI(r.first()),FI(r.last())),a=r.getIterator(),o=a.getNext();return jI(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Vb.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&VI(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(FI(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),_T(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jI(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=qS(),i=Lu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Vb.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=qS(),o=UI(t,n),s=UI(t,Qb.max());return jI(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(Vb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new LI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return MI(e).get("remoteDocumentGlobalKey").next((function(e){return mb(!!e),e}))}},{key:"Qn",value:function(e,t){return MI(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=EE(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Vb.fromSegments(t.noDocument.path),i=ST(t.noDocument.readTime);n=Nx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return vb();var a=Vb.fromSegments(t.unknownDocument.path),o=ST(t.unknownDocument.version);n=Nx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Db(e[0],e[1]);return Lb.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Lb.min()))return n}return Nx.newInvalidDocument(e)}}]),e}();function DI(e){return new RI(e)}var LI=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new US((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new xx((function(e,t){return Pb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=bT(t.Yn.yt,o);i=i.add(a.path.popLast());var c=vI(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=bT(t.Yn.yt,o.convertToNoDocument(Lb.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),e_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(OI);function MI(e){return vT(e,"remoteDocumentGlobal")}function jI(e){return vT(e,"remoteDocumentsV14")}function FI(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function UI(e,t){var n=t.documentKey.path.toArray();return[e,_T(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function VI(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Pb(n[a],r[a]))return i;return(i=Pb(n.length,r.length))||((i=Pb(n[n.length-2],r[r.length-2]))||Pb(n[n.length-1],r[r.length-1]))}var qI=v((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),BI=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&SS(r.mutation,e,Tx.empty(),Db.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,YS()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:YS(),i=HS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=zS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=HS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,YS())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=qS(),a=KS(),o=KS();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof CS)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),SS(o.mutation,t,o.mutation.getFieldMask(),Db.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new qI(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=KS(),i=new kx((function(e,t){return e-t})),a=YS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Lu(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Tx.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||YS()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=GS();c.forEach((function(e){if(!a.has(e)){var n=_S(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return e_.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Vb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):e_.resolve(HS()),s=-1,u=a;return o.next((function(t){return e_.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?e_.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,YS())})).next((function(e){return{batchId:s,changes:WS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Vb(t)).next((function(e){var t=zS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zS();return this.indexManager.getCollectionParents(e,i).next((function(o){return e_.forEach(o,(function(o){var s=function(e,t){return new Fx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Nx.newInvalidDocument(n)))}));var n=zS();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&SS(a.mutation,i,Tx.empty(),Db.now()),Jx(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),zI=function(){function e(t){h(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return e_.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:vE(n.createTime)}),e_.resolve()}},{key:"getNamedQuery",value:function(e,t){return e_.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:CT(e.bundledQuery),readTime:vE(e.readTime)}}(t)),e_.resolve()}}]),e}(),WI=function(){function e(){h(this,e),this.overlays=new kx(Vb.comparator),this.es=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return e_.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=HS();return e_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),e_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),e_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=HS(),i=t.length+1,a=new Vb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return e_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new kx((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=HS(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=HS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return e_.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new gT(t,n));var a=this.es.get(t);void 0===a&&(a=YS(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),HI=function(){function e(){h(this,e),this.ns=new xx(GI.ss),this.rs=new xx(GI.os)}return v(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new GI(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new GI(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Vb(new jb([])),r=new GI(n,e),i=new GI(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Vb(new jb([])),n=new GI(t,e),r=new GI(t,e+1),i=YS();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new GI(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),GI=function(){function e(t,n){h(this,e),this.key=t,this._s=n}return v(e,null,[{key:"ss",value:function(e,t){return Vb.comparator(e.key,t.key)||Pb(e._s,t._s)}},{key:"os",value:function(e,t){return Pb(e._s,t._s)||Vb.comparator(e.key,t.key)}}]),e}(),KI=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new xx(GI.ss)}return v(e,[{key:"checkEmpty",value:function(e){return e_.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new mT(i,t,n,r);this.mutationQueue.push(a);var o,s=Lu(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new GI(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return e_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return e_.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return e_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return e_.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return e_.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new GI(t,0),i=new GI(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),e_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xx(Pb);return t.forEach((function(e){var t=new GI(e,0),i=new GI(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),e_.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Vb.isDocumentKey(i)||(i=i.child(""));var a=new GI(new Vb(i),0),o=new xx(Pb);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),e_.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;mb(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return e_.forEach(t.mutations,(function(i){var a=new GI(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new GI(t,0),r=this.gs.firstAfterOrEqual(n);return e_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,e_.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),QI=function(){function e(t){h(this,e),this.Es=t,this.docs=new kx(Vb.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return e_.resolve(n?n.document.mutableCopy():Nx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=qS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Nx.newInvalidDocument(e))})),e_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=qS(),i=new Vb(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||$b(Kb(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return e_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vb()}},{key:"As",value:function(e,t){return e_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new $I(this)}},{key:"getSize",value:function(e){return e_.resolve(this.size)}}]),e}(),$I=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).Yn=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),e_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(OI),YI=function(){function e(t){h(this,e),this.persistence=t,this.Rs=new US((function(e){return Ox(e)}),Rx),this.lastRemoteSnapshotVersion=Lb.min(),this.highestTargetId=0,this.bs=0,this.Ps=new HI,this.targetCount=0,this.vs=bI.Pn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),e_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return e_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return e_.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),e_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),e_.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new bI(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,e_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),e_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,e_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),e_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return e_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return e_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),e_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),e_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),e_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return e_.resolve(n)}},{key:"containsKey",value:function(e,t){return e_.resolve(this.Ps.containsKey(t))}}]),e}(),XI=function(){function e(t,n){var r=this;h(this,e),this.Vs={},this.overlays={},this.Ss=new d_(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new YI(this),this.indexManager=new rI,this.remoteDocumentCache=new QI((function(e){return r.referenceDelegate.xs(e)})),this.yt=new kT(n),this.Ns=new zI(this.yt)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new WI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new KI(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;fb("MemoryPersistence","Starting transaction:",e);var i=new JI(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return e_.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),JI=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(Xb),ZI=function(){function e(t){h(this,e),this.persistence=t,this.Fs=new HI,this.$s=null}return v(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw vb()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),e_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),e_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),e_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return e_.forEach(this.Ls,(function(r){var i=Vb.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Lb.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return e_.or([function(){return e_.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),eC=function(){function e(t){h(this,e),this.yt=t}return v(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new t_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HE,{unique:!0}),e.createObjectStore("documentMutations")}(e),tC(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=e_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),tC(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HE,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return e_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:oT});t.createIndex("collectionPathOverlayIndex",sT,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",uT,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:$E});t.createIndex("documentKeyIndex",YE),t.createIndex("collectionGroupIndex",XE)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:nT}).createIndex("sequenceNumberIndex",rT,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:iT}).createIndex("documentKeyIndex",aT,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=vI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return e_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return e_.forEach(r,(function(r){mb(r.userId===n.userId);var i=ET(t.yt,r);return pI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new jb(n),o=function(e){return[0,qE(e)]}(a);r.push(t.get(o).next((function(n){return n?e_.resolve():function(n){return t.put({targetId:0,path:qE(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return e_.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:tT});var n=t.store("collectionParents"),r=new iI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qE(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new jb(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],WE(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=TT(r),a=IT(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Vb(jb.fromString(i.document.name).popFirst(5)):i.noDocument?Vb.fromSegments(i.noDocument.path):i.unknownDocument?Vb.fromSegments(i.unknownDocument.path):vb()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return e_.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=DI(this.yt),a=new XI(ZI.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:YS();ET(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),e_.forEach(r,(function(e,r){var o=new sb(r),s=LT.re(n.yt,o),u=a.getIndexManager(o),c=mI.re(o,n.yt,u,a.referenceDelegate);return new BI(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new pT(t,d_.at),e).next()}))}))}}]),e}();function tC(e){e.createObjectStore("targetDocuments",{keyPath:ZE}).createIndex("documentTargetsIndex",eT,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JE,{unique:!0}),e.createObjectStore("targetGlobal")}var nC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rC=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new wb(gb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AI(this,i),this.ii=n+"main",this.yt=new kT(u),this.ri=new n_(this.ii,this.Xs,new eC(this.yt)),this.Cs=new _I(this.referenceDelegate,this.yt),this.remoteDocumentCache=DI(this.yt),this.Ns=new OT,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&db("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return v(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new wb(gb.FAILED_PRECONDITION,nC);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new d_(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=ir(nr().mark((function n(r){return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=ir(nr().mark((function t(n){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return aC(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(a_(t))return fb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return fb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return iC(e).get("owner").next((function(e){return e_.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return aC(e).delete(this.clientId)}},{key:"yi",value:function(){var e=ir(nr().mark((function e(){var t,n,r,i,a=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=vT(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return e_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Lu(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?e_.resolve(!0):iC(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new wb(gb.FAILED_PRECONDITION,nC);return!1}}return!(!t.networkEnabled||!t.inForeground)||aC(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&fb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ir(nr().mark((function e(){var t=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new pT(e,d_.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return aC(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return mI.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new oI(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return LT.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;fb("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?hT:14===i?dT:13===i?fT:12===i?lT:11===i?cT:void vb();return this.ri.runTransaction(e,o,s,(function(i){return a=new pT(i,r.Ss?r.Ss.next():d_.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw db("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new wb(gb.FAILED_PRECONDITION,Yb);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return iC(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new wb(gb.FAILED_PRECONDITION,nC)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return iC(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=iC(e);return n.get("owner").next((function(e){return t.mi(e)?(fb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):e_.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(db("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!$u()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return fb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return db("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(ji){db("Failed to set zombie client id.",ji)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(ji){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return n_.C()}}]),e}();function iC(e){return vT(e,"owner")}function aC(e){return vT(e,"clientMetadata")}function oC(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var sC=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return v(e,null,[{key:"Ci",value:function(t,n){var r,i=YS(),a=YS(),o=Lu(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),uC=function(){function e(){h(this,e),this.xi=!1}return v(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(qx(t))return e_.resolve(null);var r=Gx(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Qx(t,null,"F"),r=Gx(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=YS.apply(void 0,d(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Qx(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return qx(t)||r.isEqual(Lb.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(lb()<=Dc.DEBUG&&fb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xx(t)),i.Bi(e,o,t,Gb(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new xx(eS(e));return t.forEach((function(t,r){Jx(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return lb()<=Dc.DEBUG&&fb("QueryEngine","Using full collection scan to execute query:",Xx(t)),this.Ni.getDocumentsMatchingQuery(e,t,Qb.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),cC=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new kx(Pb),this.Ui=new US((function(e){return Ox(e)}),Rx),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return v(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BI(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function lC(e,t,n,r){return new cC(e,t,n,r)}function fC(e,t){return dC.apply(this,arguments)}function dC(){return dC=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=YS(),u=Lu(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Lu(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;s=s.add(d.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){u.e(w)}finally{u.f()}var h,p=Lu(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=Lu(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){p.e(w)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),dC.apply(this,arguments)}function hC(e,t){var n=yb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=e_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);mb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=YS(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function pC(e){var t=yb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function vC(e,t){var n=yb(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(b_.EMPTY_BYTE_STRING,Lb.min()).withLastLimboFreeSnapshotVersion(Lb.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=qS(),u=YS();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(mC(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Lb.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return e_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function mC(e,t,n){var r=YS(),i=YS();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=qS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lb.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):fb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function yC(e,t){var n=yb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function gC(e,t){var n=yb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,e_.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new wT(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function wC(e,t,n){return kC.apply(this,arguments)}function kC(){return kC=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yb(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),a_(e.t1)){e.next=12;break}throw e.t1;case 12:fb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),kC.apply(this,arguments)}function bC(e,t,n){var r=yb(e),i=Lb.min(),a=YS();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=yb(e),i=r.Ui.get(n);return void 0!==i?e_.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Gx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Lb.min(),n?a:YS())})).next((function(e){return SC(r,Zx(t),e),{documents:e,Hi:a}}))}))}function _C(e,t){var n=yb(e),r=yb(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function xC(e,t){var n=yb(e),r=n.Ki.get(t)||Lb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Gb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return SC(n,t,e),e}))}function SC(e,t,n){var r=e.Ki.get(t)||Lb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function EC(e,t,n,r){return TC.apply(this,arguments)}function TC(){return TC=ir(nr().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,h,p;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=yb(t),o=YS(),s=qS(),u=Lu(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,d)}catch(v){u.e(v)}finally{u.f()}return h=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,gC(a,function(e){return Gx(Vx(jb.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return mC(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function IC(e,t){return CC.apply(this,arguments)}function CC(){return CC=ir(nr().mark((function e(t,n){var r,i,a,o=arguments;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:YS(),e.next=3,gC(t,Gx(CT(n.bundledQuery)));case 3:return i=e.sent,a=yb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=vE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(b_.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function NC(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function AC(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function PC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var OC=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return v(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new wb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(db("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),RC=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return v(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new wb(i.error.code,i.error.message))),a?new e(t,i.state,r):(db("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),DC=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return v(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=JS(),o=0;i&&o<r.activeTargetIds.length;++o)i=k_(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(db("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),LC=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return v(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(db("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),MC=function(){function e(){h(this,e),this.activeTargetIds=JS()}return v(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jC=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new kx(Pb),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=NC(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new MC),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return v(e,[{key:"start",value:function(){var e=ir(nr().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,d=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Lu(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(NC(this.persistenceKey,i)))&&(o=DC.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=Lu(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(h){c.e(h)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(PC(this.persistenceKey,e));if(n){var r=RC.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(PC(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return fb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){fb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){fb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(fb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void db("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(ir(nr().mark((function e(){var r,i,a,o,s,u,c;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=d_.at;if(null!=e)try{var n=JSON.parse(e);mb("number"==typeof n),t=n}catch(e){db("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==d_.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new OC(this.currentUser,e,t,n),i=AC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=AC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=PC(this.persistenceKey,e),i=new RC(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return DC.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return OC.Zi(new sb(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return RC.Zi(r,t)}},{key:"yr",value:function(e){return LC.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:fb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=JS();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),FC=function(){function e(){h(this,e),this.Lr=new MC,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new MC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),UC=function(){function e(){h(this,e)}return v(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),VC=function(){function e(){var t=this;h(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return v(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){fb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Lu(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){fb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Lu(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),qC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},BC=function(){function e(t){h(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return v(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),zC=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return v(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ab;o.setWithCredentials(!0),o.listenOnce(eb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Zk.NO_ERROR:var t=o.getResponseJson();fb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Zk.TIMEOUT:fb("Connection",'RPC "'+e+'" timed out'),a(new wb(gb.DEADLINE_EXCEEDED,"Request time out"));break;case Zk.HTTP_ERROR:var n=o.getStatus();if(fb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gb).indexOf(t)>=0?t:gb.UNKNOWN}(s.status);a(new wb(u,s.message))}else a(new wb(gb.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new wb(gb.UNAVAILABLE,"Connection failed."));break;default:vb()}}finally{fb("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xk(),a=Jk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new rb({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");fb("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new BC({Hr:function(e){l?fb("Connection","Not sending because WebChannel is closed:",e):(c||(fb("Connection","Opening WebChannel transport."),u.open(),c=!0),fb("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(u,ib.EventType.OPEN,(function(){l||fb("Connection","WebChannel transport opened.")})),d(u,ib.EventType.CLOSE,(function(){l||(l=!0,fb("Connection","WebChannel transport closed"),f.io())})),d(u,ib.EventType.ERROR,(function(e){l||(l=!0,hb("Connection","WebChannel transport errored:",e),f.io(new wb(gb.UNAVAILABLE,"The operation could not be completed")))})),d(u,ib.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];mb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){fb("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=OS[e];if(void 0!==t)return FS(t)}(a),s=i.message;void 0===o&&(o=gb.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new wb(o,s)),u.close()}else fb("Connection","WebChannel received:",n),f.ro(n)}})),d(a,tb.STAT_EVENT,(function(e){e.stat===nb.PROXY?fb("Connection","Detected buffering proxy"):e.stat===nb.NOPROXY&&fb("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);fb("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return fb("RestConnection","Received: ",e),e}),(function(t){throw hb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ub,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=qC[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function WC(){return"undefined"!=typeof window?window:null}function HC(){return"undefined"!=typeof document?document:null}function GC(e){return new fE(e,!0)}var KC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&fb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),QC=function(){function e(t,n,r,i,a,o,s,u){h(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new KC(t,n)}return v(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===gb.RESOURCE_EXHAUSTED?(db(n.toString()),db("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===gb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new wb(gb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return fb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(fb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),$C=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return v(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(mb(void 0===t||"string"==typeof t),b_.fromBase64String(t||"")):(mb(void 0===t||t instanceof Uint8Array),b_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?gb.UNKNOWN:FS(e.code);return new wb(t,e.message||"")}(o);n=new rE(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=wE(e,u.document.name),l=vE(u.document.updateTime),f=u.document.createTime?vE(u.document.createTime):Lb.min(),d=new Ix({mapValue:{fields:u.document.fields}}),h=Nx.newFoundDocument(c,l,f,d),p=u.targetIds||[],v=u.removedTargetIds||[];n=new tE(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=wE(e,m.document),g=m.readTime?vE(m.readTime):Lb.min(),w=Nx.newNoDocument(y,g),k=m.removedTargetIds||[];n=new tE([],k,w.key,w)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=wE(e,b.document),x=b.removedTargetIds||[];n=new tE([],x,_,null)}else{if(!("filter"in t))return vb();t.filter;var S=t.filter;S.targetId;var E=S.count||0,T=new MS(E),I=S.targetId;n=new nE(I,T)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Lb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lb.min():t.readTime?vE(t.readTime):Lb.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=_E(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Dx(r)?{documents:NE(e,r)}:{query:AE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hE(e,t.resumeToken):t.snapshotVersion.compareTo(Lb.min())>0&&(n.readTime=dE(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=_E(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(QC),YC=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return v(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Du(g(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(mb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(mb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?vE(e.updateTime):vE(t);return n.isEqual(Lb.min())&&(n=vE(t)),new gS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=vE(e.commitTime);return this.listener.Zo(n,t)}return mb(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=_E(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return IE(t.yt,e)}))};this.Bo(n)}}]),n}(QC),XC=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return v(n,[{key:"su",value:function(){if(this.nu)throw new wb(gb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new wb(gb.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gb.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new wb(gb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return v((function e(){h(this,e)}))}());var JC=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return v(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(db(t),this.ou=!1):fb("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),ZC=v((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=lN(o),!e.t0){e.next=5;break}return fb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yb(t))._u.add(4),e.next=4,nN(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,eN(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new JC(r,i)}));function eN(e){return tN.apply(this,arguments)}function tN(){return tN=ir(nr().mark((function e(t){var n,r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lN(t)){e.next=18;break}n=Lu(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),tN.apply(this,arguments)}function nN(e){return rN.apply(this,arguments)}function rN(){return rN=ir(nr().mark((function e(t){var n,r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lu(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),rN.apply(this,arguments)}function iN(e,t){var n=yb(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),cN(n)?uN(n):UN(n).ko()&&oN(n,t))}function aN(e,t){var n=yb(e),r=UN(n);n.du.delete(t),r.ko()&&sN(n,t),0===n.du.size&&(r.ko()?r.Fo():lN(n)&&n.gu.set("Unknown"))}function oN(e,t){e.yu.Ot(t.targetId),UN(e).zo(t)}function sN(e,t){e.yu.Ot(t),UN(e).Ho(t)}function uN(e){e.yu=new aE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),UN(e).start(),e.gu.uu()}function cN(e){return lN(e)&&!UN(e).No()&&e.du.size>0}function lN(e){return 0===yb(e)._u.size}function fN(e){e.yu=void 0}function dN(e){return hN.apply(this,arguments)}function hN(){return hN=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){oN(t,e)}));case 1:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function pN(e,t){return vN.apply(this,arguments)}function vN(){return vN=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fN(t),cN(t)?(t.gu.hu(n),uN(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function mN(e,t,n){return yN.apply(this,arguments)}function yN(){return yN=ir(nr().mark((function e(t,n,r){var i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof rE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ir(nr().mark((function e(t,n){var r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Lu(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,gN(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof tE?t.yu.Kt(n):n instanceof nE?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Lb.min())){e.next=29;break}return e.prev=14,e.next=17,pC(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(b_.EMPTY_BYTE_STRING,n.snapshotVersion)),sN(e,t);var r=new wT(n.target,t,1,n.sequenceNumber);oN(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),fb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gN(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),yN.apply(this,arguments)}function gN(e,t,n){return wN.apply(this,arguments)}function wN(){return wN=ir(nr().mark((function e(t,n,r){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a_(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,nN(t);case 5:t.gu.set("Offline"),r||(r=function(){return pC(t.localStore)}),t.asyncQueue.enqueueRetryable(ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,eN(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),wN.apply(this,arguments)}function kN(e,t){return t().catch((function(n){return gN(e,n,t)}))}function bN(e){return _N.apply(this,arguments)}function _N(){return _N=ir(nr().mark((function e(t){var n,r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yb(t),r=VN(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!xN(n)){e.next=19;break}return e.prev=3,e.next=6,yC(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,SN(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gN(n,e.t0);case 17:e.next=2;break;case 19:EN(n)&&TN(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),_N.apply(this,arguments)}function xN(e){return lN(e)&&e.fu.length<10}function SN(e,t){e.fu.push(t);var n=VN(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function EN(e){return lN(e)&&!VN(e).No()&&e.fu.length>0}function TN(e){VN(e).start()}function IN(e){return CN.apply(this,arguments)}function CN(){return CN=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VN(t).eu();case 1:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function NN(e){return AN.apply(this,arguments)}function AN(){return AN=ir(nr().mark((function e(t){var n,r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=VN(t),r=Lu(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),AN.apply(this,arguments)}function PN(e,t,n){return ON.apply(this,arguments)}function ON(){return ON=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=yT.from(i,n,r),e.next=3,kN(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,bN(t);case 5:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}function RN(e,t){return DN.apply(this,arguments)}function DN(){return DN=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&VN(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ir(nr().mark((function e(t,n){var r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jS(i=n.code)||i===gb.ABORTED){e.next=7;break}return r=t.fu.shift(),VN(t).Mo(),e.next=5,kN(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,bN(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:EN(t)&&TN(t);case 5:case"end":return e.stop()}}),e)}))),DN.apply(this,arguments)}function LN(e,t){return MN.apply(this,arguments)}function MN(){return MN=ir(nr().mark((function e(t,n){var r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=yb(t)).asyncQueue.verifyOperationInProgress(),fb("RemoteStore","RemoteStore received new credentials"),i=lN(r),r._u.add(3),e.next=6,nN(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,eN(r);case 12:case"end":return e.stop()}}),e)}))),MN.apply(this,arguments)}function jN(e,t){return FN.apply(this,arguments)}function FN(){return FN=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yb(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,eN(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,nN(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),FN.apply(this,arguments)}function UN(e){return e.pu||(e.pu=function(e,t,n){var r=yb(e);return r.su(),new $C(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:dN.bind(null,e),Zr:pN.bind(null,e),Wo:mN.bind(null,e)}),e.wu.push(function(){var t=ir(nr().mark((function t(n){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),cN(e)?uN(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:fN(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function VN(e){return e.Iu||(e.Iu=function(e,t,n){var r=yb(e);return r.su(),new YC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:IN.bind(null,e),Zr:RN.bind(null,e),tu:NN.bind(null,e),Zo:PN.bind(null,e)}),e.wu.push(function(){var t=ir(nr().mark((function t(n){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,bN(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(fb("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var qN=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new kb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wb(gb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function BN(e,t){if(db("AsyncQueue","".concat(t,": ").concat(e)),a_(e))return new wb(gb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var zN=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||Vb.comparator(e.key,n.key)}:function(e,t){return Vb.comparator(e.key,t.key)},this.keyedMap=zS(),this.sortedSet=new kx(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),WN=function(){function e(){h(this,e),this.Tu=new kx(Vb.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):vb():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),HN=function(){function e(t,n,r,i,a,o,s,u,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$x(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,zN.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),GN=v((function e(){h(this,e),this.Au=void 0,this.listeners=[]})),KN=v((function e(){h(this,e),this.queries=new US((function(e){return Yx(e)}),$x),this.onlineState="Unknown",this.Ru=new Set}));function QN(e,t){return $N.apply(this,arguments)}function $N(){return $N=ir(nr().mark((function e(t,n){var r,i,a,o,s;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new GN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=BN(e.t0,"Initialization of query '".concat(Xx(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&eA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),$N.apply(this,arguments)}function YN(e,t){return XN.apply(this,arguments)}function XN(){return XN=ir(nr().mark((function e(t,n){var r,i,a,o,s;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),XN.apply(this,arguments)}function JN(e,t){var n,r=yb(e),i=!1,a=Lu(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Lu(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&eA(r)}function ZN(e,t,n){var r=yb(e),i=r.queries.get(t);if(i){var a,o=Lu(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function eA(e){e.Ru.forEach((function(e){e.next()}))}var tA=function(){function e(t,n,r){h(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Lu(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new HN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=HN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),nA=function(){function e(t,n){h(this,e),this.ku=t,this.byteLength=n}return v(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),rA=function(){function e(t){h(this,e),this.yt=t}return v(e,[{key:"Ji",value:function(e){return wE(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?EE(this.yt,e.document,!1):Nx.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return vE(e)}}]),e}(),iA=function(){function e(t,n,r){h(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aA(t)}return v(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=jb.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new rA(this.yt),i=Lu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=Lu(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||YS()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ir(nr().mark((function e(){var t,n,r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EC(this.localStore,new rA(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Lu(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,IC(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function aA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var oA=v((function e(t){h(this,e),this.key=t})),sA=v((function e(t){h(this,e),this.key=t})),uA=function(){function e(t,n){h(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=YS(),this.mutatedKeys=YS(),this.Gu=eS(t),this.Qu=new zN(this.Gu)}return v(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new WN,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Jx(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vb()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new HN(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new WN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=YS(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new sA(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new oA(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=YS();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return HN.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),cA=v((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),lA=v((function e(t){h(this,e),this.key=t,this.nc=!1})),fA=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new US((function(e){return Yx(e)}),$x),this.rc=new Map,this.oc=new Set,this.uc=new kx(Vb.comparator),this.cc=new Map,this.ac=new HI,this.hc={},this.lc=new Map,this.fc=bI.vn(),this.onlineState="Unknown",this.dc=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function dA(e,t){return hA.apply(this,arguments)}function hA(){return hA=ir(nr().mark((function e(t,n){var r,i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=aP(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,gC(r.localStore,Gx(n));case 8:return s=e.sent,r.isPrimaryClient&&iN(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,pA(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function pA(e,t,n,r,i){return vA.apply(this,arguments)}function vA(){return vA=ir(nr().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=ir(nr().mark((function e(t,n,r,i){var a,o,s;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,bC(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(LA(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,bC(t.localStore,n,!0);case 3:return o=e.sent,s=new uA(n,o.Hi),u=s.Wu(o.documents),c=eE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),LA(t,r,l.Xu),f=new cA(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=ir(nr().mark((function e(t,n){var r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yb(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!$x(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,wC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),aN(r.remoteStore,i.targetId),RA(r,i.targetId)})).catch(Jb);case 9:e.next=14;break;case 11:return RA(r,i.targetId),e.next=14,wC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t,n){return wA.apply(this,arguments)}function wA(){return wA=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oP(t),e.prev=1,e.next=4,function(e,t){var n,r,i=yb(e),a=Db.now(),o=t.reduce((function(e,t){return e.add(t.key)}),YS());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=qS(),u=YS();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Lu(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=ES(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new CS(c.key,l,Cx(l.value.mapValue),wS.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:WS(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new kx(Pb)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,FA(i,a.changes);case 9:return e.next=11,bN(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=BN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),wA.apply(this,arguments)}function kA(e,t){return bA.apply(this,arguments)}function bA(){return bA=ir(nr().mark((function e(t,n){var r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yb(t),e.prev=1,e.next=4,vC(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(mb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?mb(n.nc):e.removedDocuments.size>0&&(mb(n.nc),n.nc=!1))})),e.next=8,FA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Jb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),bA.apply(this,arguments)}function _A(e,t,n){var r=yb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=yb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Lu(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&eA(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xA(e,t,n){return SA.apply(this,arguments)}function SA(){return SA=ir(nr().mark((function e(t,n,r){var i,a,o,s,u,c;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=yb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new kx(Vb.comparator)).insert(o,Nx.newNoDocument(o,Lb.min())),u=YS().add(o),c=new ZS(Lb.min(),new Map,new xx(Pb),s,u),e.next=9,kA(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),jA(i),e.next=16;break;case 14:return e.next=16,wC(i.localStore,n,!1).then((function(){return RA(i,n,r)})).catch(Jb);case 16:case"end":return e.stop()}}),e)}))),SA.apply(this,arguments)}function EA(e,t){return TA.apply(this,arguments)}function TA(){return TA=ir(nr().mark((function e(t,n){var r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yb(t),i=n.batch.batchId,e.prev=1,e.next=4,hC(r.localStore,n);case 4:return a=e.sent,OA(r,i,null),PA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,FA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),TA.apply(this,arguments)}function IA(e,t,n){return CA.apply(this,arguments)}function CA(){return CA=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yb(t),e.prev=1,e.next=4,function(e,t){var n=yb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return mb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,OA(i,n,r),PA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,FA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),CA.apply(this,arguments)}function NA(e,t){return AA.apply(this,arguments)}function AA(){return AA=ir(nr().mark((function e(t,n){var r,i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lN((r=yb(t)).remoteStore)||fb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=yb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=BN(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),AA.apply(this,arguments)}function PA(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function OA(e,t,n){var r=yb(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function RA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Lu(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||DA(e,t)}))}function DA(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(aN(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),jA(e))}function LA(e,t,n){var r,i=Lu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof oA?(e.ac.addReference(a.key,t),MA(e,a)):a instanceof sA?(fb("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||DA(e,a.key)):vb()}}catch(o){i.e(o)}finally{i.f()}}function MA(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(fb("SyncEngine","New document in limbo: "+n),e.oc.add(r),jA(e))}function jA(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Vb(jb.fromString(t)),r=e.fc.next();e.cc.set(r,new lA(n)),e.uc=e.uc.insert(n,r),iN(e.remoteStore,new wT(Gx(Vx(n.path)),r,2,d_.at))}}function FA(e,t,n){return UA.apply(this,arguments)}function UA(){return UA=ir(nr().mark((function e(t,n,r){var i,a,o,s;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yb(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=sC.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=ir(nr().mark((function e(t,n){var r,i,a,o,s,u,c,l;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return e_.forEach(n,(function(t){return e_.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return e_.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),a_(e.t0)){e.next=10;break}throw e.t0;case 10:fb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Lu(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function VA(e,t){return qA.apply(this,arguments)}function qA(){return qA=ir(nr().mark((function e(t,n){var r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yb(t)).currentUser.isEqual(n)){e.next=11;break}return fb("SyncEngine","User change. New user:",n.toKey()),e.next=5,fC(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new wb(gb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,FA(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),qA.apply(this,arguments)}function BA(e,t){var n=yb(e),r=n.cc.get(t);if(r&&r.nc)return YS().add(r.key);var i=YS(),a=n.rc.get(t);if(!a)return i;var o,s=Lu(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function zA(e,t){return WA.apply(this,arguments)}function WA(){return WA=ir(nr().mark((function e(t,n){var r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yb(t),e.next=3,bC(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&LA(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),WA.apply(this,arguments)}function HA(e,t){return GA.apply(this,arguments)}function GA(){return GA=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yb(t),e.abrupt("return",xC(r.localStore,n).then((function(e){return FA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function KA(e,t,n,r){return QA.apply(this,arguments)}function QA(){return QA=ir(nr().mark((function e(t,n,r,i){var a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yb(t),e.next=3,function(e,t){var n=yb(e),r=yb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):e_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,bN(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(OA(a,n,i||null),PA(a,n),function(e,t){yb(yb(e).mutationQueue).An(t)}(a.localStore,n)):vb();case 11:return e.next=13,FA(a,o);case 13:e.next=16;break;case 15:fb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function $A(e,t){return YA.apply(this,arguments)}function YA(){return YA=ir(nr().mark((function e(t,n){var r,i,a,o,s,u,c,l;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(aP(r=yb(t)),oP(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,XA(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,jN(r.remoteStore,!0);case 9:o=Lu(a);try{for(o.s();!(s=o.n()).done;)u=s.value,iN(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return RA(r,t),wC(r.localStore,t,!0)})),aN(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,XA(r,c);case 21:return function(e){var t=yb(e);t.cc.forEach((function(e,n){aN(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new kx(Vb.comparator)}(r),r.dc=!1,e.next=25,jN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}function XA(e,t,n){return JA.apply(this,arguments)}function JA(){return JA=ir(nr().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v,m,y;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=yb(t),a=[],o=[],s=Lu(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,gC(i.localStore,Gx(f[0]));case 11:l=e.sent,d=Lu(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.ic.get(p),e.next=20,zA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,_C(i.localStore,c);case 36:return y=e.sent,e.next=39,gC(i.localStore,y);case 39:return l=e.sent,e.next=42,pA(i,ZA(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),JA.apply(this,arguments)}function ZA(e){return Ux(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function eP(e){var t=yb(e);return yb(yb(t.localStore).persistence).vi()}function tP(e,t,n,r){return nP.apply(this,arguments)}function nP(){return nP=ir(nr().mark((function e(t,n,r,i){var a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=yb(t)).dc){e.next=3;break}return e.abrupt("return",void fb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,xC(a.localStore,Zx(o[0]));case 10:return s=e.sent,u=ZS.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,b_.EMPTY_BYTE_STRING),e.next=14,FA(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,wC(a.localStore,n,!0);case 17:return RA(a,n,i),e.abrupt("break",20);case 19:vb();case 20:case"end":return e.stop()}}),e)}))),nP.apply(this,arguments)}function rP(e,t,n){return iP.apply(this,arguments)}function iP(){return iP=ir(nr().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=aP(t)).dc){e.next=45;break}a=Lu(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return fb("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,_C(i.localStore,s);case 12:return u=e.sent,e.next=15,gC(i.localStore,u);case 15:return c=e.sent,e.next=18,pA(i,ZA(u),c.targetId,!1,c.resumeToken);case 18:iN(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Lu(r),e.prev=30,d=nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,wC(i.localStore,t,!1).then((function(){aN(i.remoteStore,t),RA(i,t)})).catch(Jb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),iP.apply(this,arguments)}function aP(e){var t=yb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xA.bind(null,t),t.sc.Wo=JN.bind(null,t.eventManager),t.sc.wc=ZN.bind(null,t.eventManager),t}function oP(e){var t=yb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IA.bind(null,t),t}function sP(e,t,n){var r=yb(e);(function(){var e=ir(nr().mark((function e(t,n,r){var i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=yb(e),r=vE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(aA(i)),a=new iA(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,FA(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=yb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(hb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var uP=function(){function e(){h(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=GC(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return lC(this.persistence,new uC,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new XI(ZI.Bs,this.yt)}},{key:"gc",value:function(e){return new FC}},{key:"terminate",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cP=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return v(n,[{key:"initialize",value:function(){var e=ir(nr().mark((function e(t){var r=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,oP(this.Ac.syncEngine);case 6:return e.next=8,bN(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return lC(this.persistence,new uC,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new CI(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new f_(t,this.persistence);return new l_(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=oC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hI.withCacheSize(this.cacheSizeBytes):hI.DEFAULT;return new rC(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,WC(),HC(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new FC}}]),n}(uP),lP=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return v(n,[{key:"initialize",value:function(){var e=ir(nr().mark((function e(t){var r,i=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(g(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof jC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:KA.bind(null,r),$r:tP.bind(null,r),Br:rP.bind(null,r),vi:eP.bind(null,r),Mr:HA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$A(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=WC();if(!jC.C(t))throw new wb(gb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=oC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(cP),fP=function(){function e(){h(this,e)}return v(e,[{key:"initialize",value:function(){var e=ir(nr().mark((function e(t,n){var r=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _A(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=VA.bind(null,this.syncEngine),e.next=12,jN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new KN}},{key:"createDatastore",value:function(e){var t,n=GC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new zC(t));return function(e,t,n,r){return new XC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _A(o.syncEngine,e,0)},a=VC.C()?new VC:new UC,new ZC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new fA(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yb(t),fb("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,nN(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function dP(e,t,n){if(!n)throw new wb(gb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function hP(e,t,n,r){if(!0===t&&!0===r)throw new wb(gb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function pP(e){if(!Vb.isDocumentKey(e))throw new wb(gb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vP(e){if(Vb.isDocumentKey(e))throw new wb(gb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function mP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vb()}function yP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wb(gb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mP(e);throw new wb(gb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function gP(e,t){if(t<=0)throw new wb(gb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var wP=new Map,kP=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new wb(gb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wb(gb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,hP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),bP=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kP({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new wb(gb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new wb(gb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _b;switch(e.type){case"gapi":var t=e.client;return new Tb(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wb(gb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wP.get(e);t&&(fb("ComponentProvider","Removing Datastore"),wP.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function _P(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=yP(e,bP))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&hb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=sb.MOCK_USER;else{o=oc(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new wb(gb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new sb(u)}e._authCredentials=new xb(new bb(o,s))}}var xP=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new EP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),SP=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),EP=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,Vx(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xP(this.firestore,null,new Vb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(SP);function TP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nc(e),dP("collection","path",t),e instanceof bP){var a=jb.fromString.apply(jb,[t].concat(r));return vP(a),new EP(e,null,a)}if(!(e instanceof xP||e instanceof EP))throw new wb(gb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jb.fromString.apply(jb,[t].concat(r)));return vP(o),new EP(e.firestore,null,o)}function IP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nc(e),1===arguments.length&&(t=Ab.R()),dP("doc","path",t),e instanceof bP){var a=jb.fromString.apply(jb,[t].concat(r));return pP(a),new xP(e,null,new Vb(a))}if(!(e instanceof xP||e instanceof EP))throw new wb(gb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jb.fromString.apply(jb,[t].concat(r)));return pP(o),new xP(e.firestore,e instanceof EP?e.converter:null,new Vb(o))}function CP(e,t){return e=Nc(e),t=Nc(t),(e instanceof xP||e instanceof EP)&&(t instanceof xP||t instanceof EP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function NP(e,t){return e=Nc(e),t=Nc(t),e instanceof SP&&t instanceof SP&&e.firestore===t.firestore&&$x(e._query,t._query)&&e.converter===t.converter}function AP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ir(nr().mark((function r(){var i;return nr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var PP=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):db("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),OP=function(){function e(t,n){var r=this;h(this,e),this.Pc=t,this.yt=n,this.metadata=new kb,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return v(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=ir(nr().mark((function e(){var t,n,r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new nA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=ir(nr().mark((function e(){var t,n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=ir(nr().mark((function e(){var t,n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),RP=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return v(e,[{key:"lookup",value:function(){var e=ir(nr().mark((function e(t){var n,r=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new wb(gb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ir(nr().mark((function e(t,n){var r,i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yb(t),i=_E(r.yt)+"/documents",a={documents:n.map((function(e){return gE(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=TE(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());mb(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new DS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ir(nr().mark((function e(){var t,n=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Vb.fromPath(t);n.mutations.push(new LS(r,n.precondition(r)))})),e.next=7,function(){var e=ir(nr().mark((function e(t,n){var r,i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yb(t),i=_E(r.yt)+"/documents",a={writes:n.map((function(e){return IE(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vb();t=Lb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new wb(gb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lb.min())?wS.exists(!1):wS.updateTime(t):wS.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lb.min()))throw new wb(gb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wS.updateTime(t)}return wS.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),DP=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new KC(this.asyncQueue,"transaction_retry")}return v(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(ir(nr().mark((function t(){var n,r;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new RP(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!g_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!jS(t)}return!1}}]),e}(),LP=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sb.UNAUTHENTICATED,this.clientId=Ab.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return fb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new wb(gb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new kb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ir(nr().mark((function n(){var r;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=BN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function MP(e,t){return jP.apply(this,arguments)}function jP(){return jP=ir(nr().mark((function e(t,n){var r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),fb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,fC(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),jP.apply(this,arguments)}function FP(e,t){return UP.apply(this,arguments)}function UP(){return UP=ir(nr().mark((function e(t,n){var r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,VP(t);case 3:return r=e.sent,fb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return LN(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return LN(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),UP.apply(this,arguments)}function VP(e){return qP.apply(this,arguments)}function qP(){return qP=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return fb("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,MP(t,new uP);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),qP.apply(this,arguments)}function BP(e){return zP.apply(this,arguments)}function zP(){return zP=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return fb("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,FP(t,new fP);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),zP.apply(this,arguments)}function WP(e){return VP(e).then((function(e){return e.persistence}))}function HP(e){return VP(e).then((function(e){return e.localStore}))}function GP(e){return BP(e).then((function(e){return e.remoteStore}))}function KP(e){return BP(e).then((function(e){return e.syncEngine}))}function QP(e){return BP(e).then((function(e){return e.datastore}))}function $P(e){return YP.apply(this,arguments)}function YP(){return YP=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BP(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=dA.bind(null,n.syncEngine),r.onUnlisten=mA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),YP.apply(this,arguments)}function XP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kb;return e.asyncQueue.enqueueAndForget(ir(nr().mark((function i(){return nr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new PP({next:function(a){t.enqueueAndForget((function(){return YN(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new wb(gb.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new wb(gb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new tA(Vx(n.path),a,{includeMetadataChanges:!0,Nu:!0});return QN(e,o)},i.next=3,$P(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function JP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kb;return e.asyncQueue.enqueueAndForget(ir(nr().mark((function i(){return nr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new PP({next:function(n){t.enqueueAndForget((function(){return YN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new wb(gb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new tA(n,a,{includeMetadataChanges:!0,Nu:!0});return QN(e,o)},i.next=3,$P(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ZP=function(){function e(){var t=this;h(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new KC(this,"async_queue_retry"),this.Wc=function(){var e=HC();e&&fb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=HC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return v(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=HC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new kb;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=ir(nr().mark((function e(){var t=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),a_(e.t0)){e.next=12;break}throw e.t0;case 12:fb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw db("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=qN.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&vb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Lu(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Lu(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function eO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Lu(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var tO=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new kb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return v(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),nO=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new ZP,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||iO(this),this._firestoreClient.terminate()}}]),n}(bP);function rO(e){return e._firestoreClient||iO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function iO(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new h_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new LP(e._authCredentials,e._appCheckCredentials,e._queue,r)}function aO(e,t,n){var r=new kb;return e.asyncQueue.enqueue(ir(nr().mark((function i(){var a;return nr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,MP(e,n);case 3:return i.next=5,FP(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===gb.FAILED_PRECONDITION||e.code===gb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:hb("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function oO(e){return function(e){return e.asyncQueue.enqueue(ir(nr().mark((function t(){var n,r;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,WP(e);case 2:return n=t.sent,t.next=5,GP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=yb(e);return t._u.delete(0),eN(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(rO(e=yP(e,nO)))}function sO(e){return function(e){return e.asyncQueue.enqueue(ir(nr().mark((function t(){var n,r;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,WP(e);case 2:return n=t.sent,t.next=5,GP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yb(t))._u.add(0),e.next=4,nN(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(rO(e=yP(e,nO)))}function uO(e,t){var n=rO(e=yP(e,nO)),r=new tO;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new OP(e,t)}(function(e,t){if(e instanceof Uint8Array)return AP(e,t);if(e instanceof ArrayBuffer)return AP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,GC(t));e.asyncQueue.enqueueAndForget(ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sP,t.next=3,KP(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function cO(e,t){return function(e,t){return e.asyncQueue.enqueue(ir(nr().mark((function n(){return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=yb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,HP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(rO(e=yP(e,nO)),t).then((function(t){return t?new SP(e,null,t.query):null}))}function lO(e){if(e._initialized||e._terminated)throw new wb(gb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var fO=function(){function e(t){h(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(b_.fromBase64String(t))}catch(t){throw new wb(gb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(b_.fromUint8Array(t))}}]),e}(),dO=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new wb(gb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ub(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var hO=v((function e(t){h(this,e),this._methodName=t})),pO=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new wb(gb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new wb(gb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Pb(this._lat,e._lat)||Pb(this._long,e._long)}}]),e}(),vO=/^__.*__$/,mO=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new CS(e,this.data,this.fieldMask,t,this.fieldTransforms):new IS(e,this.data,t,this.fieldTransforms)}}]),e}(),yO=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new CS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function gO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vb()}}var wO=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return UO(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(gO(this.sa)&&vO.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),kO=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||GC(t)}return v(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wO({sa:e,methodName:t,fa:n,path:Ub.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function bO(e){var t=e._freezeSettings(),n=GC(e._databaseId);return new kO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _O(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);LO("Data must be an object, but it was:",o,r);var s,u,c=RO(r,o);if(a.merge)s=new Tx(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=Lu(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=MO(t,h,n);if(!o.contains(p))throw new wb(gb.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));VO(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}s=new Tx(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new mO(new Ix(c),s,u)}var xO=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hO);function SO(e,t,n){return new wO({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var EO=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){return new yS(e.path,new cS)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hO),TO=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e))._a=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=SO(this,e,!0),n=this._a.map((function(e){return OO(e,t)})),r=new lS(n);return new yS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hO),IO=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e))._a=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=SO(this,e,!0),n=this._a.map((function(e){return OO(e,t)})),r=new dS(n);return new yS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hO),CO=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).wa=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=new pS(e.yt,iS(e.yt,this.wa));return new yS(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hO);function NO(e,t,n,r){var i=e.da(1,t,n);LO("Data must be an object, but it was:",i,r);var a=[],o=Ix.empty();m_(r,(function(e,r){var s=FO(t,e,n);r=Nc(r);var u=i.ca(s);if(r instanceof xO)a.push(s);else{var c=OO(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Tx(a);return new yO(o,s,i.fieldTransforms)}function AO(e,t,n,r,i,a){var o=e.da(1,t,n),s=[MO(t,r,n)],u=[i];if(a.length%2!=0)throw new wb(gb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(MO(t,a[c])),u.push(a[c+1]);for(var l=[],f=Ix.empty(),d=s.length-1;d>=0;--d)if(!VO(l,s[d])){var h=s[d],p=u[d];p=Nc(p);var v=o.ca(h);if(p instanceof xO)l.push(h);else{var m=OO(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Tx(l);return new yO(f,y,o.fieldTransforms)}function PO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return OO(n,e.da(r?4:3,t))}function OO(e,t){if(DO(e=Nc(e)))return LO("Unsupported field value:",t,e),RO(e,t);if(e instanceof hO)return function(e,t){if(!gO(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Lu(e);try{for(a.s();!(n=a.n()).done;){var o=OO(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return iS(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Db.fromDate(e);return{timestampValue:dE(t.yt,n)}}if(e instanceof Db){var r=new Db(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dE(t.yt,r)}}if(e instanceof pO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fO)return{bytesValue:hE(t.yt,e._byteString)};if(e instanceof xP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:mE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(mP(e)))}(e,t)}function RO(e,t){var n={};return y_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):m_(e,(function(e,r){var i=OO(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function DO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Db||e instanceof pO||e instanceof fO||e instanceof xP||e instanceof hO)}function LO(e,t,n){if(!DO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=mP(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function MO(e,t,n){if((t=Nc(t))instanceof dO)return t._internalPath;if("string"==typeof t)return FO(e,t);throw UO("Field path arguments must be of type string or ",e,!1,void 0,n)}var jO=new RegExp("[~\\*/\\[\\]]");function FO(e,t,n){if(t.search(jO)>=0)throw UO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(dO,d(t.split(".")))._internalPath}catch(Wi){throw UO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function UO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new wb(gb.INVALID_ARGUMENT,s+e+u)}function VO(e,t){return e.some((function(e){return e.isEqual(t)}))}var qO=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new xP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new BO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(zO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),BO=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return Du(g(n.prototype),"data",this).call(this)}}]),n}(qO);function zO(e,t){return"string"==typeof t?FO(e,t):t instanceof dO?t._internalPath:t._delegate._internalPath}function WO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new wb(gb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var HO=v((function e(){h(this,e)})),GO=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(HO);function KO(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof HO&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof $O})).length,n=e.filter((function(e){return e instanceof QO})).length;if(t>1||t>0&&n>0)throw new wb(gb.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Lu(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var QO=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=this._parse(e);return sR(e._query,t),new SP(e.firestore,e.converter,Kx(e._query,t))}},{key:"_parse",value:function(e){var t=bO(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new wb(gb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){oR(o,a);var u,c=[],l=Lu(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(aR(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=aR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||oR(o,a),s=PO(n,"where",o,"in"===a||"not-in"===a);return ex.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(GO);var $O=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return v(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:tx.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Lu(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;sR(r,a),r=Kx(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new SP(e.firestore,e.converter,Kx(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(HO);var YO=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return v(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new wb(gb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wb(gb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gx(t,n);return function(e,t){if(null===Bx(e)){var n=zx(e);null!==n&&uR(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new SP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Fx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(GO);var XO=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return v(n,[{key:"_apply",value:function(e){return new SP(e.firestore,e.converter,Qx(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(GO);var JO=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return v(n,[{key:"_apply",value:function(e){var t=iR(e,this.type,this._docOrFields,this._inclusive);return new SP(e.firestore,e.converter,function(e,t){return new Fx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(GO);function ZO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JO._create("startAt",t,!0)}function eR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JO._create("startAfter",t,!1)}var tR=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return v(n,[{key:"_apply",value:function(e){var t=iR(e,this.type,this._docOrFields,this._inclusive);return new SP(e.firestore,e.converter,function(e,t){return new Fx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(GO);function nR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tR._create("endBefore",t,!1)}function rR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tR._create("endAt",t,!0)}function iR(e,t,n,r){if(n[0]=Nc(n[0]),n[0]instanceof qO)return function(e,t,n,r,i){if(!r)throw new wb(gb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Lu(Hx(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(F_(t,r.key));else{var c=r.data.field(u.field);if(T_(c))throw new wb(gb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new wb(gb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Y_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bO(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new wb(gb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new wb(gb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Wx(e)&&-1!==c.indexOf("/"))throw new wb(gb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(jb.fromString(c));if(!Vb.isDocumentKey(l))throw new wb(gb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Vb(l);s.push(F_(t,f))}else{var d=PO(n,r,c);s.push(d)}}return new Y_(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function aR(e,t,n){if("string"==typeof(n=Nc(n))){if(""===n)throw new wb(gb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wx(t)&&-1!==n.indexOf("/"))throw new wb(gb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(jb.fromString(n));if(!Vb.isDocumentKey(r))throw new wb(gb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return F_(e,new Vb(r))}if(n instanceof xP)return F_(e,n._key);throw new wb(gb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(mP(n),"."))}function oR(e,t){if(!Array.isArray(e)||0===e.length)throw new wb(gb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new wb(gb.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function sR(e,t){if(t.isInequality()){var n=zx(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new wb(gb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Bx(e);null!==i&&uR(e,r,i)}var a=function(e,t){var n,r=Lu(e);try{for(r.s();!(n=r.n()).done;){var i,a=Lu(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new wb(gb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new wb(gb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function uR(e,t,n){if(!n.isEqual(t))throw new wb(gb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var cR=function(){function e(){h(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(P_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return S_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(E_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return m_(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new pO(S_(e.latitude),S_(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=I_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(C_(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=x_(e);return new Db(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=jb.fromString(e);mb(VE(n));var r=new p_(n.get(1),n.get(3)),i=new Vb(n.popFirst(5));return r.isEqual(t)||db("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function lR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var fR=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new fO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xP(this.firestore,null,t)}}]),n}(cR),dR=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),hR=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return v(n,[{key:"exists",value:function(){return Du(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new pR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(zO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(qO),pR=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Du(g(n.prototype),"data",this).call(this,e)}}]),n}(hR),vR=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dR(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new pR(n._firestore,n._userDataWriter,r.key,r,new dR(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wb(gb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new pR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new pR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:mR(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function mR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vb()}}function yR(e,t){return e instanceof hR&&t instanceof hR?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vR&&t instanceof vR&&e._firestore===t._firestore&&NP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var gR=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new fO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xP(this.firestore,null,t)}}]),n}(cR);function wR(e){e=yP(e,xP);var t=yP(e.firestore,nO),n=rO(t),r=new gR(t);return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(ir(nr().mark((function r(){return nr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ir(nr().mark((function e(t,n,r){var i,a;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=yb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new wb(gb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=BN(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,HP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new hR(t,r,e._key,n,new dR(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kR(e){e=yP(e,SP);var t=yP(e.firestore,nO),n=rO(t),r=new gR(t);return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(ir(nr().mark((function r(){return nr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ir(nr().mark((function e(t,n,r){var i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bC(t,n,!0);case 3:i=e.sent,a=new uA(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=BN(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,HP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new vR(t,r,e,n)}))}function bR(e,t,n){e=yP(e,xP);var r=yP(e.firestore,nO),i=lR(e.converter,t,n);return ER(r,[_O(bO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wS.none())])}function _R(e,t,n){e=yP(e,xP);for(var r=yP(e.firestore,nO),i=bO(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return ER(r,[("string"==typeof(t=Nc(t))||t instanceof dO?AO(i,"updateDoc",e._key,t,n,o):NO(i,"updateDoc",e._key,t)).toMutation(e._key,wS.exists(!0))])}function xR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Nc(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||eO(n[u])||(s=n[u],u++);var c,l,f,d={includeMetadataChanges:s.includeMetadataChanges};if(eO(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof xP)l=yP(e.firestore,nO),f=Vx(e._key.path),c={next:function(t){n[u]&&n[u](TR(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=yP(e,SP);l=yP(p.firestore,nO),f=p._query;var v=new gR(l);c={next:function(e){n[u]&&n[u](new vR(l,v,p,e))},error:n[u+1],complete:n[u+2]},WO(e._query)}return function(e,t,n,r){var i=new PP(r),a=new tA(t,i,n);return e.asyncQueue.enqueueAndForget(ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=QN,t.next=3,$P(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=YN,t.next=3,$P(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rO(l),f,d,c)}function SR(e,t){return function(e,t){var n=new PP(t);return e.asyncQueue.enqueueAndForget(ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yb(e).Ru.add(t),t.next()},t.next=3,$P(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yb(e).Ru.delete(t)},t.next=3,$P(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rO(e=yP(e,nO)),eO(t)?t:{next:t})}function ER(e,t){return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(ir(nr().mark((function r(){return nr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=gA,r.next=3,KP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(rO(e),t)}function TR(e,t,n){var r=n.docs.get(t._key),i=new gR(e);return new hR(e,i,t._key,r,new dR(n.hasPendingWrites,n.fromCache),t.converter)}var IR={maxAttempts:5},CR=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bO(t)}return v(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=NR(e,this._firestore),i=lR(r.converter,t,n),a=_O(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,wS.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=NR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Nc(t))||t instanceof dO?AO(this._dataReader,"WriteBatch.update",i._key,t,n,o):NO(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,wS.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=NR(e,this._firestore);return this._mutations=this._mutations.concat(new DS(t._key,wS.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new wb(gb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function NR(e,t){if((e=Nc(e)).firestore!==t)throw new wb(gb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var AR,PR=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return v(n,[{key:"get",value:function(e){var t=this,r=NR(e,this._firestore),i=new gR(this._firestore);return Du(g(n.prototype),"get",this).call(this,e).then((function(e){return new hR(t._firestore,i,r._key,e._document,new dR(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=bO(t)}return v(e,[{key:"get",value:function(e){var t=this,n=NR(e,this._firestore),r=new fR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return vb();var i=e[0];if(i.isFoundDocument())return new qO(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qO(t._firestore,r,n._key,null,n.converter);throw vb()}))}},{key:"set",value:function(e,t,n){var r=NR(e,this._firestore),i=lR(r.converter,t,n),a=_O(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=NR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Nc(t))||t instanceof dO?AO(this._dataReader,"Transaction.update",i._key,t,n,o):NO(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=NR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function OR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TO("arrayUnion",t)}function RR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IO("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ub=e}(Sl),yl(new Ac("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new nO(new Sb(e.getProvider("auth-internal")),new Cb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wb(gb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new p_(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Al(ob,"3.8.0",e),Al(ob,"3.8.0","esm2017")}();var DR=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,vl(t,new Ac("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Cl(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fl;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fl;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){vl(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ml(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),LR=(tr(AR={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),tr(AR,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),AR),MR=new uc("app-compat","Firebase",LR);var jR=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=El(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pc(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Al,setLogLevel:Ol,onLog:Pl,apps:null,SDK_VERSION:Sl,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(yl(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw MR.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Gu(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pc(n,e=e||fl))throw MR.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(DR);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Gu(n,e)},createSubscribe:Sc,ErrorFactory:uc,deepExtend:Gu}),n}(),FR=new qc("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){FR.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var UR=self.firebase.SDK_VERSION;UR&&UR.indexOf("LITE")>=0&&FR.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var VR=jR;!function(e){Al("@firebase/app-compat","0.2.0",e)}();function qR(){return window}VR.registerVersion("firebase","9.15.0","app-compat");function BR(e,t,n){return zR.apply(this,arguments)}function zR(){return zR=ir(nr().mark((function e(t,n,r){var i,a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qR(),o=a.BuildInfo,kf(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,$R(n.sessionId);case 4:return s=e.sent,u={},Sd()?u.ibi=o.packageName:bd()?u.apn=o.packageName:hf(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Gm(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),zR.apply(this,arguments)}function WR(){return WR=ir(nr().mark((function e(t){var n,r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qR(),r=n.BuildInfo,i={},Sd()?i.iosBundleId=r.packageName:bd()?i.androidPackageName=r.packageName:hf(t,"operation-not-supported-in-this-environment"),e.next=5,_m(t,i);case 5:case"end":return e.stop()}}),e)}))),WR.apply(this,arguments)}function HR(e){var t=qR().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function GR(e,t,n){return KR.apply(this,arguments)}function KR(){return KR=ir(nr().mark((function e(t,n,r){var i,a,o;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qR(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(pf(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),bd()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),KR.apply(this,arguments)}function QR(e){var t,n,r,i,a,o,s,u,c,l,f=qR();gf("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gf("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gf("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gf("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gf("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function $R(e){return YR.apply(this,arguments)}function YR(){return(YR=ir(nr().mark((function e(t){var n,r,i;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=XR(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XR(e){if(kf(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var JR=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return v(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Du(g(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(wm);function ZR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:iD(),postBody:null,tenantId:e.tenantId,error:pf(e,"no-auth-event")}}function eD(e,t){return aD()._set(oD(e),t)}function tD(e){return nD.apply(this,arguments)}function nD(){return nD=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aD()._get(oD(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,aD()._remove(oD(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),nD.apply(this,arguments)}function rD(e,t){var n,r,i=function(e){var t=sD(e),n=t.link?decodeURIComponent(t.link):void 0,r=sD(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return sD(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=sD(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?pf(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function iD(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function aD(){return _f(Up)}function oD(e){return pd("authEvent",e.config.apiKey,e.name)}function sD(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||f(t)||u(t)||c();r[0];return bc(r.slice(1).join("?"))}var uD=function(){function e(){h(this,e),this._redirectPersistence=qp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vm,this._overrideRedirectResult=im}return v(e,[{key:"_initialize",value:function(){var e=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new JR(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){hf(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ir(nr().mark((function e(t,n,r,i){var a,o,s,u;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QR(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Jv.clear(),e.next=10,this._originValidation(t);case 10:return o=ZR(t,r,i),e.next=13,eD(t,o);case 13:return e.next=15,BR(t,o,n);case 15:return s=e.sent,e.next=18,HR(s);case 18:return u=e.sent,e.abrupt("return",GR(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return WR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=qR(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ir(nr().mark((function n(){return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tD(e);case 2:t.onEvent(lD());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=ir(nr().mark((function n(r){var i,a;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,tD(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=rD(i,r.url)),t.onEvent(a||lD());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");qR().handleOpenURL=function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),cD=uD;function lD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pf("no-auth-event")}}function fD(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function dD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return!("file:"!==fD()&&"ionic:"!==fD()&&"capacitor:"!==fD()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function hD(){return Ju()&&11===(null===document||void 0===document?void 0:document.documentMode)}function pD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return/Edge\/\d+/.test(e)}function vD(){try{var e=self.localStorage,t=Wp();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku();return hD()||pD(e)}()||ec()}catch(n){return mD()&&ec()}return!1}function mD(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function yD(){return("http:"===fD()||"https:"===fD()||Yu()||dD())&&!(Xu()||$u())&&vD()&&!mD()}function gD(){return dD()&&"undefined"!==typeof document}function wD(){return kD.apply(this,arguments)}function kD(){return(kD=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gD()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bD={LOCAL:"local",NONE:"none",SESSION:"session"},_D=gf,xD="persistence";function SD(e,t){_D(Object.values(bD).includes(t),e,"invalid-persistence-type"),Xu()?_D(t!==bD.SESSION,e,"unsupported-persistence-type"):$u()?_D(t===bD.NONE,e,"unsupported-persistence-type"):mD()?_D(t===bD.NONE||t===bD.LOCAL&&ec(),e,"unsupported-persistence-type"):_D(t===bD.NONE||vD(),e,"unsupported-persistence-type")}function ED(e){return TD.apply(this,arguments)}function TD(){return TD=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ID(),r=pd(xD,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),TD.apply(this,arguments)}function ID(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var CD=gf,ND=function(){function e(){h(this,e),this.browserResolver=_f($m),this.cordovaResolver=_f(cD),this.underlyingResolver=null,this._redirectPersistence=qp,this._completeRedirectFn=vm,this._overrideRedirectResult=im}return v(e,[{key:"_initialize",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ir(nr().mark((function e(t,n,r,i){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ir(nr().mark((function e(t,n,r,i){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return gD()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return CD(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wD();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function AD(e){return e.unwrap()}function PD(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new MD(e,function(e,t){var n,r=Nc(e),i=t;return gf(t.customData.operationType,r,"argument-error"),gf(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Pp._fromError(r,i)}(e,t));else if(r){var i=OD(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function OD(e){var t=(e instanceof sc?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof sc)&&"temporaryProof"in t&&"phoneNumber"in t)return jv.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Jl)return null;switch(r){case Xl:n=_h;break;case $l:n=bh;break;case Yl:n=xh;break;case Zl:n=Th;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Sh._create(r,s):uh._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new kh(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof sc?n.credentialFromError(e):n.credentialFromResult(e)}function RD(e,t){return t.catch((function(t){throw t instanceof sc&&PD(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,OD(t)),additionalUserInfo:Np(e),user:jD.getOrCreate(r)}}))}function DD(e,t){return LD.apply(this,arguments)}function LD(){return LD=ir(nr().mark((function e(t,n){var r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return RD(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),LD.apply(this,arguments)}var MD=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return v(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return RD(AD(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),jD=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=Nc(e);return Lp.has(t)||Lp.set(t,Dp._fromUser(t)),Lp.get(t)}(t)}return v(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RD(this.auth,Kh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DD(this.auth,Pv(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RD(this.auth,$v(this._delegate,t,ND)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ED(Pd(this.auth));case 2:return e.abrupt("return",fm(this._delegate,t,ND));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RD(this.auth,$h(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return DD(this.auth,function(e,t,n){return Rv.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return RD(this.auth,function(e,t,n){return Qv.apply(this,arguments)}(this._delegate,e,ND))}},{key:"reauthenticateWithRedirect",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ED(Pd(this.auth));case 2:return e.abrupt("return",cm(this._delegate,t,ND));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return mp.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lh(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return bp(Nc(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return bp(Nc(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Mv.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return kp.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return yp.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();jD.USER_MAP=new WeakMap;var FD=gf,UD=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;FD(r,"invalid-api-key",{appName:t.name}),FD(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ND:void 0;this._delegate=n.initialize({options:{persistence:qD(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(uf),this.linkUnderlyingAuth()}return v(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?jD.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Rd(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ap.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return op(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ip.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ir(nr().mark((function e(t,n){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RD(this._delegate,cp(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return vp.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=mh.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FD(yD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hm(this._delegate,ND);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",RD(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Pd(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=VD(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=VD(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return fp.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return rp.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ir(nr().mark((function e(t){var n,r;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:SD(this._delegate,t),e.t0=t,e.next=e.t0===bD.SESSION?4:e.t0===bD.LOCAL?6:e.t0===bD.NONE?11:13;break;case 4:return n=qp,e.abrupt("break",14);case 6:return e.next=8,_f(lv)._isAvailable();case 8:return r=e.sent,n=r?lv:Up,e.abrupt("break",14);case 11:return n=hd,e.abrupt("break",14);case 13:return e.abrupt("return",hf("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return RD(this._delegate,function(e){return Ph.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return RD(this._delegate,Hh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return RD(this._delegate,function(e,t){return Zh.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return RD(this._delegate,function(e,t,n){return Hh(Nc(e),yh.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return RD(this._delegate,function(e,t,n){return dp.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return DD(this._delegate,function(e,t,n){return Av.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FD(yD(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",RD(this._delegate,Gv(this._delegate,t,ND)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ir(nr().mark((function e(t){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FD(yD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ED(this._delegate);case 3:return e.abrupt("return",sm(this._delegate,t,ND));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return up.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function VD(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&jD.getOrCreate(e))},error:t,complete:n}}function qD(e,t){var n=function(e,t){var n=ID();if(!n)return[];var r=pd(xD,e,t);switch(n.getItem(r)){case bD.NONE:return[hd];case bD.LOCAL:return[lv,qp];case bD.SESSION:return[qp];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(lv)||n.push(lv),"undefined"!==typeof window)for(var r=0,i=[Up,qp];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(hd)||n.push(hd),n}UD.Persistence=bD;var BD=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new jv(AD(VR.auth()))}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return jv.credential(e,t)}}]),e}();BD.PHONE_SIGN_IN_METHOD=jv.PHONE_SIGN_IN_METHOD,BD.PROVIDER_ID=jv.PROVIDER_ID;var zD,WD=gf,HD=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:VR.app();h(this,e),WD(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Iv(t,n,i.auth()),this.type=this._delegate.type}return v(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(zD=VR).INTERNAL.registerComponent(new Ac("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new UD(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ef,PASSWORD_RESET:tf,RECOVER_EMAIL:nf,REVERT_SECOND_FACTOR_ADDITION:rf,VERIFY_AND_CHANGE_EMAIL:af,VERIFY_EMAIL:of}},EmailAuthProvider:yh,FacebookAuthProvider:bh,GithubAuthProvider:xh,GoogleAuthProvider:_h,OAuthProvider:kh,SAMLAuthProvider:Eh,PhoneAuthProvider:BD,PhoneMultiFactorGenerator:Jm,RecaptchaVerifier:HD,TwitterAuthProvider:Th,Auth:UD,AuthCredential:Md,Error:sc}).setInstantiationMode("LAZY").setMultipleInstances(!1)),zD.registerVersion("@firebase/auth-compat","0.3.0");function GD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new wb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function KD(){if("undefined"===typeof Uint8Array)throw new wb("unimplemented","Uint8Arrays are not available in this environment.")}function QD(){if("undefined"==typeof atob)throw new wb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var $D=function(){function e(t){h(this,e),this._delegate=t}return v(e,[{key:"toBase64",value:function(){return QD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return KD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return QD(),new e(fO.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return KD(),new e(fO.fromUint8Array(t))}}]),e}();function YD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Lu(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var XD=function(){function e(){h(this,e)}return v(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){lO(e=yP(e,nO));var n=rO(e),r=e._freezeSettings(),i=new fP;return aO(n,i,new cP(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){lO(e=yP(e,nO));var t=rO(e),n=e._freezeSettings(),r=new fP;return aO(t,r,new lP(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new wb(gb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new kb;return e._queue.enqueueAndForgetEvenWhileRestricted(ir(nr().mark((function n(){return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ir(nr().mark((function e(t){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n_.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,n_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(oC(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),JD=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof p_||(this._appCompat=t)}return v(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||hb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_P(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return oO(this._delegate)}},{key:"disableNetwork",value:function(){return sO(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&hP("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new kb;return e.asyncQueue.enqueueAndForget(ir(nr().mark((function n(){return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=NA,n.next=3,KP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(rO(e=yP(e,nO)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return SR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new wb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new dL(this,TP(this._delegate,e))}catch(t){throw iL(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new rL(this,IP(this._delegate,e))}catch(t){throw iL(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new cL(this,function(e,t){if(e=yP(e,bP),dP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new wb(gb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new SP(e,null,function(e){return new Fx(jb.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw iL(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=yP(e,nO);var r=Object.assign(Object.assign({},IR),n);return function(e){if(e.maxAttempts<1)throw new wb(gb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new kb;return e.asyncQueue.enqueueAndForget(ir(nr().mark((function i(){var a;return nr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,QP(e);case 2:a=i.sent,new DP(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(rO(e),(function(n){return t(new PR(e,n))}),r)}(this._delegate,(function(n){return e(new eL(t,n))}))}},{key:"batch",value:function(){var e=this;return rO(this._delegate),new tL(new CR(this._delegate,(function(t){return ER(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return uO(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return cO(this._delegate,e).then((function(e){return e?new cL(t,e):null}))}}]),e}(),ZD=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new $D(new fO(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rL.forKey(t,this.firestore,null)}}]),n}(cR);var eL=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ZD(t)}return v(e,[{key:"get",value:function(e){var t=this,n=hL(e);return this._delegate.get(n).then((function(e){return new sL(t._firestore,new hR(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=hL(e);return n?(GD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=hL(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hL(e);return this._delegate.delete(t),this}}]),e}(),tL=function(){function e(t){h(this,e),this._delegate=t}return v(e,[{key:"set",value:function(e,t,n){var r=hL(e);return n?(GD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=hL(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hL(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),nL=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return v(e,[{key:"fromFirestore",value:function(e,t){var n=new pR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uL(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ZD(t),n),i.set(n,a)),a}}]),e}();nL.INSTANCES=new WeakMap;var rL=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZD(t)}return v(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new dL(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new dL(this.firestore,TP(this._delegate,e))}catch(t){throw iL(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Nc(e))instanceof xP&&CP(this._delegate,e)}},{key:"set",value:function(e,t){t=GD("DocumentReference.set",t);try{return t?bR(this._delegate,e,t):bR(this._delegate,e)}catch(n){throw iL(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?_R(this._delegate,e):_R.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw iL(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return ER(yP(e.firestore,nO),[new DS(e._key,wS.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aL(n),a=oL(n,(function(t){return new sL(e.firestore,new hR(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return xR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?wR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yP(e,xP);var t=yP(e.firestore,nO);return XP(rO(t),e._key,{source:"server"}).then((function(n){return TR(t,e,n)}))}(this._delegate):function(e){e=yP(e,xP);var t=yP(e.firestore,nO);return XP(rO(t),e._key).then((function(n){return TR(t,e,n)}))}(this._delegate),t.then((function(e){return new sL(n.firestore,new hR(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nL.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new wb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new xP(n._delegate,r,new Vb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new xP(n._delegate,r,t))}}]),e}();function iL(e,t,n){return e.message=e.message.replace(t,n),e}function aL(e){var t,n=Lu(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!YD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function oL(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=YD(e[0])?e[0]:YD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sL=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"ref",get:function(){return new rL(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return yR(this._delegate,e._delegate)}}]),e}(),uL=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||vb()}(void 0!==t),t}}]),n}(sL),cL=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZD(t)}return v(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,KO(this._delegate,function(e,t,n){var r=t,i=zO("where",e);return QO._create(i,r,n)}(t,n,r)))}catch(i){throw iL(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,KO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=zO("orderBy",e);return YO._create(n,t)}(t,n)))}catch(r){throw iL(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,KO(this._delegate,function(e){return gP("limit",e),XO._create("limit",e,"F")}(t)))}catch(n){throw iL(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,KO(this._delegate,function(e){return gP("limitToLast",e),XO._create("limitToLast",e,"L")}(t)))}catch(n){throw iL(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,KO(this._delegate,ZO.apply(void 0,arguments)))}catch(t){throw iL(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,KO(this._delegate,eR.apply(void 0,arguments)))}catch(t){throw iL(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,KO(this._delegate,nR.apply(void 0,arguments)))}catch(t){throw iL(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,KO(this._delegate,rR.apply(void 0,arguments)))}catch(t){throw iL(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return NP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?kR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yP(e,SP);var t=yP(e.firestore,nO),n=rO(t),r=new gR(t);return JP(n,e._query,{source:"server"}).then((function(n){return new vR(t,r,e,n)}))}(this._delegate):function(e){e=yP(e,SP);var t=yP(e.firestore,nO),n=rO(t),r=new gR(t);return WO(e._query),JP(n,e._query).then((function(n){return new vR(t,r,e,n)}))}(this._delegate),t.then((function(e){return new fL(n.firestore,new vR(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aL(n),a=oL(n,(function(t){return new fL(e.firestore,new vR(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return xR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nL.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),lL=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new uL(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),fL=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"query",get:function(){return new cL(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new uL(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lL(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new uL(n._firestore,r))}))}},{key:"isEqual",value:function(e){return yR(this._delegate,e._delegate)}}]),e}(),dL=function(e){y(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return v(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new rL(this.firestore,e):null}},{key:"doc",value:function(e){try{return new rL(this.firestore,void 0===e?IP(this._delegate):IP(this._delegate,e))}catch(t){throw iL(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=yP(e.firestore,nO),r=IP(e),i=lR(e.converter,t);return ER(n,[_O(bO(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wS.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new rL(t.firestore,e)}))}},{key:"isEqual",value:function(e){return CP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(nL.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(cL);function hL(e){return yP(e,xP)}var pL=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(dO,n)}return v(e,[{key:"isEqual",value:function(e){return(e=Nc(e))instanceof dO&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ub.keyField().canonicalString())}}]),e}(),vL=function(){function e(t){h(this,e),this._delegate=t}return v(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new EO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new xO("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=OR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=RR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new CO("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),mL={Firestore:JD,GeoPoint:pO,Timestamp:Db,Blob:$D,Transaction:eL,WriteBatch:tL,DocumentReference:rL,DocumentSnapshot:sL,Query:cL,QueryDocumentSnapshot:uL,QuerySnapshot:fL,CollectionReference:dL,FieldPath:pL,FieldValue:vL,setLogLevel:function(e){!function(e){cb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ac("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},mL)))}(e,(function(e,t){return new JD(e,t,new XD)})),e.registerVersion("@firebase/firestore-compat","0.3.0")}(VR);var yL="@firebase/database",gL="0.14.0",wL="";var kL=function(){function e(t){h(this,e),this.domStorage_=t,this.prefix_="firebase:"}return v(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dc(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:fc(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),bL=function(){function e(){h(this,e),this.cache_={},this.isInMemoryStorage=!0}return v(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return pc(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),_L=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kL(t)}}catch(n){}return new bL},xL=_L("localStorage"),SL=_L("sessionStorage"),EL=new qc("@firebase/database"),TL=function(){var e=1;return function(){return e++}}(),IL=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Uu(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new xc;n.update(t);var r=n.digest();return Bu.encodeByteArray(r)},CL=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?dc(r):r,t+=" "}return t},NL=null,AL=!0,PL=function(e,t){Uu(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(EL.logLevel=Dc.VERBOSE,NL=EL.log.bind(EL),t&&SL.set("logging_enabled",!0)):"function"===typeof e?NL=e:(NL=null,SL.remove("logging_enabled"))},OL=function(){if(!0===AL&&(AL=!1,null===NL&&!0===SL.get("logging_enabled")&&PL(!0)),NL){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=CL.apply(null,t);NL(r)}},RL=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];OL.apply(void 0,[e].concat(n))}},DL=function(){var e="FIREBASE INTERNAL ERROR: "+CL.apply(void 0,arguments);EL.error(e)},LL=function(){var e="FIREBASE FATAL ERROR: ".concat(CL.apply(void 0,arguments));throw EL.error(e),new Error(e)},ML=function(){var e="FIREBASE WARNING: "+CL.apply(void 0,arguments);EL.warn(e)},jL=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},FL="[MIN_NAME]",UL="[MAX_NAME]",VL=function(e,t){if(e===t)return 0;if(e===FL||t===UL)return-1;if(t===FL||e===UL)return 1;var n=QL(e),r=QL(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},qL=function(e,t){return e===t?0:e<t?-1:1},BL=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+dc(t))},zL=function e(t){if("object"!==typeof t||null===t)return dc(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=dc(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},WL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function HL(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var GL=function(e){Uu(!jL(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var KL=new RegExp("^-?(0*)\\d{1,10}$"),QL=function(e){if(KL.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},$L=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw ML("Exception was thrown by user callback.",e),t}),Math.floor(0))}},YL=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},XL=function(){function e(t,n){var r=this;h(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){ML('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),JL=function(){function e(t,n,r){var i=this;h(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(OL("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ML(e)}}]),e}(),ZL=function(){function e(t){h(this,e),this.accessToken=t}return v(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ZL.OWNER="owner";var eM="5",tM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nM="websocket",rM="long_polling",iM=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];h(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xL.get("host:"+t)||this._host}return v(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xL.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function aM(e,t,n){var r;if(Uu("string"===typeof t,"typeof type must == string"),Uu("object"===typeof n,"typeof params must == object"),t===nM)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==rM)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return HL(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var oM=function(){function e(){h(this,e),this.counters_={}}return v(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;pc(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return function(e){return Gu(void 0,e)}(this.counters_)}}]),e}(),sM={},uM={};function cM(e){var t=e.toString();return sM[t]||(sM[t]=new oM),sM[t]}var lM=function(){function e(t){h(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return v(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&$L((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),fM="start",dM="close",hM=function(){function e(t,n,r,i,a,o,s){var u=this;h(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=RL(t),this.stats_=cM(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),aM(n,rM,e)}}return v(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new lM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Zu()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new pM((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===fM)n.id=a,n.password=o;else{if(i!==dM)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=eM,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&tM.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=dc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=zu(t),r=WL(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Zu()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=dc(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Zu()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),pM=function(){function e(t,n,r,i){if(h(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Zu())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=TL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){OL("frame writing exception"),s.stack&&OL(s.stack),OL(s)}}}return v(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Zu()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){OL("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||OL("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),vM=null;"undefined"!==typeof MozWebSocket?vM=MozWebSocket:"undefined"!==typeof WebSocket&&(vM=WebSocket);var mM=function(){function e(t,n,r,i,a,o,s){h(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=RL(this.connId),this.stats_=cM(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return v(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xL.set("previous_websocket_failure",!0);try{var r;if(Zu()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(eM,"/").concat(wL,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/free-music-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDn_mGk2G-DqWB0lfJ-83tL_fCOVbfknoQ",REACT_APP_FIREBASE_APP_ID:"1:987512357874:web:e3206c04fb94664a28e16b",REACT_APP_FIREBASE_AUTH_DOMAIN:"free-music-player-23c8e.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://free-music-player-23c8e-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-V0YG68W21R",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"987512357874",REACT_APP_FIREBASE_PROJECT_ID:"free-music-player-23c8e",REACT_APP_FIREBASE_STORAGE_BUCKET:"free-music-player-23c8e.appspot.com"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new vM(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){xL.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=fc(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Uu(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=dc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=WL(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=eM,!Zu()&&"undefined"!==typeof location&&location.hostname&&tM.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),aM(e,nM,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==vM&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return xL.isInMemoryStorage||!0===xL.get("previous_websocket_failure")}}]),e}();mM.responsesRequiredToBeHealthy=2,mM.healthyTimeout=3e4;var yM=function(){function e(t){h(this,e),this.initTransports_(t)}return v(e,[{key:"initTransports_",value:function(t){var n=mM&&mM.isAvailable(),r=n&&!mM.previouslyFailed();if(t.webSocketOnly&&(n||ML("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[mM];else{var i,a=this.transports_=[],o=Lu(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[hM,mM]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();yM.globalTransportInitialized_=!1;var gM=function(){function e(t,n,r,i,a,o,s,u,c,l){h(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=RL("c:"+this.id+":"),this.transportManager_=new yM(n),this.log_("Connection created"),this.start_()}return v(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=YL((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=BL("t",e),n=BL("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=BL("t",e),n=BL("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=BL("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?DL("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):DL("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),eM!==n&&ML("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),YL((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):YL((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xL.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),wM=function(){function e(){h(this,e)}return v(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),kM=function(){function e(t){h(this,e),this.allowedEvents_=t,this.listeners_={},Uu(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return v(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=d(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Uu(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),bM=function(e){y(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Qu()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return v(n,[{key:"getInitialEvent",value:function(e){return Uu("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(kM),_M=function(){function e(t,n){if(h(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return v(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function xM(){return new _M("")}function SM(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function EM(e){return e.pieces_.length-e.pieceNum_}function TM(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new _M(e.pieces_,t)}function IM(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function CM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function NM(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _M(t,0)}function AM(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _M)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new _M(n,0)}function PM(e){return e.pieceNum_>=e.pieces_.length}function OM(e,t){var n=SM(e),r=SM(t);if(null===n)return t;if(n===r)return OM(TM(e),TM(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function RM(e,t){if(EM(e)!==EM(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function DM(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(EM(e)>EM(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var LM=v((function e(t,n){h(this,e),this.errorPrefix_=n,this.parts_=CM(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Cc(this.parts_[r]);MM(this)}));function MM(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jM(e))}function jM(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var FM=function(e){y(n,e);var t=x(n);function n(){var e,r,i;return h(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return v(n,[{key:"getInitialEvent",value:function(e){return Uu("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(kM),UM=1e3,VM=function(e){y(n,e);var t=x(n);function n(e,r,i,a,o,s,u,c){var l;if(h(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=RL("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=UM,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Zu())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return FM.getInstance().on("visible",l.onVisible_,b(l)),-1===e.host.indexOf("fblocal")&&bM.getInstance().on("online",l.onOnline_,b(l)),l}return v(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(dc(i)),Uu(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new ac,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Uu(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Uu(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=hc(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=hc(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Uu(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+dc(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):DL("Unrecognized action received from server: "+dc(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Uu(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=UM,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=UM,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=UM),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=ir(nr().mark((function e(){var t,r,i,a,o,s,u,c,f,d,h,p,v,m,y=this;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},f=function(e){Uu(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:h=e.sent,p=l(h,2),v=p[0],m=p[1],s?OL("getToken() completed but was canceled"):(OL("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new gM(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){ML(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&ML(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){OL("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){OL("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mc(this.interruptReasons_)&&(this.reconnectDelay_=UM,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return zL(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new _M(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){OL("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){OL("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Lu(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Lu(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Zu()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+wL.replace(/\./g,"-")]=1,Qu()?e["framework.cordova"]=1:Xu()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=bM.getInstance().currentlyOnline();return mc(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&pc(e,"w")){var n=vc(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();ML("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(wM);VM.nextPersistentConnectionId_=0,VM.nextConnectionId_=0;var qM,BM=function(){function e(t,n){h(this,e),this.name=t,this.node=n}return v(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),zM=function(){function e(){h(this,e)}return v(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new BM(FL,e),r=new BM(FL,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return BM.MIN}}]),e}(),WM=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){return VL(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Vu("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return BM.MIN}},{key:"maxPost",value:function(){return new BM(UL,qM)}},{key:"makePost",value:function(e,t){return Uu("string"===typeof e,"KeyIndex indexValue must always be a string."),new BM(e,qM)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return qM},set:function(e){qM=e}}]),n}(zM),HM=new WM,GM=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;h(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return v(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),KM=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:YM.EMPTY_NODE,this.right=null!=a?a:YM.EMPTY_NODE}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return YM.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return YM.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();KM.RED=!0,KM.BLACK=!1;var QM,$M=function(){function e(){h(this,e)}return v(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new KM(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),YM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;h(this,e),this.comparator_=t,this.root_=n}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,KM.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,KM.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new GM(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new GM(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new GM(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new GM(this.root_,null,this.comparator_,!0,e)}}]),e}();function XM(e,t){return VL(e.name,t.name)}function JM(e,t){return VL(e,t)}YM.EMPTY_NODE=new $M;var ZM,ej,tj,nj=function(e){return"number"===typeof e?"number:"+GL(e):"string:"+e},rj=function(e){if(e.isLeafNode()){var t=e.val();Uu("string"===typeof t||"number"===typeof t||"object"===typeof t&&pc(t,".sv"),"Priority must be a string or number.")}else Uu(e===QM||e.isEmpty(),"priority of unexpected type.");Uu(e===QM||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ij=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;h(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Uu(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rj(this.priorityNode_)}return v(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return PM(t)?this:".priority"===SM(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=SM(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Uu(".priority"!==r||1===EM(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(TM(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nj(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?GL(this.value_):this.value_,this.lazyHash_=IL(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Uu(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Uu(i>=0,"Unknown leaf type: "+n),Uu(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return ZM},set:function(e){ZM=e}}]),e}();ij.VALUE_TYPE_ORDER=["object","boolean","number","string"];var aj,oj,sj=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?VL(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return BM.MIN}},{key:"maxPost",value:function(){return new BM(UL,new ij("[PRIORITY-POST]",tj))}},{key:"makePost",value:function(e,t){var n=ej(e);return new BM(t,new ij("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(zM),uj=new sj,cj=Math.log(2),lj=function(){function e(t){h(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/cj,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return v(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),fj=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new KM(o,a.node,KM.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new KM(o,a.node,KM.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new KM(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,KM.BLACK):(s(f,KM.BLACK),s(f,KM.RED))}return a}(new lj(e.length));return new YM(r||t,a)},dj={},hj=function(){function e(t,n){h(this,e),this.indexes_=t,this.indexSet_=n}return v(e,[{key:"get",value:function(e){var t=vc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof YM?t:null}},{key:"hasIndex",value:function(e){return pc(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Uu(t!==HM,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(BM.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?fj(i,t.getCompare()):dj;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=yc(this.indexes_,(function(e,i){var a=vc(r.indexSet_,i);if(Uu(a,"Missing index implementation for "+i),e===dj){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(BM.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),fj(o,a.getCompare())}return dj}var c=n.get(t.name),l=e;return c&&(l=l.remove(new BM(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(yc(this.indexes_,(function(e){if(e===dj)return e;var r=n.get(t.name);return r?e.remove(new BM(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Uu(dj&&uj,"ChildrenNode.ts has not been loaded"),aj=aj||new e({".priority":dj},{".priority":uj})}}]),e}(),pj=function(){function e(t,n,r){h(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rj(this.priorityNode_),this.children_.isEmpty()&&Uu(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return v(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||oj}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?oj:t}},{key:"getChild",value:function(e){var t=SM(e);return null===t?this:this.getImmediateChild(t).getChild(TM(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Uu(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new BM(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?oj:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=SM(e);if(null===n)return t;Uu(".priority"!==SM(e)||1===EM(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(TM(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(uj,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nj(this.getPriority().val())+":"),this.forEachChild(uj,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":IL(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new BM(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new BM(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new BM(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,BM.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,BM.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vj?-1:0}},{key:"withIndex",value:function(t){if(t===HM||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===HM||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(uj),r=t.getIterator(uj),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===HM?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return oj||(oj=new e(new YM(JM),null,hj.Default))}}]),e}();pj.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var vj=new(function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.call(this,new YM(JM),pj.EMPTY_NODE,hj.Default)}return v(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return pj.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(pj));Object.defineProperties(BM,{MIN:{value:new BM(FL,pj.EMPTY_NODE)},MAX:{value:new BM(UL,vj)}}),WM.__EMPTY_NODE=pj.EMPTY_NODE,ij.__childrenNodeConstructor=pj,function(e){QM=e}(vj),function(e){tj=e}(vj);function mj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return pj.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Uu(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ij(n,mj(t))}if(e instanceof Array){var r=pj.EMPTY_NODE;return HL(e,(function(t,n){if(pc(e,t)&&"."!==t.substring(0,1)){var i=mj(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(mj(t))}var i=[],a=!1,o=e;if(HL(o,(function(e,t){if("."!==e.substring(0,1)){var n=mj(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new BM(e,n)))}})),0===i.length)return pj.EMPTY_NODE;var s=fj(i,XM,(function(e){return e.name}),JM);if(a){var u=fj(i,uj.getCompare());return new pj(s,mj(t),new hj({".priority":u},{".priority":uj}))}return new pj(s,mj(t),hj.Default)}!function(e){ej=e}(mj);var yj=function(e){y(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).indexPath_=e,Uu(!PM(e)&&".priority"!==SM(e),"Can't create PathIndex with empty path or .priority key"),r}return v(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?VL(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=mj(e),r=pj.EMPTY_NODE.updateChild(this.indexPath_,n);return new BM(t,r)}},{key:"maxPost",value:function(){var e=pj.EMPTY_NODE.updateChild(this.indexPath_,vj);return new BM(UL,e)}},{key:"toString",value:function(){return CM(this.indexPath_,0).join("/")}}]),n}(zM),gj=function(e){y(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?VL(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return BM.MIN}},{key:"maxPost",value:function(){return BM.MAX}},{key:"makePost",value:function(e,t){var n=mj(e);return new BM(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(zM),wj=new gj;function kj(e){return{type:"value",snapshotNode:e}}function bj(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _j(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xj(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Sj=function(){function e(){h(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=uj}return v(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Uu(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Uu(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:FL}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Uu(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Uu(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:UL}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Uu(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===uj}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Ej(e){var t,n={};if(e.isDefault())return n;if(e.index_===uj?t="$priority":e.index_===wj?t="$value":e.index_===HM?t="$key":(Uu(e.index_ instanceof yj,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=dc(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=dc(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+dc(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=dc(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+dc(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Tj(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==uj&&(t.i=e.index_.toString()),t}var Ij=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=RL("p:rest:"),o.listens_={},o}return v(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Ej(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),vc(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Ej(e._queryParams),r=e._path.toString(),i=new ac;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+kc(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=fc(c.responseText)}catch(n){ML("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&ML("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Uu(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(wM),Cj=function(){function e(){h(this,e),this.rootNode_=pj.EMPTY_NODE}return v(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Nj(){return{value:null,children:new Map}}function Aj(e,t,n){if(PM(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=SM(t);e.children.has(r)||e.children.set(r,Nj()),Aj(e.children.get(r),t=TM(t),n)}}function Pj(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Pj(r,new _M(t.toString()+"/"+e),n)}))}var Oj,Rj=function(){function e(t){h(this,e),this.collection_=t,this.last_=null}return v(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&HL(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Dj=function(){function e(t,n){h(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Rj(t);var r=1e4+2e4*Math.random();YL(this.reportStats_.bind(this),Math.floor(r))}return v(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;HL(t,(function(t,i){i>0&&pc(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),YL(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Lj(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Oj||(Oj={}));var Mj,jj=function(){function e(t,n,r){h(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Oj.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return v(e,[{key:"operationForChild",value:function(t){if(PM(this.path)){if(null!=this.affectedTree.value)return Uu(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new _M(t));return new e(xM(),n,this.revert)}return Uu(SM(this.path)===t,"operationForChild called for unrelated child."),new e(TM(this.path),this.affectedTree,this.revert)}}]),e}(),Fj=function(){function e(t,n,r){h(this,e),this.source=t,this.path=n,this.snap=r,this.type=Oj.OVERWRITE}return v(e,[{key:"operationForChild",value:function(t){return PM(this.path)?new e(this.source,xM(),this.snap.getImmediateChild(t)):new e(this.source,TM(this.path),this.snap)}}]),e}(),Uj=function(){function e(t,n,r){h(this,e),this.source=t,this.path=n,this.children=r,this.type=Oj.MERGE}return v(e,[{key:"operationForChild",value:function(t){if(PM(this.path)){var n=this.children.subtree(new _M(t));return n.isEmpty()?null:n.value?new Fj(this.source,xM(),n.value):new e(this.source,xM(),n)}return Uu(SM(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,TM(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Vj=function(){function e(t,n,r){h(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return v(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(PM(e))return this.isFullyInitialized()&&!this.filtered_;var t=SM(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function qj(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Vu("Should only compare child_ events.");var r=new BM(t.childName,t.snapshotNode),i=new BM(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Bj(e,t){return{eventCache:e,serverCache:t}}function zj(e,t,n,r){return Bj(new Vj(t,n,r),e.serverCache)}function Wj(e,t,n,r){return Bj(e.eventCache,new Vj(t,n,r))}function Hj(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Gj(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Kj=function(){return Mj||(Mj=new YM(qL)),Mj},Qj=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kj();h(this,e),this.value=t,this.children=n}return v(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:xM(),value:this.value};if(PM(e))return null;var n=SM(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(TM(e),t);return null!=i?{path:AM(new _M(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(PM(t))return this;var n=SM(t),r=this.children.get(n);return null!==r?r.subtree(TM(t)):new e(null)}},{key:"set",value:function(t,n){if(PM(t))return new e(n,this.children);var r=SM(t),i=(this.children.get(r)||new e(null)).set(TM(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(PM(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=SM(t),r=this.children.get(n);if(r){var i,a=r.remove(TM(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(PM(e))return this.value;var t=SM(e),n=this.children.get(t);return n?n.get(TM(e)):null}},{key:"setTree",value:function(t,n){if(PM(t))return n;var r,i=SM(t),a=(this.children.get(i)||new e(null)).setTree(TM(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(xM(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(AM(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,xM(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(PM(e))return null;var i=SM(e),a=this.children.get(i);return a?a.findOnPath_(TM(e),AM(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,xM(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(PM(t))return this;this.value&&r(n,this.value);var i=SM(t),a=this.children.get(i);return a?a.foreachOnPath_(TM(t),AM(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(xM(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(AM(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return HL(t,(function(e,t){n=n.set(new _M(e),t)})),n}}]),e}(),$j=function(){function e(t){h(this,e),this.writeTree_=t}return v(e,null,[{key:"empty",value:function(){return new e(new Qj(null))}}]),e}();function Yj(e,t,n){if(PM(t))return new $j(new Qj(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=OM(i,t);return a=a.updateChild(o,n),new $j(e.writeTree_.set(i,a))}var s=new Qj(n),u=e.writeTree_.setTree(t,s);return new $j(u)}function Xj(e,t,n){var r=e;return HL(n,(function(e,n){r=Yj(r,AM(t,e),n)})),r}function Jj(e,t){if(PM(t))return $j.empty();var n=e.writeTree_.setTree(t,new Qj(null));return new $j(n)}function Zj(e,t){return null!=eF(e,t)}function eF(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(OM(n.path,t)):null}function tF(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(uj,(function(e,n){t.push(new BM(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new BM(e,n.value))})),t}function nF(e,t){if(PM(t))return e;var n=eF(e,t);return new $j(null!=n?new Qj(n):e.writeTree_.subtree(t))}function rF(e){return e.writeTree_.isEmpty()}function iF(e,t){return aF(xM(),e.writeTree_,t)}function aF(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Uu(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=aF(AM(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(AM(e,".priority"),r)),n}function oF(e,t){return kF(t,e)}function sF(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function uF(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Uu(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&cF(s,r.path)?i=!1:DM(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=fF(e.allWrites,lF,xM()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Jj(e.visibleWrites,r.path):HL(r.children,(function(t){e.visibleWrites=Jj(e.visibleWrites,AM(r.path,t))}));return!0}return!1}function cF(e,t){if(e.snap)return DM(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&DM(AM(e.path,n),t))return!0;return!1}function lF(e){return e.visible}function fF(e,t,n){for(var r=$j.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)DM(n,o)?r=Yj(r,s=OM(n,o),a.snap):DM(o,n)&&(s=OM(o,n),r=Yj(r,xM(),a.snap.getChild(s)));else{if(!a.children)throw Vu("WriteRecord should have .snap or .children");if(DM(n,o))r=Xj(r,s=OM(n,o),a.children);else if(DM(o,n))if(PM(s=OM(o,n)))r=Xj(r,xM(),a.children);else{var u=vc(a.children,SM(s));if(u){var c=u.getChild(TM(s));r=Yj(r,xM(),c)}}}}}return r}function dF(e,t,n,r,i){if(r||i){var a=nF(e.visibleWrites,t);if(!i&&rF(a))return n;if(i||null!=n||Zj(a,xM())){var o=fF(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(DM(e.path,t)||DM(t,e.path))}),t);return iF(o,n||pj.EMPTY_NODE)}return null}var s=eF(e.visibleWrites,t);if(null!=s)return s;var u=nF(e.visibleWrites,t);return rF(u)?n:null!=n||Zj(u,xM())?iF(u,n||pj.EMPTY_NODE):null}function hF(e,t,n,r){return dF(e.writeTree,e.treePath,t,n,r)}function pF(e,t){return function(e,t,n){var r=pj.EMPTY_NODE,i=eF(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(uj,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=nF(e.visibleWrites,t);return n.forEachChild(uj,(function(e,t){var n=iF(nF(a,new _M(e)),t);r=r.updateImmediateChild(e,n)})),tF(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return tF(nF(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function vF(e,t,n,r){return function(e,t,n,r,i){Uu(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=AM(t,n);if(Zj(e.visibleWrites,a))return null;var o=nF(e.visibleWrites,a);return rF(o)?i.getChild(n):iF(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function mF(e,t){return function(e,t){return eF(e.visibleWrites,t)}(e.writeTree,AM(e.treePath,t))}function yF(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=nF(e.visibleWrites,t),c=eF(u,xM());if(null!=c)s=c;else{if(null==n)return[];s=iF(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),d=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),h=d.getNext();h&&l.length<i;)0!==f(h,r)&&l.push(h),h=d.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function gF(e,t,n){return function(e,t,n,r){var i=AM(t,n),a=eF(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?iF(nF(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function wF(e,t){return kF(AM(e.treePath,t),e.writeTree)}function kF(e,t){return{treePath:e,writeTree:t}}var bF=function(){function e(){h(this,e),this.changeMap=new Map}return v(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Uu("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Uu(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,xj(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,_j(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,bj(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Vu("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xj(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),_F=new(function(){function e(){h(this,e)}return v(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),xF=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return v(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Vj(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gF(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gj(this.viewCache_),i=yF(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function SF(e,t,n,r,i){var a,o,s=new bF;if(n.type===Oj.OVERWRITE){var u=n;u.source.fromUser?a=IF(e,t,u.path,u.snap,r,i,s):(Uu(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!PM(u.path),a=TF(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Oj.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=AM(n,r);CF(t,SM(c))&&(s=IF(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=AM(n,r);CF(t,SM(c))||(s=IF(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(Uu(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=AF(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Oj.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=mF(r,n))return t;var s,u=new xF(r,t,i),c=t.eventCache.getNode();if(PM(n)||".priority"===SM(n)){var l;if(t.serverCache.isFullyInitialized())l=hF(r,Gj(t));else{var f=t.serverCache.getNode();Uu(f instanceof pj,"serverChildren would be complete if leaf node"),l=pF(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var d=SM(n),h=gF(r,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=c.getImmediateChild(d)),(s=null!=h?e.filter.updateChild(c,d,h,TM(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,pj.EMPTY_NODE,TM(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=hF(r,Gj(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=mF(r,xM()),zj(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=mF(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(PM(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return TF(e,t,n,u.getNode().getChild(n),i,a,s,o);if(PM(n)){var c=new Qj(null);return u.getNode().forEachChild(HM,(function(e,t){c=c.set(new _M(e),t)})),AF(e,t,n,c,i,a,s,o)}return t}var l=new Qj(null);return r.foreach((function(e,t){var r=AM(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),AF(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Oj.LISTEN_COMPLETE)throw Vu("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Wj(t,a.getNode(),a.isFullyInitialized()||PM(n),a.isFiltered());return EF(e,o,n,r,_F,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Hj(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(kj(Hj(t)))}}(t,a,f),{viewCache:a,changes:f}}function EF(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=mF(r,n))return t;if(PM(n))if(Uu(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Gj(t),l=pF(r,c instanceof pj?c:pj.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=hF(r,Gj(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=SM(n);if(".priority"===d){Uu(1===EM(n),"Can't have a priority with additional path components");var h=u.getNode(),p=vF(r,n,h,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):u.getNode()}else{var v,m=TM(n);if(u.isCompleteForChild(d)){s=t.serverCache.getNode();var y=vF(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(d).updateChild(m,y):u.getNode().getImmediateChild(d)}else v=gF(r,d,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),d,v,m,i,a):u.getNode()}}return zj(t,o,u.isFullyInitialized()||PM(n),e.filter.filtersNodes())}function TF(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(PM(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var d=SM(n);if(!c.isCompleteForPath(n)&&EM(n)>1)return t;var h=TM(n),p=c.getNode().getImmediateChild(d).updateChild(h,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,h,_F,null)}var v=Wj(t,u,c.isFullyInitialized()||PM(n),l.filtersNodes());return EF(e,v,n,i,new xF(i,v,a),s)}function IF(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new xF(i,t,a);if(PM(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=zj(t,u,!0,e.filter.filtersNodes());else{var f=SM(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=zj(t,u,c.isFullyInitialized(),c.isFiltered());else{var d,h=TM(n),p=c.getNode().getImmediateChild(f);if(PM(h))d=r;else{var v=l.getCompleteChild(f);d=null!=v?".priority"===IM(h)&&v.getChild(NM(h)).isEmpty()?v:v.updateChild(h,r):pj.EMPTY_NODE}if(p.equals(d))s=t;else s=zj(t,e.filter.updateChild(c.getNode(),f,d,h,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function CF(e,t){return e.eventCache.isCompleteForChild(t)}function NF(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function AF(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=PM(n)?r:new Qj(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=NF(0,t.serverCache.getNode().getImmediateChild(n),r);c=TF(e,c,new _M(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=NF(0,t.serverCache.getNode().getImmediateChild(n),r);c=TF(e,c,new _M(n),f,i,a,o,s)}})),c}var PF;function OF(e,t){var n=Gj(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!PM(t)&&!n.getImmediateChild(SM(t)).isEmpty())?n.getChild(t):null}function RF(e,t,n,r){t.type===Oj.MERGE&&null!==t.source.queryId&&(Uu(Gj(e.viewCache_),"We should always have a full cache before handling merges"),Uu(Hj(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=SF(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Uu(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Uu(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Uu(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,DF(e,s.changes,s.viewCache.eventCache.getNode(),null)}function DF(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),qj(e,i,"child_removed",t,r,n),qj(e,i,"child_added",t,r,n),qj(e,i,"child_moved",a,r,n),qj(e,i,"child_changed",t,r,n),qj(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var LF;function MF(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Uu(null!=a,"SyncTree gave us an op for an invalid query."),RF(a,t,n,r)}var o,s=[],u=Lu(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(RF(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function jF(e,t){var n,r=null,i=Lu(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||OF(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var FF=v((function e(t){h(this,e),this.listenProvider_=t,this.syncPointTree_=new Qj(null),this.pendingWriteTree_={visibleWrites:$j.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function UF(e,t,n,r,i){return function(e,t,n,r,i){Uu(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Yj(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?WF(e,new Fj({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function VF(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=sF(e.pendingWriteTree_,t),i=uF(e.pendingWriteTree_,t);if(i){var a=new Qj(null);return null!=r.snap?a=a.set(xM(),!0):HL(r.children,(function(e){a=a.set(new _M(e),!0)})),WF(e,new jj(r.path,a,n))}return[]}function qF(e,t,n){return WF(e,new Fj({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function BF(e,t,n,r){var i=KF(e,r);if(null!=i){var a=QF(i),o=a.path,s=a.queryId,u=OM(o,t);return $F(e,o,new Fj(Lj(s),u,n))}return[]}function zF(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=jF(n,OM(e,t));if(r)return r}));return dF(r,t,i,n,!0)}function WF(e,t){return HF(t,e.syncPointTree_,null,oF(e.pendingWriteTree_,xM()))}function HF(e,t,n,r){if(PM(e.path))return GF(e,t,n,r);var i=t.get(xM());null==n&&null!=i&&(n=jF(i,xM()));var a=[],o=SM(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=wF(r,o);a=a.concat(HF(s,u,c,l))}return i&&(a=a.concat(MF(i,e,r,n))),a}function GF(e,t,n,r){var i=t.get(xM());null==n&&null!=i&&(n=jF(i,xM()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=wF(r,t),u=e.operationForChild(t);u&&(a=a.concat(GF(u,i,o,s)))})),i&&(a=a.concat(MF(i,e,r,n))),a}function KF(e,t){return e.tagToQueryMap.get(t)}function QF(e){var t=e.indexOf("$");return Uu(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _M(e.substr(0,t))}}function $F(e,t,n){var r=e.syncPointTree_.get(t);return Uu(r,"Missing sync point for query tag that we're tracking"),MF(r,n,oF(e.pendingWriteTree_,t),null)}var YF=function(){function e(t){h(this,e),this.node_=t}return v(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),XF=function(){function e(t,n){h(this,e),this.syncTree_=t,this.path_=n}return v(e,[{key:"getImmediateChild",value:function(t){var n=AM(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return zF(this.syncTree_,this.path_)}}]),e}(),JF=function(e,t,n){return e&&"object"===typeof e?(Uu(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ZF(e[".sv"],t,n):"object"===typeof e[".sv"]?eU(e[".sv"],t):void Uu(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ZF=function(e,t,n){if("timestamp"===e)return n.timestamp;Uu(!1,"Unexpected server value: "+e)},eU=function(e,t,n){e.hasOwnProperty("increment")||Uu(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Uu(!1,"Unexpected increment value: "+r);var i=t.node();if(Uu(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},tU=function(e,t,n,r){return rU(t,new XF(n,e),r)},nU=function(e,t,n){return rU(e,new YF(t),n)};function rU(e,t,n){var r,i=e.getPriority().val(),a=JF(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=JF(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new ij(s,mj(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new ij(a))),u.forEachChild(uj,(function(e,i){var a=rU(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var iU=v((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};h(this,e),this.name=t,this.parent=n,this.node=r}));function aU(e,t){for(var n=t instanceof _M?t:new _M(t),r=e,i=SM(n);null!==i;){var a=vc(r.node.children,i)||{children:{},childCount:0};r=new iU(i,r,a),i=SM(n=TM(n))}return r}function oU(e){return e.node.value}function sU(e,t){e.node.value=t,dU(e)}function uU(e){return e.node.childCount>0}function cU(e,t){HL(e.node.children,(function(n,r){t(new iU(n,e,r))}))}function lU(e,t,n,r){n&&!r&&t(e),cU(e,(function(e){lU(e,t,!0,r)})),n&&r&&t(e)}function fU(e){return new _M(null===e.parent?e.name:fU(e.parent)+"/"+e.name)}function dU(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===oU(e)&&!uU(e)}(n),i=pc(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,dU(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,dU(e))}(e.parent,e.name,e)}var hU=/[\[\].#$\/\u0000-\u001F\u007F]/,pU=/[\[\].#$\u0000-\u001F\u007F]/,vU=10485760,mU=function(e){return"string"===typeof e&&0!==e.length&&!hU.test(e)},yU=function(e){return"string"===typeof e&&0!==e.length&&!pU.test(e)},gU=function e(t,n,r){var i=r instanceof _M?new LM(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+jM(i));if("function"===typeof n)throw new Error(t+"contains a function "+jM(i)+" with contents = "+n.toString());if(jL(n))throw new Error(t+"contains "+n.toString()+" "+jM(i));if("string"===typeof n&&n.length>vU/3&&Cc(n)>vU)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+jM(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(HL(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!mU(n)))throw new Error(t+" contains an invalid key ("+n+") "+jM(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Cc(u),MM(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Cc(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+jM(i)+" in addition to actual children.")}},wU=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!mU(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),yU(e)}(n))throw new Error(Ic(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},kU=v((function e(){h(this,e),this.eventLists_=[],this.recursionDepth_=0}));function bU(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||RM(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function _U(e,t,n){bU(e,n),xU(e,(function(e){return DM(e,t)||DM(t,e)}))}function xU(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(SU(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function SU(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();NL&&OL("event: "+n.toString()),$L(r)}}}var EU="repo_interrupt",TU=function(){function e(t,n,r,i){h(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nj(),this.transactionQueueTree_=new iU,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return v(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function IU(e,t,n){if(e.stats_=cM(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ij(e.repoInfo_,(function(t,n,r,i){AU(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return PU(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dc(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new VM(e.repoInfo_,t,(function(t,n,r,i){AU(e,t,n,r,i)}),(function(t){PU(e,t)}),(function(t){!function(e,t){HL(t,(function(t,n){OU(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return uM[n]||(uM[n]=t()),uM[n]}(e.repoInfo_,(function(){return new Dj(e.stats_,e.server_)})),e.infoData_=new Cj,e.infoSyncTree_=new FF({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=qF(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),OU(e,"connected",!1),e.serverSyncTree_=new FF({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);_U(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function CU(e){var t=e.infoData_.getNode(new _M(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function NU(e){return(t=(t={timestamp:CU(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function AU(e,t,n,r,i){e.dataUpdateCount++;var a=new _M(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=yc(n,(function(e){return mj(e)}));o=function(e,t,n,r){var i=KF(e,r);if(i){var a=QF(i),o=a.path,s=a.queryId,u=OM(o,t),c=Qj.fromObject(n);return $F(e,o,new Uj(Lj(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=mj(n);o=BF(e.serverSyncTree_,a,u,i)}else if(r){var c=yc(n,(function(e){return mj(e)}));o=function(e,t,n){var r=Qj.fromObject(n);return WF(e,new Uj({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=mj(n);o=qF(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=UU(e,a)),_U(e.eventQueue_,f,o)}function PU(e,t){OU(e,"connected",t),!1===t&&function(e){LU(e,"onDisconnectEvents");var t=NU(e),n=Nj();Pj(e.onDisconnect_,xM(),(function(r,i){var a=tU(r,i,e.serverSyncTree_,t);Aj(n,r,a)}));var r=[];Pj(n,xM(),(function(t,n){r=r.concat(qF(e.serverSyncTree_,t,n));var i=WU(e,t);UU(e,i)})),e.onDisconnect_=Nj(),_U(e.eventQueue_,xM(),r)}(e)}function OU(e,t,n){var r=new _M("/.info/"+t),i=mj(n);e.infoData_.updateSnapshot(r,i);var a=qF(e.infoSyncTree_,r,i);_U(e.eventQueue_,r,a)}function RU(e){return e.nextWriteId_++}function DU(e){e.persistentConnection_&&e.persistentConnection_.interrupt(EU)}function LU(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];OL.apply(void 0,[t].concat(r))}function MU(e,t,n){return zF(e.serverSyncTree_,t,n)||pj.EMPTY_NODE}function jU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||zU(e,t),oU(t)){var n=qU(e,t);Uu(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&FU(e,fU(t),n)}else uU(t)&&cU(t,(function(t){jU(e,t)}))}function FU(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=MU(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Uu(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=OM(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){LU(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(VF(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);zU(e,aU(e.transactionQueueTree_,t)),jU(e,e.transactionQueueTree_),_U(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)$L(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{ML("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}UU(e,t)}}),o)}function UU(e,t){var n=VU(e,t),r=fU(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=OM(n,u.path),l=!1,f=void 0;if(Uu(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(VF(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(VF(e.serverSyncTree_,u.currentWriteId,!0));else{var d=MU(e,u.path,o);u.currentInputSnapshot=d;var h=t[a].update(d.val());if(void 0!==h){gU("transaction failed: Data returned ",h,u.path);var p=mj(h);"object"===typeof h&&null!=h&&pc(h,".priority")||(p=p.updatePriority(d.getPriority()));var v=u.currentWriteId,m=NU(e),y=nU(p,d,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=RU(e),o.splice(o.indexOf(v),1),i=(i=i.concat(UF(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(VF(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(VF(e.serverSyncTree_,u.currentWriteId,!0))}_U(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);zU(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)$L(r[c]);jU(e,e.transactionQueueTree_)}(e,qU(e,n),r),r}function VU(e,t){var n,r=e.transactionQueueTree_;for(n=SM(t);null!==n&&void 0===oU(r);)r=aU(r,n),n=SM(t=TM(t));return r}function qU(e,t){var n=[];return BU(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function BU(e,t,n){var r=oU(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);cU(t,(function(t){BU(e,t,n)}))}function zU(e,t){var n=oU(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,sU(t,n.length>0?n:void 0)}cU(t,(function(t){zU(e,t)}))}function WU(e,t){var n=fU(VU(e,t)),r=aU(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){HU(e,t)})),HU(e,r),lU(r,(function(t){HU(e,t)})),n}function HU(e,t){var n=oU(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Uu(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Uu(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(VF(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?sU(t,void 0):n.length=a+1,_U(e.eventQueue_,fU(t),i);for(var s=0;s<r.length;s++)$L(r[s])}}var GU=function(e,t){var n=KU(e),r=n.namespace;"firebase.com"===n.domain&&LL(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||LL("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ML("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new iM(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new _M(n.pathString)}},KU=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Lu(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):ML("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},QU="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$U=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){h(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return v(e,[{key:"key",get:function(){return PM(this._path)?null:IM(this._path)}},{key:"ref",get:function(){return new YU(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Tj(this._queryParams),t=zL(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Tj(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Nc(t))instanceof e))return!1;var n=this._repo===t._repo,r=RM(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var YU=function(e){y(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,r,new Sj,!1)}return v(n,[{key:"parent",get:function(){var e=NM(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}($U);!function(e){Uu(!PF,"__referenceConstructor has already been defined"),PF=e}(YU),function(e){Uu(!LF,"__referenceConstructor has already been defined"),LF=e}(YU);var XU={},JU=!1;function ZU(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||LL("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),OL("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=GU(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/free-music-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDn_mGk2G-DqWB0lfJ-83tL_fCOVbfknoQ",REACT_APP_FIREBASE_APP_ID:"1:987512357874:web:e3206c04fb94664a28e16b",REACT_APP_FIREBASE_AUTH_DOMAIN:"free-music-player-23c8e.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://free-music-player-23c8e-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-V0YG68W21R",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"987512357874",REACT_APP_FIREBASE_PROJECT_ID:"free-music-player-23c8e",REACT_APP_FIREBASE_STORAGE_BUCKET:"free-music-player-23c8e.appspot.com"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=GU(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new ZL(ZL.OWNER):new JL(e.name,e.options,t);wU("Invalid Firebase Database URL",s),PM(s.path)||LL("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=XU[t.name];i||(i={},XU[t.name]=i);var a=i[e.toURLString()];a&&LL("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new TU(e,JU,n,r),i[e.toURLString()]=a,a}(u,e,l,new XL(e.name,n));return new eV(f,e)}var eV=function(){function e(t,n){h(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return v(e,[{key:"_repo",get:function(){return this._instanceStarted||(IU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new YU(this._repo,xM())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=XU[t];n&&n[e.key]===e||LL("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),DU(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&LL("Cannot call "+e+" on a deleted database.")}}]),e}();VM.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},VM.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){wL=e}(Sl),yl(new Ac("database",(function(e,t){var n=t.instanceIdentifier;return ZU(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Al(yL,gL,e),Al(yL,gL,"esm2017")}();var tV=VR.initializeApp({apiKey:"AIzaSyDn_mGk2G-DqWB0lfJ-83tL_fCOVbfknoQ",authDomain:"free-music-player-23c8e.firebaseapp.com",databaseUrl:"https://free-music-player-23c8e-default-rtdb.firebaseio.com",projectId:"free-music-player-23c8e",storageBucket:"free-music-player-23c8e.appspot.com",messagingSenderId:"987512357874",appId:"1:987512357874:web:e3206c04fb94664a28e16b",measurementId:"G-V0YG68W21R"}),nV=tV.auth(),rV=function(e,t){var n="string"==typeof e?e:t||"(default)",r=gl("object"==typeof e?e:Tl(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=rc("firestore");i&&_P.apply(void 0,[r].concat(d(i)))}return r}(tV),iV=r.createContext();function aV(){return(0,r.useContext)(iV)}var oV=function(e){var t=e.children,n=l((0,r.useState)(),2),i=n[0],a=n[1],o="331ec2d4422e40158118ed7027542e1b",s="cdbfe903116848bf98cf47ad3ab24f22",u=l((0,r.useState)(),2),c=u[0],f=u[1],d=l((0,r.useState)(!0),2),h=d[0],p=d[1],v=l((0,r.useState)([]),2),m=v[0],y=v[1],g=l((0,r.useState)([]),2),w=g[0],k=g[1];(0,r.useEffect)((function(){if(c){var e=xR(IP(rV,"tracks",c.uid),(function(e){e.exists()?k(e.data().track):console.log("No tracks")}));return function(){e()}}if(c){e=xR(IP(rV,"playlists",c.uid),(function(e){e.exists()?y(e.data().playlist):console.log("No playlist")}));return function(){e()}}}),[c]),(0,r.useEffect)((function(){if(c){var e=xR(IP(rV,"playlists",c.uid),(function(e){e.exists()?y(e.data().playlist):console.log("No playlist")}));return function(){e()}}}),[c]),(0,r.useEffect)((function(){return nV.onAuthStateChanged((function(e){f(e),p(!1)}))}),[]),(0,r.useEffect)((function(){Xn("https://accounts.spotify.com/api/token",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(o+":"+s)},data:"grant_type=client_credentials",method:"POST"}).then((function(e){a(e.data.access_token),localStorage.setItem("token",JSON.stringify(e.data.access_token)),console.log(e.data.access_token)}))}),[o,s]);var b={token:i,currentUser:c,signInWithGoogle:function(){var e=new _h;nV.signInWithPopup(e)},signInWithFacebook:function(){var e=new bh;nV.signInWithPopup(e)},logout:function(){return nV.signOut()},tracks:w,playlists:m};return(0,Jn.jsx)(iV.Provider,{value:b,children:!h&&t})},sV=ht().bind({wrapper:"Slide_wrapper__t-6+f"});var uV=function(e){var t=e.className,n=JSON.parse(localStorage.getItem("token")),i=l((0,r.useState)([]),2),a=i[0],o=i[1];(0,r.useEffect)((function(){var e=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au.getNewRelease(n);case 2:t=e.sent,o(t.data.albums.items);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);var s=sV("wrapper",tr({},t,t));return(0,Jn.jsx)("div",{className:s,children:(0,Jn.jsx)(Pi,{modules:[di,hi],spaceBetween:5,slidesPerView:1,grabCursor:!0,autoplay:{delay:2e3},loop:!0,pagination:{clickable:!0},children:a.map((function(e,t){return(0,Jn.jsx)(Di,{children:(0,Jn.jsx)(Ou,{data:e,className:sV("slide-card")})},t)}))})})},cV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lV=r.createContext&&r.createContext(cV),fV=function(){return fV=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fV.apply(this,arguments)},dV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function hV(e){return e&&e.map((function(e,t){return r.createElement(e.tag,fV({key:t},e.attr),hV(e.child))}))}function pV(e){return function(t){return r.createElement(vV,fV({attr:fV({},e.attr)},t),hV(e.child))}}function vV(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=dV(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",fV({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:fV(fV({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==lV?r.createElement(lV.Consumer,null,(function(e){return t(e)})):t(cV)}function mV(e){return pV({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}}]})(e)}function yV(e){return pV({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function gV(e){return pV({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"}}]})(e)}function wV(e){return pV({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}}]})(e)}function kV(e){return pV({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}}]})(e)}function bV(e){return pV({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}}]})(e)}function _V(e){return pV({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}}]})(e)}function xV(e){return pV({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"}}]})(e)}function SV(e){return pV({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}}]})(e)}function EV(e){return pV({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"}}]})(e)}function TV(e){return pV({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.195 18.44c1.25.713 2.805-.19 2.805-1.629v-2.34l6.945 3.968c1.25.714 2.805-.188 2.805-1.628V8.688c0-1.44-1.555-2.342-2.805-1.628L12 11.03v-2.34c0-1.44-1.555-2.343-2.805-1.629l-7.108 4.062c-1.26.72-1.26 2.536 0 3.256l7.108 4.061z"}}]})(e)}function IV(e){return pV({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.055 7.06c-1.25-.714-2.805.189-2.805 1.628v8.123c0 1.44 1.555 2.342 2.805 1.628L12 14.471v2.34c0 1.44 1.555 2.342 2.805 1.628l7.108-4.061c1.26-.72 1.26-2.536 0-3.256L14.805 7.06C13.555 6.346 12 7.25 12 8.688v2.34L5.055 7.06z"}}]})(e)}function CV(e){return pV({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V5.25zm7.5 0A.75.75 0 0115 4.5h1.5a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H15a.75.75 0 01-.75-.75V5.25z",clipRule:"evenodd"}}]})(e)}function NV(e){return pV({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"}}]})(e)}function AV(e){return pV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 6h-5v2h4v9H4V8h5v3l5-4-5-4v3H3a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"}}]})(e)}function PV(e){return pV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 17h-1.559l-9.7-10.673A1 1 0 0 0 5.001 6H2v2h2.559l4.09 4.5-4.09 4.501H2v2h3.001a1 1 0 0 0 .74-.327L10 13.987l4.259 4.686a1 1 0 0 0 .74.327H17v3l5-4-5-4v3z"}},{tag:"path",attr:{d:"M15.441 8H17v3l5-3.938L17 3v3h-2.001a1 1 0 0 0-.74.327l-3.368 3.707 1.48 1.346L15.441 8z"}}]})(e)}var OV=ko({name:"player",initialState:{activeSong:{},currentSongs:[],currentIndex:0,currentPlaylist:[],isActive:!1,isPlaying:!1,activePlayer:!1,playerBar:!1,imageUrl:void 0,artistName:void 0,favouritePlaylist:[],favourite:!1},reducers:{setBoolean:function(e,t){e.favourite=t.payload},setFavouritePlaylist:function(e,t){e.favouritePlaylist=t.payload},setCurrentPlaylist:function(e,t){e.currentPlaylist=t.payload},setImageUrl:function(e,t){e.imageUrl=t.payload},setArtistName:function(e,t){e.artistName=t.payload},setActiveSong:function(e,t){e.activeSong=t.payload.track.name,e.currentSongs=t.payload.track,e.currentIndex=t.payload.index,e.isActive=!0},setActivePlayer:function(e,t){e.activePlayer=t.payload},nextSong:function(e,t){switch(e.favourite){case!0:e.currentSongs=e.currentPlaylist.at(t.payload).data;break;case!1:e.currentSongs=e.currentPlaylist.at(t.payload).track,e.activeSong=e.currentPlaylist.at(t.payload)}e.currentIndex=t.payload,e.isActive=!0},prevSong:function(e,t){e.currentSongs=e.currentPlaylist.at(t.payload).track,e.currentIndex=t.payload,e.isActive=!0},playPause:function(e,t){e.isPlaying=t.payload},playerBar:function(e,t){e.playerBar=t.payload}}}),RV=OV.actions,DV=RV.setActivePlayer,LV=RV.setBoolean,MV=RV.setCurrentPlaylist,jV=RV.setActiveSong,FV=RV.nextSong,UV=RV.prevSong,VV=RV.playPause,qV=RV.playerBar,BV=RV.setImageUrl,zV=RV.setArtistName,WV=RV.setFavouritePlaylist,HV=OV.reducer,GV=ht().bind({wrapper:"RecommendTrackItem_wrapper__sva3s","wrapper-image":"RecommendTrackItem_wrapper-image__OvbTV","wrapper-background":"RecommendTrackItem_wrapper-background__GvZax","wrapper-infor":"RecommendTrackItem_wrapper-infor__mLodE","wrapper-infor--name":"RecommendTrackItem_wrapper-infor--name__h1TXQ","wrapper-infor--artist":"RecommendTrackItem_wrapper-infor--artist__wModH","wrapper-icon":"RecommendTrackItem_wrapper-icon__jqdQZ",icon:"RecommendTrackItem_icon__Gsd27"});function KV(e){var t=e.data,n=(e.onClick,e.order),i=t,a=n,o=ct(),s=et((function(e){return e.player})),u=(s.currentIndex,s.currentSongs,l((0,r.useState)(),2)),c=u[0],f=u[1],d=l((0,r.useState)(),2),h=d[0],p=d[1],v=l((0,r.useState)(),2),m=v[0],y=v[1];return(0,r.useEffect)((function(){t&&(f(i.album.images),y(i.artists.map((function(e){return e.name})))),void 0!==c&&p(c.find((function(e){if(64===e.width)return e.url})))}),[t,c,i.album.images]),(0,Jn.jsxs)("div",{className:GV("wrapper"),onClick:function(){o(jV({track:i,index:a})),o(VV(!1))},children:[(0,Jn.jsx)("div",{className:GV("wrapper-image"),children:(0,Jn.jsx)("img",{className:GV("wrapper-background"),src:null===h||void 0===h?void 0:h.url,alt:i.name})}),(0,Jn.jsxs)("div",{className:GV("wrapper-infor"),children:[(0,Jn.jsx)("span",{className:GV("wrapper-infor--name"),children:i.name}),(0,Jn.jsx)("span",{className:GV("wrapper-infor--artist"),children:null===m||void 0===m?void 0:m.join(",")})]}),(0,Jn.jsx)("div",{className:GV("wrapper-icon"),children:(0,Jn.jsx)(NV,{className:GV("icon")})})]})}var QV=(0,r.memo)(KV),$V=ht().bind({wrapper:"RecommendTrack_wrapper__TcEBI","wrapper-header":"RecommendTrack_wrapper-header__qs9yr","wrapper-body":"RecommendTrack_wrapper-body__MIyuZ","wrapper-body--list":"RecommendTrack_wrapper-body--list__iH2+Y"});function YV(e){var t=e.index,n=aV().token,i=(ct(),et((function(e){return e.player}))),a=i.currentSongs,o=(i.isPlaying,l((0,r.useState)(),2)),s=o[0],u=o[1],c=l((0,r.useState)(),2),f=c[0],d=c[1],h=l((0,r.useState)(),2),p=h[0],v=h[1];return(0,r.useEffect)((function(){if(f){var e=f.join("?"),t=function(){var t=ir(nr().mark((function t(){var r;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Au.getArtistsTopTracks(e,n);case 2:r=t.sent,v(r.data.tracks),console.log(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[f]),(0,r.useEffect)((function(){u(a.artists)}),[a]),(0,r.useEffect)((function(){void 0!==s&&d(s.map((function(e){return e.id})))}),[s]),(0,Jn.jsxs)("div",{className:$V("wrapper"),children:[(0,Jn.jsx)("h3",{className:$V("wrapper-header"),children:"Recommend"}),(0,Jn.jsx)("div",{className:$V("wrapper-body"),children:(0,Jn.jsx)("div",{className:$V("wrapper-body--list"),children:(0,Jn.jsx)(Pi,{modules:[di,hi],spaceBetween:1,slidesPerView:1,pagination:{clickable:!0},children:null===p||void 0===p?void 0:p.map((function(e,n){return(0,Jn.jsx)(Di,{className:$V("slide"),children:(0,Jn.jsx)(QV,{data:e,order:t},n)},n)}))})})})]})}var XV=(0,r.memo)(YV);function JV(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ZV(e){return e instanceof JV(e).Element||e instanceof Element}function eq(e){return e instanceof JV(e).HTMLElement||e instanceof HTMLElement}function tq(e){return"undefined"!==typeof ShadowRoot&&(e instanceof JV(e).ShadowRoot||e instanceof ShadowRoot)}var nq=Math.max,rq=Math.min,iq=Math.round;function aq(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function oq(){return!/^((?!chrome|android).)*safari/i.test(aq())}function sq(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&eq(e)&&(i=e.offsetWidth>0&&iq(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&iq(r.height)/e.offsetHeight||1);var o=(ZV(e)?JV(e):window).visualViewport,s=!oq()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function uq(e){var t=JV(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function cq(e){return e?(e.nodeName||"").toLowerCase():null}function lq(e){return((ZV(e)?e.ownerDocument:e.document)||window.document).documentElement}function fq(e){return sq(lq(e)).left+uq(e).scrollLeft}function dq(e){return JV(e).getComputedStyle(e)}function hq(e){var t=dq(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function pq(e,t,n){void 0===n&&(n=!1);var r=eq(t),i=eq(t)&&function(e){var t=e.getBoundingClientRect(),n=iq(t.width)/e.offsetWidth||1,r=iq(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=lq(t),o=sq(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==cq(t)||hq(a))&&(s=function(e){return e!==JV(e)&&eq(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:uq(e);var t}(t)),eq(t)?((u=sq(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=fq(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function vq(e){var t=sq(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function mq(e){return"html"===cq(e)?e:e.assignedSlot||e.parentNode||(tq(e)?e.host:null)||lq(e)}function yq(e){return["html","body","#document"].indexOf(cq(e))>=0?e.ownerDocument.body:eq(e)&&hq(e)?e:yq(mq(e))}function gq(e,t){var n;void 0===t&&(t=[]);var r=yq(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=JV(r),o=i?[a].concat(a.visualViewport||[],hq(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(gq(mq(o)))}function wq(e){return["table","td","th"].indexOf(cq(e))>=0}function kq(e){return eq(e)&&"fixed"!==dq(e).position?e.offsetParent:null}function bq(e){for(var t=JV(e),n=kq(e);n&&wq(n)&&"static"===dq(n).position;)n=kq(n);return n&&("html"===cq(n)||"body"===cq(n)&&"static"===dq(n).position)?t:n||function(e){var t=/firefox/i.test(aq());if(/Trident/i.test(aq())&&eq(e)&&"fixed"===dq(e).position)return null;var n=mq(e);for(tq(n)&&(n=n.host);eq(n)&&["html","body"].indexOf(cq(n))<0;){var r=dq(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var _q="top",xq="bottom",Sq="right",Eq="left",Tq="auto",Iq=[_q,xq,Sq,Eq],Cq="start",Nq="end",Aq="viewport",Pq="popper",Oq=Iq.reduce((function(e,t){return e.concat([t+"-"+Cq,t+"-"+Nq])}),[]),Rq=[].concat(Iq,[Tq]).reduce((function(e,t){return e.concat([t,t+"-"+Cq,t+"-"+Nq])}),[]),Dq=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Lq(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Mq(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var jq={placement:"bottom",modifiers:[],strategy:"absolute"};function Fq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Uq(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?jq:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},jq,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:ZV(e)?gq(e):e.contextElement?gq(e.contextElement):[],popper:gq(t)};var l=function(e){var t=Lq(e);return Dq.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Fq(t,n)){i.rects={reference:pq(t,bq(n),"fixed"===i.options.strategy),popper:vq(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:Mq((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!Fq(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Vq={passive:!0};var qq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=JV(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Vq)})),s&&u.addEventListener("resize",n.update,Vq),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Vq)})),s&&u.removeEventListener("resize",n.update,Vq)}},data:{}};function Bq(e){return e.split("-")[0]}function zq(e){return e.split("-")[1]}function Wq(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Hq(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Bq(i):null,o=i?zq(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case _q:t={x:s,y:n.y-r.height};break;case xq:t={x:s,y:n.y+n.height};break;case Sq:t={x:n.x+n.width,y:u};break;case Eq:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?Wq(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Cq:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Nq:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var Gq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kq(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,h=void 0===d?0:d,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),w=Eq,k=_q,b=window;if(c){var _=bq(n),x="clientHeight",S="clientWidth";if(_===JV(n)&&"static"!==dq(_=lq(n)).position&&"absolute"===s&&(x="scrollHeight",S="scrollWidth"),i===_q||(i===Eq||i===Sq)&&a===Nq)k=xq,v-=(f&&_===b&&b.visualViewport?b.visualViewport.height:_[x])-r.height,v*=u?1:-1;if(i===Eq||(i===_q||i===xq)&&a===Nq)w=Sq,h-=(f&&_===b&&b.visualViewport?b.visualViewport.width:_[S])-r.width,h*=u?1:-1}var E,T=Object.assign({position:s},c&&Gq),I=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:iq(t*r)/r||0,y:iq(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=I.x,v=I.y,u?Object.assign({},T,((E={})[k]=g?"0":"",E[w]=y?"0":"",E.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",E)):Object.assign({},T,((t={})[k]=g?v+"px":"",t[w]=y?h+"px":"",t.transform="",t))}var Qq={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];eq(i)&&cq(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});eq(r)&&cq(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var $q={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Rq.reduce((function(e,n){return e[n]=function(e,t,n){var r=Bq(e),i=[Eq,_q].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Eq,Sq].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},Yq={left:"right",right:"left",bottom:"top",top:"bottom"};function Xq(e){return e.replace(/left|right|bottom|top/g,(function(e){return Yq[e]}))}var Jq={start:"end",end:"start"};function Zq(e){return e.replace(/start|end/g,(function(e){return Jq[e]}))}function eB(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tq(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tB(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function nB(e,t,n){return t===Aq?tB(function(e,t){var n=JV(e),r=lq(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var c=oq();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+fq(e),y:u}}(e,n)):ZV(t)?function(e,t){var n=sq(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):tB(function(e){var t,n=lq(e),r=uq(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=nq(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=nq(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+fq(e),u=-r.scrollTop;return"rtl"===dq(i||n).direction&&(s+=nq(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(lq(e)))}function rB(e,t,n,r){var i="clippingParents"===t?function(e){var t=gq(mq(e)),n=["absolute","fixed"].indexOf(dq(e).position)>=0&&eq(e)?bq(e):e;return ZV(n)?t.filter((function(e){return ZV(e)&&eB(e,n)&&"body"!==cq(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=nB(e,n,r);return t.top=nq(i.top,t.top),t.right=rq(i.right,t.right),t.bottom=rq(i.bottom,t.bottom),t.left=nq(i.left,t.left),t}),nB(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function iB(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function aB(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function oB(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?"clippingParents":s,c=n.rootBoundary,l=void 0===c?Aq:c,f=n.elementContext,d=void 0===f?Pq:f,h=n.altBoundary,p=void 0!==h&&h,v=n.padding,m=void 0===v?0:v,y=iB("number"!==typeof m?m:aB(m,Iq)),g=d===Pq?"reference":Pq,w=e.rects.popper,k=e.elements[p?g:d],b=rB(ZV(k)?k:k.contextElement||lq(e.elements.popper),u,l,o),_=sq(e.elements.reference),x=Hq({reference:_,element:w,strategy:"absolute",placement:i}),S=tB(Object.assign({},w,x)),E=d===Pq?S:_,T={top:b.top-E.top+y.top,bottom:E.bottom-b.bottom+y.bottom,left:b.left-E.left+y.left,right:E.right-b.right+y.right},I=e.modifiersData.offset;if(d===Pq&&I){var C=I[i];Object.keys(T).forEach((function(e){var t=[Sq,xq].indexOf(e)>=0?1:-1,n=[_q,xq].indexOf(e)>=0?"y":"x";T[e]+=C[n]*t}))}return T}var sB={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,y=Bq(m),g=u||(y===m||!p?[Xq(m)]:function(e){if(Bq(e)===Tq)return[];var t=Xq(e);return[Zq(e),t,Zq(t)]}(m)),w=[m].concat(g).reduce((function(e,n){return e.concat(Bq(n)===Tq?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Rq:u,l=zq(r),f=l?s?Oq:Oq.filter((function(e){return zq(e)===l})):Iq,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=oB(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Bq(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),k=t.rects.reference,b=t.rects.popper,_=new Map,x=!0,S=w[0],E=0;E<w.length;E++){var T=w[E],I=Bq(T),C=zq(T)===Cq,N=[_q,xq].indexOf(I)>=0,A=N?"width":"height",P=oB(t,{placement:T,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),O=N?C?Sq:Eq:C?xq:_q;k[A]>b[A]&&(O=Xq(O));var R=Xq(O),D=[];if(a&&D.push(P[I]<=0),s&&D.push(P[O]<=0,P[R]<=0),D.every((function(e){return e}))){S=T,x=!1;break}_.set(T,D)}if(x)for(var L=function(e){var t=w.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function uB(e,t,n){return nq(e,rq(t,n))}var cB={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=oB(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),y=Bq(t.placement),g=zq(t.placement),w=!g,k=Wq(y),b="x"===k?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,S=t.rects.popper,E="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(_){if(a){var N,A="y"===k?_q:Eq,P="y"===k?xq:Sq,O="y"===k?"height":"width",R=_[k],D=R+m[A],L=R-m[P],M=h?-S[O]/2:0,j=g===Cq?x[O]:S[O],F=g===Cq?-S[O]:-x[O],U=t.elements.arrow,V=h&&U?vq(U):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=q[A],z=q[P],W=uB(0,x[O],V[O]),H=w?x[O]/2-M-W-B-T.mainAxis:j-W-B-T.mainAxis,G=w?-x[O]/2+M+W+z+T.mainAxis:F+W+z+T.mainAxis,K=t.elements.arrow&&bq(t.elements.arrow),Q=K?"y"===k?K.clientTop||0:K.clientLeft||0:0,$=null!=(N=null==I?void 0:I[k])?N:0,Y=R+G-$,X=uB(h?rq(D,R+H-$-Q):D,R,h?nq(L,Y):L);_[k]=X,C[k]=X-R}if(s){var J,Z="x"===k?_q:Eq,ee="x"===k?xq:Sq,te=_[b],ne="y"===b?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[_q,Eq].indexOf(y),oe=null!=(J=null==I?void 0:I[b])?J:0,se=ae?re:te-x[ne]-S[ne]-oe+T.altAxis,ue=ae?te+x[ne]+S[ne]-oe-T.altAxis:ie,ce=h&&ae?function(e,t,n){var r=uB(e,t,n);return r>n?n:r}(se,te,ue):uB(h?se:re,te,h?ue:ie);_[b]=ce,C[b]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};var lB={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Bq(n.placement),u=Wq(s),c=[Eq,Sq].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return iB("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:aB(e,Iq))}(i.padding,n),f=vq(a),d="y"===u?_q:Eq,h="y"===u?xq:Sq,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=bq(a),y=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,w=l[d],k=y-f[c]-l[h],b=y/2-f[c]/2+g,_=uB(w,b,k),x=u;n.modifiersData[r]=((t={})[x]=_,t.centerOffset=_-b,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&eB(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fB(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function dB(e){return[_q,Sq,xq,Eq].some((function(t){return e[t]>=0}))}var hB=Uq({defaultModifiers:[qq,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Hq({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:Bq(t.placement),variation:zq(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Kq(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Kq(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Qq,$q,sB,cB,lB,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=oB(t,{elementContext:"reference"}),s=oB(t,{altBoundary:!0}),u=fB(o,r),c=fB(s,i,a),l=dB(u),f=dB(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),pB="tippy-content",vB="tippy-backdrop",mB="tippy-arrow",yB="tippy-svg-arrow",gB={passive:!0,capture:!0},wB=function(){return document.body};function kB(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function bB(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function _B(e,t){return"function"===typeof e?e.apply(void 0,t):e}function xB(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function SB(e){return[].concat(e)}function EB(e,t){-1===e.indexOf(t)&&e.push(t)}function TB(e){return e.split("-")[0]}function IB(e){return[].slice.call(e)}function CB(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function NB(){return document.createElement("div")}function AB(e){return["Element","Fragment"].some((function(t){return bB(e,t)}))}function PB(e){return bB(e,"MouseEvent")}function OB(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function RB(e){return AB(e)?[e]:function(e){return bB(e,"NodeList")}(e)?IB(e):Array.isArray(e)?e:IB(document.querySelectorAll(e))}function DB(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function LB(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function MB(e){var t,n=SB(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function jB(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function FB(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var UB={isTouch:!1},VB=0;function qB(){UB.isTouch||(UB.isTouch=!0,window.performance&&document.addEventListener("mousemove",BB))}function BB(){var e=performance.now();e-VB<20&&(UB.isTouch=!1,document.removeEventListener("mousemove",BB)),VB=e}function zB(){var e=document.activeElement;if(OB(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var WB=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var HB={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},GB=Object.assign({appendTo:wB,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},HB,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),KB=Object.keys(GB);function QB(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,a=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=GB[i])?r:a);return t}),{});return Object.assign({},e,t)}function $B(e,t){var n=Object.assign({},t,{content:_B(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(QB(Object.assign({},GB,{plugins:t}))):KB).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(i){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},GB.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function YB(e,t){e.innerHTML=t}function XB(e){var t=NB();return!0===e?t.className=mB:(t.className=yB,AB(e)?t.appendChild(e):YB(t,e)),t}function JB(e,t){AB(t.content)?(YB(e,""),e.appendChild(t.content)):"function"!==typeof t.content&&(t.allowHTML?YB(e,t.content):e.textContent=t.content)}function ZB(e){var t=e.firstElementChild,n=IB(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(pB)})),arrow:n.find((function(e){return e.classList.contains(mB)||e.classList.contains(yB)})),backdrop:n.find((function(e){return e.classList.contains(vB)}))}}function ez(e){var t=NB(),n=NB();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=NB();function i(n,r){var i=ZB(t),a=i.box,o=i.content,s=i.arrow;r.theme?a.setAttribute("data-theme",r.theme):a.removeAttribute("data-theme"),"string"===typeof r.animation?a.setAttribute("data-animation",r.animation):a.removeAttribute("data-animation"),r.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"===typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?a.setAttribute("role",r.role):a.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||JB(o,e.props),r.arrow?s?n.arrow!==r.arrow&&(a.removeChild(s),a.appendChild(XB(r.arrow))):a.appendChild(XB(r.arrow)):s&&a.removeChild(s)}return r.className=pB,r.setAttribute("data-state","hidden"),JB(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}ez.$$tippy=!0;var tz=1,nz=[],rz=[];function iz(e,t){var n,r,i,a,o,s,u,c,l=$B(e,Object.assign({},GB,QB(CB(t)))),f=!1,d=!1,h=!1,p=!1,v=[],m=xB(K,l.interactiveDebounce),y=tz++,g=(c=l.plugins).filter((function(e,t){return c.indexOf(e)===t})),w={id:y,reference:e,popper:NB(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:g,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(w.state.isDestroyed)return;R("onBeforeUpdate",[w,t]),H();var n=w.props,r=$B(e,Object.assign({},n,CB(t),{ignoreAttributes:!0}));w.props=r,W(),n.interactiveDebounce!==r.interactiveDebounce&&(M(),m=xB(K,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?SB(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");L(),O(),_&&_(n,r);w.popperInstance&&(X(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));R("onAfterUpdate",[w,t])},setContent:function(e){w.setProps({content:e})},show:function(){0;var e=w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,r=UB.isTouch&&!w.props.touch,i=kB(w.props.duration,0,GB.duration);if(e||t||n||r)return;if(C().hasAttribute("disabled"))return;if(R("onShow",[w],!1),!1===w.props.onShow(w))return;w.state.isVisible=!0,I()&&(b.style.visibility="visible");O(),V(),w.state.isMounted||(b.style.transition="none");if(I()){var a=A(),o=a.box,u=a.content;DB([o,u],0)}s=function(){var e;if(w.state.isVisible&&!p){if(p=!0,b.offsetHeight,b.style.transition=w.props.moveTransition,I()&&w.props.animation){var t=A(),n=t.box,r=t.content;DB([n,r],i),LB([n,r],"visible")}D(),L(),EB(rz,w),null==(e=w.popperInstance)||e.forceUpdate(),R("onMount",[w]),w.props.animation&&I()&&function(e,t){B(e,t)}(i,(function(){w.state.isShown=!0,R("onShown",[w])}))}},function(){var e,t=w.props.appendTo,n=C();e=w.props.interactive&&t===wB||"parent"===t?n.parentNode:_B(t,[n]);e.contains(b)||e.appendChild(b);w.state.isMounted=!0,X(),!1}()},hide:function(){0;var e=!w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,r=kB(w.props.duration,1,GB.duration);if(e||t||n)return;if(R("onHide",[w],!1),!1===w.props.onHide(w))return;w.state.isVisible=!1,w.state.isShown=!1,p=!1,f=!1,I()&&(b.style.visibility="hidden");if(M(),q(),O(!0),I()){var i=A(),a=i.box,o=i.content;w.props.animation&&(DB([a,o],r),LB([a,o],"hidden"))}D(),L(),w.props.animation?I()&&function(e,t){B(e,(function(){!w.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&t()}))}(r,w.unmount):w.unmount()},hideWithInteractivity:function(e){0;N().addEventListener("mousemove",m),EB(nz,m),m(e)},enable:function(){w.state.isEnabled=!0},disable:function(){w.hide(),w.state.isEnabled=!1},unmount:function(){0;w.state.isVisible&&w.hide();if(!w.state.isMounted)return;J(),Z().forEach((function(e){e._tippy.unmount()})),b.parentNode&&b.parentNode.removeChild(b);rz=rz.filter((function(e){return e!==w})),w.state.isMounted=!1,R("onHidden",[w])},destroy:function(){0;if(w.state.isDestroyed)return;w.clearDelayTimeouts(),w.unmount(),H(),delete e._tippy,w.state.isDestroyed=!0,R("onDestroy",[w])}};if(!l.render)return w;var k=l.render(w),b=k.popper,_=k.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+w.id,w.popper=b,e._tippy=w,b._tippy=w;var x=g.map((function(e){return e.fn(w)})),S=e.hasAttribute("aria-expanded");return W(),L(),O(),R("onCreate",[w]),l.showOnCreate&&ee(),b.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),b.addEventListener("mouseleave",(function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",m)})),w;function E(){var e=w.props.touch;return Array.isArray(e)?e:[e,0]}function T(){return"hold"===E()[0]}function I(){var e;return!(null==(e=w.props.render)||!e.$$tippy)}function C(){return u||e}function N(){var e=C().parentNode;return e?MB(e):document}function A(){return ZB(b)}function P(e){return w.state.isMounted&&!w.state.isVisible||UB.isTouch||a&&"focus"===a.type?0:kB(w.props.delay,e?0:1,GB.delay)}function O(e){void 0===e&&(e=!1),b.style.pointerEvents=w.props.interactive&&!e?"":"none",b.style.zIndex=""+w.props.zIndex}function R(e,t,n){var r;(void 0===n&&(n=!0),x.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=w.props)[e].apply(r,t)}function D(){var t=w.props.aria;if(t.content){var n="aria-"+t.content,r=b.id;SB(w.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(w.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function L(){!S&&w.props.aria.expanded&&SB(w.props.triggerTarget||e).forEach((function(e){w.props.interactive?e.setAttribute("aria-expanded",w.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}function M(){N().removeEventListener("mousemove",m),nz=nz.filter((function(e){return e!==m}))}function j(t){if(!UB.isTouch||!h&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!w.props.interactive||!FB(b,n)){if(SB(w.props.triggerTarget||e).some((function(e){return FB(e,n)}))){if(UB.isTouch)return;if(w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[w,t]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),d=!0,setTimeout((function(){d=!1})),w.state.isMounted||q())}}}function F(){h=!0}function U(){h=!1}function V(){var e=N();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,gB),e.addEventListener("touchstart",U,gB),e.addEventListener("touchmove",F,gB)}function q(){var e=N();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,gB),e.removeEventListener("touchstart",U,gB),e.removeEventListener("touchmove",F,gB)}function B(e,t){var n=A().box;function r(e){e.target===n&&(jB(n,"remove",r),t())}if(0===e)return t();jB(n,"remove",o),jB(n,"add",r),o=r}function z(t,n,r){void 0===r&&(r=!1),SB(w.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function W(){T()&&(z("touchstart",G,{passive:!0}),z("touchend",Q,{passive:!0})),function(e){return e.split(/\s+/).filter(Boolean)}(w.props.trigger).forEach((function(e){if("manual"!==e)switch(z(e,G),e){case"mouseenter":z("mouseleave",Q);break;case"focus":z(WB?"focusout":"blur",$);break;case"focusin":z("focusout",$)}}))}function H(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),v=[]}function G(e){var t,n=!1;if(w.state.isEnabled&&!Y(e)&&!d){var r="focus"===(null==(t=a)?void 0:t.type);a=e,u=e.currentTarget,L(),!w.state.isVisible&&PB(e)&&nz.forEach((function(t){return t(e)})),"click"===e.type&&(w.props.trigger.indexOf("mouseenter")<0||f)&&!1!==w.props.hideOnClick&&w.state.isVisible?n=!0:ee(e),"click"===e.type&&(f=!n),n&&!r&&te(e)}}function K(e){var t=e.target,n=C().contains(t)||b.contains(t);if("mousemove"!==e.type||!n){var r=Z().concat(b).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:l}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,a=e.props.interactiveBorder,o=TB(i.placement),s=i.modifiersData.offset;if(!s)return!0;var u="bottom"===o?s.top.y:0,c="top"===o?s.bottom.y:0,l="right"===o?s.left.x:0,f="left"===o?s.right.x:0,d=t.top-r+u>a,h=r-t.bottom-c>a,p=t.left-n+l>a,v=n-t.right-f>a;return d||h||p||v}))})(r,e)&&(M(),te(e))}}function Q(e){Y(e)||w.props.trigger.indexOf("click")>=0&&f||(w.props.interactive?w.hideWithInteractivity(e):te(e))}function $(e){w.props.trigger.indexOf("focusin")<0&&e.target!==C()||w.props.interactive&&e.relatedTarget&&b.contains(e.relatedTarget)||te(e)}function Y(e){return!!UB.isTouch&&T()!==e.type.indexOf("touch")>=0}function X(){J();var t=w.props,n=t.popperOptions,r=t.placement,i=t.offset,a=t.getReferenceClientRect,o=t.moveTransition,u=I()?ZB(b).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||C()}:e,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(I()){var n=A().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},l];I()&&u&&f.push({name:"arrow",options:{element:u,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),w.popperInstance=hB(c,b,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:f}))}function J(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function Z(){return IB(b.querySelectorAll("[data-tippy-root]"))}function ee(e){w.clearDelayTimeouts(),e&&R("onTrigger",[w,e]),V();var t=P(!0),r=E(),i=r[0],a=r[1];UB.isTouch&&"hold"===i&&a&&(t=a),t?n=setTimeout((function(){w.show()}),t):w.show()}function te(e){if(w.clearDelayTimeouts(),R("onUntrigger",[w,e]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=P(!1);t?r=setTimeout((function(){w.state.isVisible&&w.hide()}),t):i=requestAnimationFrame((function(){w.hide()}))}}else q()}}function az(e,t){void 0===t&&(t={});var n=GB.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",qB,gB),window.addEventListener("blur",zB);var r=Object.assign({},t,{plugins:n}),i=RB(e).reduce((function(e,t){var n=t&&iz(t,r);return n&&e.push(n),e}),[]);return AB(e)?i[0]:i}az.defaultProps=GB,az.setDefaultProps=function(e){Object.keys(e).forEach((function(t){GB[t]=e[t]}))},az.currentInput=UB;Object.assign({},Qq,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});az.setDefaultProps({render:ez});var oz=az;function sz(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var uz="undefined"!==typeof window&&"undefined"!==typeof document;function cz(e,t){e&&("function"===typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function lz(){return uz&&document.createElement("div")}function fz(e,t){if(e===t)return!0;if("object"===typeof e&&null!=e&&"object"===typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!fz(e[n],t[n]))return!1}return!0}return!1}function dz(e){var t=[];return e.forEach((function(e){t.find((function(t){return fz(e,t)}))||t.push(e)})),t}function hz(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:dz([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var pz=uz?r.useLayoutEffect:r.useEffect;function vz(e){var t=(0,r.useRef)();return t.current||(t.current="function"===typeof e?e():e),t.current}function mz(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var yz={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||mz(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&mz(t,"remove",e.props.className)},onAfterUpdate:r}}};function gz(e){return function(t){var n=t.children,i=t.content,a=t.visible,o=t.singleton,s=t.render,u=t.reference,c=t.disabled,l=void 0!==c&&c,f=t.ignoreAttributes,d=void 0===f||f,h=(t.__source,t.__self,sz(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),p=void 0!==a,v=void 0!==o,m=(0,r.useState)(!1),y=m[0],g=m[1],w=(0,r.useState)({}),k=w[0],b=w[1],_=(0,r.useState)(),x=_[0],S=_[1],E=vz((function(){return{container:lz(),renders:1}})),T=Object.assign({ignoreAttributes:d},h,{content:E.container});p&&(T.trigger="manual",T.hideOnClick=!1),v&&(l=!0);var I=T,C=T.plugins||[];s&&(I=Object.assign({},T,{plugins:v&&null!=o.data?[].concat(C,[{fn:function(){return{onTrigger:function(e,t){var n=o.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,S(n.content)}}}}]):C,render:function(){return{popper:E.container}}}));var N=[u].concat(n?[n.type]:[]);return pz((function(){var t=u;u&&u.hasOwnProperty("current")&&(t=u.current);var n=e(t||E.ref||lz(),Object.assign({},I,{plugins:[yz].concat(T.plugins||[])}));return E.instance=n,l&&n.disable(),a&&n.show(),v&&o.hook({instance:n,content:i,props:I,setSingletonContent:S}),g(!0),function(){n.destroy(),null==o||o.cleanup(n)}}),N),pz((function(){var e;if(1!==E.renders){var t=E.instance;t.setProps(hz(t.props,I)),null==(e=t.popperInstance)||e.forceUpdate(),l?t.disable():t.enable(),p&&(a?t.show():t.hide()),v&&o.hook({instance:t,content:i,props:I,setSingletonContent:S})}else E.renders++})),pz((function(){var e;if(s){var t=E.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;k.placement===n.placement&&k.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&k.escaped===(null==r?void 0:r.hasPopperEscaped)||b({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[k.placement,k.referenceHidden,k.escaped].concat(N)),r.createElement(r.Fragment,null,n?(0,r.cloneElement)(n,{ref:function(e){E.ref=e,cz(n.ref,e)}}):null,y&&(0,He.createPortal)(s?s(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(k),x,E.instance):i,E.container))}}var wz=function(e,t){return(0,r.forwardRef)((function(n,i){var a=n.children,o=sz(n,["children"]);return r.createElement(e,Object.assign({},t,o),a?(0,r.cloneElement)(a,{ref:function(e){cz(i,e),cz(a.ref,e)}}):null)}))},kz=wz(gz(oz)),bz=ht().bind({wrapper:"Player_wrapper__ZCMk0","wrapper-header":"Player_wrapper-header__JN8Vr","wrapper-main":"Player_wrapper-main__BnRjm","wrapper-main-image":"Player_wrapper-main-image__QkeYf","track-image":"Player_track-image__dWyOH","wrapper-main-infor":"Player_wrapper-main-infor__aSqNj","track-name":"Player_track-name__LDLks","track-artist":"Player_track-artist__jm1tV","wrapper-main-control":"Player_wrapper-main-control__VypEv","player-control":"Player_player-control__n-v4V","random-icon":"Player_random-icon__VXst7","player-control--center":"Player_player-control--center__rYTBr","control-icon":"Player_control-icon__iGdxn","control-icon-small":"Player_control-icon-small__CIMXl","clicked-button":"Player_clicked-button__jBMHB","player-seekbar":"Player_player-seekbar__VvMRv",progress:"Player_progress__Zf7JZ","wrapper-header--text":"Player_wrapper-header--text__0ZKBG","wrapper-header-body":"Player_wrapper-header-body__c0a0w","close-wrapper":"Player_close-wrapper__Xjhao","close-icon":"Player_close-icon__hNFif"});function _z(){var e=(0,r.useRef)(),t=et((function(e){return e.player})),n=t.currentSongs,i=t.currentIndex,a=t.isPlaying,o=t.currentPlaylist,s=t.imageUrl,u=t.artistName,c=l((0,r.useState)(),2),f=c[0],d=c[1],h=l((0,r.useState)(),2),p=(h[0],h[1]),v=l((0,r.useState)(),2),m=v[0],y=v[1],g=l((0,r.useState)(),2),w=g[0],k=g[1],b=l((0,r.useState)(),2),_=(b[0],b[1]),x=l((0,r.useState)(!1),2),S=x[0],E=x[1],T=l((0,r.useState)(!1),2),I=T[0],C=T[1],N=ct();(0,r.useEffect)((function(){var e;(d(n),f)&&(k(n.artists),y(null===(e=n.album)||void 0===e?void 0:e.images));void 0!==m&&p(null===m||void 0===m?void 0:m.find((function(e){if(300===e.width)return N(BV(e.url)),e.url}))),void 0!==w&&(_(w.map((function(e){return e.name}))),N(zV(w.map((function(e){return e.name})))))}),[n,m,w]);var A=function(){C(!I)};return(0,Jn.jsxs)("div",{className:bz("wrapper"),children:[(0,Jn.jsx)("div",{className:bz("wrapper-header"),children:(0,Jn.jsx)(XV,{index:i})}),(0,Jn.jsxs)("div",{className:bz("wrapper-main"),children:[(0,Jn.jsx)("div",{className:bz("wrapper-main-image"),children:(0,Jn.jsx)("img",{className:bz("track-image"),src:s,alt:n.name})}),(0,Jn.jsxs)("div",{className:bz("wrapper-main-infor"),children:[(0,Jn.jsx)("span",{className:bz("track-name"),children:n.name}),(0,Jn.jsx)("span",{className:bz("track-artist"),children:null===u||void 0===u?void 0:u.join(", ")})]}),(0,Jn.jsxs)("div",{className:bz("wrapper-main-control"),children:[(0,Jn.jsxs)("div",{className:bz("player-control"),children:[I?(0,Jn.jsx)(AV,{onClick:A,className:bz("clicked-button")}):(0,Jn.jsx)(AV,{onClick:A,className:bz("random-icon")}),(0,Jn.jsxs)("div",{className:bz("player-control--center"),children:[(0,Jn.jsx)(TV,{className:bz("control-icon-small"),onClick:function(){N(VV(!1)),e.current.pause(),N(UV(S?Math.floor(Math.random()*i):i-1))}}),a?(0,Jn.jsx)(CV,{className:bz("control-icon"),onClick:function(){e.current.pause(),N(VV(!1))}}):(0,Jn.jsx)(NV,{className:bz("control-icon"),onClick:function(){e.current.play(),N(VV(!0))}}),(0,Jn.jsx)(IV,{className:bz("control-icon-small"),onClick:function(){N(VV(!1)),e.current.pause(),S?N(FV(Math.floor(Math.random()*(o.length-i)))):i===o.length-1?N(FV(0)):N(FV(i+1))}})]}),(0,Jn.jsx)(PV,{className:bz(S?"clicked-button":"random-icon"),onClick:function(){E(!S)}})]}),(0,Jn.jsx)("div",{className:bz("player-seekbar"),children:(0,Jn.jsx)("audio",{ref:e,src:n.preview_url})})]}),(0,Jn.jsx)("div",{className:bz("close-wrapper"),onClick:function(){N(DV(!1))},children:(0,Jn.jsx)(kz,{content:"Close",placement:"bottom",children:(0,Jn.jsx)("div",{children:(0,Jn.jsx)(yV,{className:bz("close-icon")})})})})]})]})}var xz=(0,r.memo)(_z),Sz=ht().bind({wrapper:"PlayerBar_wrapper__Vi4Tt",visible:"PlayerBar_visible__u8J2V",hide:"PlayerBar_hide__pk4le","wrapper-track":"PlayerBar_wrapper-track__EZUv7","wrapper-track--img":"PlayerBar_wrapper-track--img__8bV2A","wrapper-track--infor":"PlayerBar_wrapper-track--infor__3AVeC","wrapper-track--infor-name":"PlayerBar_wrapper-track--infor-name__wU3fx","wrapper-track--infor-artist":"PlayerBar_wrapper-track--infor-artist__J8k-3","wrapper-track--infor-heart":"PlayerBar_wrapper-track--infor-heart__963xa","wrapper-control":"PlayerBar_wrapper-control__0Vk+a","random-icon":"PlayerBar_random-icon__9ht2v","player-control--center":"PlayerBar_player-control--center__e+YNW","control-icon":"PlayerBar_control-icon__pPRH7","control-icon-small":"PlayerBar_control-icon-small__4A2De","clicked-button":"PlayerBar_clicked-button__Rbe3M","wrapper-feature":"PlayerBar_wrapper-feature__tedvB"});function Ez(){var e=et((function(e){return e.player})),t=e.playerBar,n=e.currentSongs,i=e.currentIndex,a=(e.isActive,e.isPlaying),o=e.currentPlaylist,s=(0,r.useRef)(),u=(0,r.useRef)(),c=l((0,r.useState)(),2),f=c[0],d=c[1],h=l((0,r.useState)(),2),p=h[0],v=h[1],m=l((0,r.useState)(),2),y=m[0],g=m[1],w=l((0,r.useState)(),2),k=w[0],b=w[1],_=l((0,r.useState)(),2),x=_[0],S=_[1],E=l((0,r.useState)(!1),2),T=E[0],I=E[1],C=l((0,r.useState)(!1),2),N=C[0],A=C[1],P=ct();(0,r.useEffect)((function(){d(n)}),[n]),(0,r.useEffect)((function(){f&&(S(null===n||void 0===n?void 0:n.artists),g(null===n||void 0===n?void 0:n.album.images)),void 0!==y&&v(y.find((function(e){if(300===e.width)return e.url}))),void 0!==x&&b(x.map((function(e){return e.name})))}),[n,y,x]);var O=function(){A(!N)};return(0,Jn.jsxs)("div",{ref:u,className:Sz("wrapper",t?"visible":"hide"),children:[null!==n&&void 0!==n&&n.name?(0,Jn.jsxs)("div",{className:Sz("wrapper-track"),children:[(0,Jn.jsx)("img",{className:Sz("wrapper-track--img"),src:null===p||void 0===p?void 0:p.url,alt:"name"}),(0,Jn.jsxs)("div",{className:Sz("wrapper-track--infor"),children:[(0,Jn.jsx)("span",{className:Sz("wrapper-track--infor-name"),children:n.name}),(0,Jn.jsx)("span",{className:Sz("wrapper-track--infor-artist"),children:null===k||void 0===k?void 0:k.join(", ")})]})]}):(0,Jn.jsx)("div",{className:Sz("wrapper-track")}),(0,Jn.jsxs)("div",{className:Sz("wrapper-control"),children:[N?(0,Jn.jsx)(AV,{onClick:O,className:Sz("clicked-button")}):(0,Jn.jsx)(AV,{onClick:O,className:Sz("random-icon")}),(0,Jn.jsxs)("div",{className:Sz("player-control--center"),children:[(0,Jn.jsx)(TV,{className:Sz("control-icon-small"),onClick:function(){P(VV(!1)),s.current.pause(),P(FV(T?Math.floor(Math.random()*i):i-1))}}),a?(0,Jn.jsx)(CV,{className:Sz("control-icon"),onClick:function(){s.current.pause(),P(VV(!1))}}):(0,Jn.jsx)(NV,{className:Sz("control-icon"),onClick:function(){s.current.play(),P(VV(!0))}}),(0,Jn.jsx)(IV,{className:Sz("control-icon-small"),onClick:function(){P(VV(!1)),s.current.pause(),console.log(i),T?P(FV(Math.floor(Math.random()*(o.length-i)))):i===o.length-1?P(FV(0)):P(FV(i+1))}})]}),(0,Jn.jsx)(PV,{className:Sz(T?"clicked-button":"random-icon"),onClick:function(){I(!T)}}),(0,Jn.jsx)("audio",{ref:s,src:null===n||void 0===n?void 0:n.preview_url,onEnded:function(){}})]}),(0,Jn.jsx)("div",{className:Sz("wrapper-feature"),children:(0,Jn.jsx)(SV,{className:Sz("wrapper-track--infor-heart")})})]})}var Tz=(0,r.memo)(Ez),Iz=ht().bind({wrapper:"Category_wrapper__GT3P4",container:"Category_container__jghh-","container-name":"Category_container-name__BJvN+"});var Cz=function(e){var t=l((0,r.useState)(),2),n=t[0],i=t[1],a=l((0,r.useState)(),2),o=a[0],s=a[1],u=(0,r.useRef)(),c=(0,r.useRef)(),f="/category/".concat(e.data.id);return(0,r.useEffect)((function(){if(e.data&&i(e.data.icons),void 0!==n&&s(n[0]),"discover"===e.page)u.current.style.height="220px",u.current.classList.add("col","l-2-4","m-3","c-4"),u.current.style.margin="10px 10px",c.current.style.marginTop="100px",c.current.style.fontSize="1.4rem",window.innerWidth>=400&&window.innerWidth<=739?(u.current.style.height="200px",u.current.style.margin="10px 10px",c.current.style.marginTop="100px",c.current.style.fontSize="1rem"):window.innerWidth>=320&&window.innerWidth<=399?(u.current.style.height="160px",u.current.style.margin="10px 10px",c.current.style.marginTop="100px",c.current.style.fontSize="0.8rem"):window.innerWidth<=319&&(u.current.style.height="140px",u.current.style.margin="10px 10px",c.current.style.marginTop="100px",c.current.style.fontSize="0.7rem")}),[e.data,n,e.page]),(0,Jn.jsx)(Ve,{to:f,ref:u,className:Iz("wrapper"),children:(0,Jn.jsx)("div",{className:Iz("container"),style:{backgroundImage:"url(".concat(null===o||void 0===o?void 0:o.url,")")},children:(0,Jn.jsx)("span",{ref:c,className:Iz("container-name"),children:e.data.name})})})},Nz=ht().bind({wrapper:"Categories_wrapper__nRqx8"});var Az=function(e){var t=e.page,n=(0,r.useRef)(),i=JSON.parse(localStorage.getItem("token")),a=l((0,r.useState)(),2),o=a[0],s=a[1];return(0,r.useEffect)((function(){var e=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au.getCategories(i);case 2:t=e.sent,s(t.data.categories.items);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),window.innerWidth>=1480&&(n.current.style.display="flex")}),[i]),(0,Jn.jsx)("div",{className:Nz("wrapper"),ref:n,children:null===o||void 0===o?void 0:o.map((function(e,n){return(0,Jn.jsx)(Cz,{data:e,page:t},n)}))})},Pz=ht().bind({"wrapper-sidebar":"Sidebar_wrapper-sidebar__9PVW6","wrapper-sidebar--top":"Sidebar_wrapper-sidebar--top__Wvv6S","wrapper-sidebar--bottom":"Sidebar_wrapper-sidebar--bottom__fanpW","wrapper-sidebar--icon":"Sidebar_wrapper-sidebar--icon__WhmWR","wrapper-sidebar--avt":"Sidebar_wrapper-sidebar--avt__QvaC6","sidebar-icon":"Sidebar_sidebar-icon__tk2og","sidebar-item":"Sidebar_sidebar-item__ffqO+",tippy:"Sidebar_tippy__4+kFR","tippy-item":"Sidebar_tippy-item__8N5d0"});var Oz=function(){var e=aV(),t=e.logout,n=e.signInWithGoogle,i=(e.signInWithFacebook,e.currentUser),a=ke(),o=l((0,r.useState)(""),2),s=(o[0],o[1]),u=l((0,r.useState)(!1),2),c=(u[0],u[1]),f=function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(""),c(!0),e.next=5,n();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s("Faile to sign up");case 10:c(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function d(){return(d=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a("/free-music-player"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Fail to logout");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return(0,Jn.jsxs)("div",{className:Pz("wrapper-sidebar","col l-1 m-1 c-0"),children:[(0,Jn.jsxs)("div",{className:Pz("wrapper-sidebar--top"),children:[i?(0,Jn.jsx)(kz,{content:i.displayName,placement:"right",children:(0,Jn.jsx)("div",{className:Pz("wrapper-sidebar--icon"),onClick:f,children:(0,Jn.jsx)("img",{className:Pz("wrapper-sidebar--avt"),src:i.photoURL})})}):(0,Jn.jsx)(kz,{content:"Login",placement:"right",children:(0,Jn.jsx)("div",{className:Pz("wrapper-sidebar--icon"),onClick:f,children:(0,Jn.jsx)(xV,{className:Pz("sidebar-icon")})})}),(0,Jn.jsx)(kz,{content:"Home",placement:"right",children:(0,Jn.jsx)("div",{className:Pz("wrapper-sidebar--icon"),children:(0,Jn.jsx)(kV,{className:Pz("sidebar-icon"),onClick:function(){a("/free-music-player")}})})}),(0,Jn.jsx)(kz,{content:"Collection",placement:"right",children:(0,Jn.jsx)("div",{className:Pz("wrapper-sidebar--icon"),children:(0,Jn.jsx)(EV,{className:Pz("sidebar-icon"),onClick:function(){a("/categories")}})})}),(0,Jn.jsx)(kz,{content:"Collection",placement:"right",children:(0,Jn.jsx)("div",{className:Pz("wrapper-sidebar--icon"),children:(0,Jn.jsx)(gV,{className:Pz("sidebar-icon"),onClick:function(){i?a("/playlists"):alert("You must login first!")}})})})]}),(0,Jn.jsxs)("div",{className:Pz("wrapper-sidebar--bottom"),children:[(0,Jn.jsx)(kz,{content:"Favourite",placement:"right",children:(0,Jn.jsx)("div",{className:Pz("wrapper-sidebar--icon"),onClick:function(){i?a("/favourites"):alert("You must login first!")},children:(0,Jn.jsx)(wV,{className:Pz("sidebar-icon")})})}),i?(0,Jn.jsx)(kz,{content:"Logout",placement:"right",children:(0,Jn.jsx)("div",{className:Pz("wrapper-sidebar--icon"),onClick:function(){return d.apply(this,arguments)},children:(0,Jn.jsx)(bV,{className:Pz("sidebar-icon")})})}):null]})]})},Rz=ht().bind({wrapper:"Track_wrapper__ItvSJ",active:"Track_active__MB4rY",saved:"Track_saved__ES4mp","wrapper-right":"Track_wrapper-right__2q3dU","wrapper-track--infor":"Track_wrapper-track--infor__Xcuc7","wrapper-track--index":"Track_wrapper-track--index__Tua9m","wrapper-track--infor-img":"Track_wrapper-track--infor-img__ohw2X","wrapper-track-infor--main":"Track_wrapper-track-infor--main__mMCJ6","wrapper-track--name":"Track_wrapper-track--name__I4H2I","webkit-scroll":"Track_webkit-scroll__e30CF","wrapper-track--artist":"Track_wrapper-track--artist__v0kVJ","wrapper-track-heart":"Track_wrapper-track-heart__Q25Vt","wrapper-music--list-tracks":"Track_wrapper-music--list-tracks__hL1EC","wrapper-duration":"Track_wrapper-duration__7lsy-"});var Dz=function(e){var t=e.data,n=e.index,i=et((function(e){return e.player})).activeSong,a=aV().tracks,o=t.track,s=a.includes(o.id),u=aV().currentUser,c=ct(),f=(0,r.useRef)(),h=n+1,p=(0,r.useRef)(),v=l((0,r.useState)(o.album.images),2),m=v[0],y=(v[1],l((0,r.useState)(o.album.artists),2)),g=y[0],w=(y[1],(o.duration_ms%6e4/1e3).toFixed(0)),k=Math.floor(o.duration_ms/6e4)+":"+(w<10?"0":"")+w,b=m.find((function(e){return 64===e.height})),_=g.map((function(e){return e.name})),x=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=IP(rV,"tracks",u.uid),e.prev=1,e.next=4,bR(t,{track:a?[].concat(d(a),[o.id]):[o.id]});case 4:alert("".concat(o.name," added to Favourite!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("".concat(o.name," fail to added to Favourite!"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=IP(rV,"tracks",u.uid),e.prev=1,e.next=4,bR(t,{track:a.filter((function(e){return e!==o.id}))},{merge:"true"});case 4:alert("".concat(o.name," removed from Favourite!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("".concat(o.name," fail to removed from Favourite!"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,Jn.jsxs)("div",{ref:f,className:i===o.name?Rz("wrapper","active"):Rz("wrapper"),children:[(0,Jn.jsx)("span",{className:Rz("wrapper-track--index"),children:h}),(0,Jn.jsxs)("div",{className:Rz("wrapper-right"),children:[(0,Jn.jsxs)("div",{className:Rz("wrapper-track--infor"),onClick:function(){c(jV({track:o,index:n})),c(VV(!1)),c(DV(!0)),console.log(o)},children:[(0,Jn.jsx)("img",{src:b.url,className:Rz("wrapper-track--infor-img"),alt:o.name}),(0,Jn.jsxs)("div",{className:Rz("wrapper-track-infor--main"),children:[(0,Jn.jsx)("span",{className:Rz("wrapper-track--name"),ref:p,children:o.name}),(0,Jn.jsx)("span",{className:Rz("wrapper-track--artist"),children:_.join(", ")})]})]}),(0,Jn.jsx)("span",{className:Rz("wrapper-duration"),children:k}),(0,Jn.jsx)(SV,{className:s?Rz("wrapper-track-heart","saved"):Rz("wrapper-track-heart"),onClick:s?S:x})]})]})},Lz=ht().bind({wrapper:"TracksList_wrapper__jOvQR","wrapper-header":"TracksList_wrapper-header__TOAL+","wrapper-tracks-list":"TracksList_wrapper-tracks-list__BiiMB"});var Mz=function(e){var t=e.data,n=(e.accessToken,aV().token),i=JSON.parse(localStorage.getItem("token")),a=ct(),o=l((0,r.useState)([]),2),s=o[0],u=o[1],c=et((function(e){return e.player})),f=c.activeSong,d=c.isPlaying;return(0,r.useEffect)((function(){var e=function(){var e=ir(nr().mark((function e(){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au.getPlaylist(t,i);case 2:n=e.sent,u(n.data.tracks.items),a(MV(n.data.tracks.items));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n,a]),(0,Jn.jsx)("div",{className:Lz("wrapper"),children:(0,Jn.jsx)("div",{className:Lz("wrapper-tracks-list"),children:s.map((function(e,t){return(0,Jn.jsx)(Dz,{index:t,data:e,isPlaying:d,activeSong:f},t)}))})})},jz=ko({name:"menuMobile",initialState:{active:!1},reducers:{setActiveMenu:function(e,t){e.active=t.payload}}}),Fz=jz.actions.setActiveMenu,Uz=jz.reducer,Vz=ht().bind({"burger-btn":"MenuMobileButton_burger-btn__rZRiQ","burger-icon":"MenuMobileButton_burger-icon__2jzHj"});var qz=function(){var e=ct();return(0,Jn.jsx)("div",{className:Vz("burger-btn"),onClick:function(){e(Fz(!0))},children:(0,Jn.jsx)(_V,{className:Vz("burger-icon")})})},Bz=ht().bind({wrapper:"SidebarMobile_wrapper__r1gRc","wrapper-sidebar--avt":"SidebarMobile_wrapper-sidebar--avt__mE8pL","close-icon":"SidebarMobile_close-icon__adp01","wrapper-sidebar--top":"SidebarMobile_wrapper-sidebar--top__UQqj4","wrapper-sidebar--bottom":"SidebarMobile_wrapper-sidebar--bottom__5qHcV","wrapper-sidebar--icon":"SidebarMobile_wrapper-sidebar--icon__5HKxL","sidebar-icon":"SidebarMobile_sidebar-icon__xHUgn","sidebar-item":"SidebarMobile_sidebar-item__83Z-H"});var zz=function(){var e=ke(),t=(0,r.useRef)(),n=ct(),i=aV(),a=i.logout,o=i.signInWithGoogle,s=(i.signInWithFacebook,i.currentUser),u=et((function(e){return e.menuMobile})).active,c=l((0,r.useState)(""),2),f=(c[0],c[1]),d=l((0,r.useState)(!1),2),h=(d[0],d[1]);(0,r.useEffect)((function(){u?(t.current.style.transform="translateX(0%)",t.current.style.opacity="1"):(t.current.style.transform="translateX(-100%)",t.current.style.opacity="0")}));var p=function(){var e=ir(nr().mark((function e(){return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(""),h(!0),e.next=5,o();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f("Faile to sign up");case 10:h(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function v(){return(v=ir(nr().mark((function t(){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a();case 3:e("/free-music-player"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("Fail to logout");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return(0,Jn.jsxs)("div",{ref:t,className:Bz("wrapper"),children:[(0,Jn.jsx)(mV,{className:Bz("close-icon"),onClick:function(){n(Fz(!1))}}),(0,Jn.jsxs)("div",{className:Bz("wrapper-sidebar--top"),children:[s?(0,Jn.jsx)("div",{className:Bz("wrapper-sidebar--icon"),onClick:p,children:(0,Jn.jsx)("img",{className:Bz("wrapper-sidebar--avt"),src:s.photoURL})}):(0,Jn.jsxs)("div",{className:Bz("wrapper-sidebar--icon"),onClick:p,children:[(0,Jn.jsx)(xV,{className:Bz("sidebar-icon")}),(0,Jn.jsx)("span",{className:Bz("sidebar-item"),children:"Login"})]}),(0,Jn.jsxs)("div",{className:Bz("wrapper-sidebar--icon"),onClick:function(){e("/free-music-player")},children:[(0,Jn.jsx)(kV,{className:Bz("sidebar-icon")}),(0,Jn.jsx)("span",{className:Bz("sidebar-item"),children:"Home"})]}),(0,Jn.jsxs)("div",{className:Bz("wrapper-sidebar--icon"),children:[(0,Jn.jsx)(EV,{className:Bz("sidebar-icon"),onClick:function(){e("/categories")}}),(0,Jn.jsx)("span",{className:Bz("sidebar-item"),children:"Categories"})]}),(0,Jn.jsxs)("div",{className:Bz("wrapper-sidebar--icon"),children:[(0,Jn.jsx)(gV,{className:Bz("sidebar-icon"),onClick:function(){s?e("/playlists"):alert("You must login first!")}}),(0,Jn.jsx)("span",{className:Bz("sidebar-item"),children:"Collection"})]})]}),(0,Jn.jsxs)("div",{className:Bz("wrapper-sidebar--bottom"),children:[(0,Jn.jsxs)("div",{className:Bz("wrapper-sidebar--icon"),onClick:function(){s?e("/favourites"):alert("You must login first!")},children:[(0,Jn.jsx)(wV,{className:Bz("sidebar-icon")}),(0,Jn.jsx)("span",{className:Bz("sidebar-item"),children:"Favourite"})]}),(0,Jn.jsxs)("div",{className:Bz("wrapper-sidebar--icon"),onClick:function(){return v.apply(this,arguments)},children:[(0,Jn.jsx)(bV,{className:Bz("sidebar-icon")}),(0,Jn.jsx)("span",{className:Bz("sidebar-item"),children:"Log out"})]})]})]})},Wz=ht().bind({wrapper:"ArtistItem_wrapper__5WKiI","wrapper-image":"ArtistItem_wrapper-image__KvYg0",image:"ArtistItem_image__JyaRl","wrapper-infor":"ArtistItem_wrapper-infor__F-lUY","wrapper-infor--name":"ArtistItem_wrapper-infor--name__rXT6D","wrapper-infor--fame":"ArtistItem_wrapper-infor--fame__U84LM"});var Hz=function(e){var t=e.data,n=l((0,r.useState)(),2),i=n[0],a=n[1],o=l((0,r.useState)(),2),s=o[0],u=o[1];(0,r.useEffect)((function(){a(t.find((function(e){return e})))}),[t]),(0,r.useEffect)((function(){void 0!==i&&u(i.images)}),[i]);var c=null===s||void 0===s?void 0:s.find((function(e){return 160===e.height}));return(0,Jn.jsxs)(Ve,{to:"/artist/".concat(null===i||void 0===i?void 0:i.id),className:Wz("wrapper"),children:[(0,Jn.jsx)("div",{className:Wz("wrapper-image"),children:(0,Jn.jsx)("img",{className:Wz("image"),src:null===c||void 0===c?void 0:c.url})}),(0,Jn.jsxs)("div",{className:Wz("wrapper-infor"),children:[(0,Jn.jsx)("span",{className:Wz("wrapper-infor--name"),children:null===i||void 0===i?void 0:i.name}),(0,Jn.jsxs)("span",{className:Wz("wrapper-infor--fame"),children:[null===i||void 0===i?void 0:i.followers.total," followers"]})]})]})},Gz=ht().bind({wrapper:"Artists_wrapper__va5uS"});var Kz=function(){var e=JSON.parse(localStorage.getItem("token")),t=["1Xyo4u8uXC1ZmMpatF05PJ","1URnnhqYAYcrqrcwql10ft","06HL4z0CvFAxyc27GXpf02","3TVXtAsR1Inumwj472S9r4","2wY79sveU1sp5g7SokKOiI"],n=(t.join("%"),l((0,r.useState)(),2)),i=n[0],a=n[1],o=l((0,r.useState)(),2);return o[0],o[1],(0,r.useEffect)((function(){var n=function(){var n=ir(nr().mark((function n(){var r,i;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.map(function(){var t=ir(nr().mark((function t(n){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Au.getSeveralArtists(n,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.prev=1,n.next=4,Promise.all(r);case 4:i=n.sent,a(i.map((function(e){return e.data}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]),(0,Jn.jsx)("div",{className:Gz("wrapper"),children:null===i||void 0===i?void 0:i.map((function(e,t){return(0,Jn.jsx)(Hz,{data:e.artists},t)}))})},Qz=ht().bind({container:"MainLayout_container__quNRN","wrapper-player":"MainLayout_wrapper-player__kxmYJ",appear:"MainLayout_appear__efVHX","wrapper-main":"MainLayout_wrapper-main__-ZOV9","wrapper-main--header":"MainLayout_wrapper-main--header__W14nL",header:"MainLayout_header__3J4Ks","wrapper-main--header-search":"MainLayout_wrapper-main--header-search__vlzx4","wrapper-main-body":"MainLayout_wrapper-main-body__Potg2","wrapper-main-body--left":"MainLayout_wrapper-main-body--left__nIWIy","wrapper-main-body--right":"MainLayout_wrapper-main-body--right__6OOz1","main-body--right-header":"MainLayout_main-body--right-header__amvnn","main-body--right-category":"MainLayout_main-body--right-category__ZGOvE","wrapper-main-body--right-header":"MainLayout_wrapper-main-body--right-header__c3ot9",expand:"MainLayout_expand__jJZwH","slide-wrapper":"MainLayout_slide-wrapper__3Hc7p",slide:"MainLayout_slide__eoSBu","wrapper-music--list":"MainLayout_wrapper-music--list__HN+DY","wrapper-music--list-header":"MainLayout_wrapper-music--list-header__6y-d4","wrapper-music--list-tracks":"MainLayout_wrapper-music--list-tracks__UKMzk",wrapper:"MainLayout_wrapper__MPbYe","wrapper-sidebar":"MainLayout_wrapper-sidebar__+YCX-","burger-btn":"MainLayout_burger-btn__aUgGr","display-none":"MainLayout_display-none__-2m+4",hidden:"MainLayout_hidden__Hmc6e"});var $z=function(){var e=aV().token,t=l((0,r.useState)([]),2),n=t[0],i=(t[1],l((0,r.useState)(),2)),a=i[0],o=(i[1],l((0,r.useState)(),2)),s=o[0],u=(o[1],et((function(e){return e.player}))),c=(u.isActive,u.activePlayer),f=ct(),d=(0,r.useRef)(),h=(0,r.useRef)(),p=(0,r.useRef)(),v=(0,r.useRef)(),m=(0,r.useRef)(),y=(0,r.useRef)(),g=(0,r.useRef)();return(0,r.useEffect)((function(){f(WV(!1)),c&&window.innerWidth>=1480&&(v.current.style.display="block",d.current.style.transform="translateX(33%)",p.current.style.transform="translateX(-90%)"),!1===c&&window.innerWidth>=1480&&(v.current.style.display="none",d.current.style.transform="translateX(0%)",p.current.style.transform="translateX(0%)"),window.innerWidth<1480&&f(qV(!0))}),[f,c]),(0,Jn.jsxs)("div",{className:Qz("wrapper","grid"),children:[(0,Jn.jsxs)("div",{className:Qz("container","row no-gutters"),children:[(0,Jn.jsx)(Oz,{}),(0,Jn.jsxs)("div",{ref:d,className:Qz("wrapper-main","col l-11 m-11 c-12"),children:[(0,Jn.jsxs)("div",{className:Qz("wrapper-main--header"),children:[(0,Jn.jsx)("h3",{className:Qz("header"),children:"Home"}),(0,Jn.jsx)(qz,{}),(0,Jn.jsx)("div",{ref:p,className:Qz("wrapper-main--header-search"),children:(0,Jn.jsx)(er,{})})]}),(0,Jn.jsxs)("div",{className:Qz("wrapper-main-body","grid row no-gutters"),children:[(0,Jn.jsxs)("div",{ref:m,className:Qz("wrapper-main-body--left","col l-8 m-8 c-12"),children:[(0,Jn.jsx)("div",{ref:y,className:Qz("slide-wrapper"),children:(0,Jn.jsx)(uV,{className:Qz("slide")})}),(0,Jn.jsxs)("div",{ref:g,className:Qz("wrapper-music--list"),children:[(0,Jn.jsx)("h3",{className:Qz("wrapper-music--list-header"),children:"Trending"}),(0,Jn.jsx)(Mz,{data:"37i9dQZEVXbMDoHDwVN2tF",accessToken:e})]}),(0,Jn.jsx)("div",{ref:v,className:Qz("wrapper-player"),children:(0,Jn.jsx)(xz,{data:n,index:a})})]}),(0,Jn.jsxs)("div",{ref:h,className:Qz("wrapper-main-body--right","col l-4 m-4 c-0","display-none"),children:[(0,Jn.jsx)("div",{className:Qz("wrapper-main-body--right-header"),children:(0,Jn.jsx)("h3",{className:Qz("main-body--right-header"),children:"Famous Artists"})}),(0,Jn.jsx)("div",{className:Qz("main-body--right-category"),children:(0,Jn.jsx)(Kz,{})}),(0,Jn.jsxs)("div",{className:Qz("wrapper-main-body--right-header"),children:[(0,Jn.jsx)("h3",{className:Qz("main-body--right-header"),children:"Category"}),(0,Jn.jsx)(Ve,{to:"/categories",className:Qz("expand"),children:"See more"})]}),(0,Jn.jsx)("div",{className:Qz("main-body--right-category"),children:(0,Jn.jsx)(Az,{accessToken:e})})]})]})]})]}),(0,Jn.jsx)(Tz,{data:n,index:a,height:s}),(0,Jn.jsx)(zz,{})]})},Yz={routes:{home:"free-music-player",categories:"/categories",category:"/:category/:id",playlist:"/:playlistId",favourites:"/favourites",favouritesPlaylist:"/playlists",artistDetail:"/artist/:id"}},Xz=ht().bind({wrapper:"Playlist_wrapper__yJt92","wrapper-contain":"Playlist_wrapper-contain__vwNhs","wrapper-image":"Playlist_wrapper-image__x7cAL","wrapper-text":"Playlist_wrapper-text__QfeDF",text:"Playlist_text__9LkP9","wrapper-icon":"Playlist_wrapper-icon__32S7z"});var Jz=function(e){var t=e.data,n=t,i="/".concat(n.id),a=l((0,r.useState)(),2),o=a[0],s=a[1],u=l((0,r.useState)(),2),c=u[0],f=u[1];return(0,r.useEffect)((function(){s(n.images)}),[n.images]),(0,r.useEffect)((function(){o&&f(o.find((function(e){return e.url})))}),[o]),(0,Jn.jsx)(Ve,{to:i,className:Xz("wrapper"),children:(0,Jn.jsxs)("div",{className:Xz("wrapper-contain"),children:[(0,Jn.jsx)("img",{className:Xz("wrapper-image"),src:null===c||void 0===c?void 0:c.url,alt:t.name}),(0,Jn.jsx)("div",{className:Xz("wrapper-text"),children:(0,Jn.jsx)("span",{className:Xz("text"),children:t.name})}),(0,Jn.jsx)(NV,{className:Xz("wrapper-icon")})]})})},Zz=ht().bind({wrapper:"CategoryLayout_wrapper__5NKCv","wrapper-main":"CategoryLayout_wrapper-main__88wEw","wrapper-main--header":"CategoryLayout_wrapper-main--header__r3815",header:"CategoryLayout_header__QIAOt","wrapper-player":"CategoryLayout_wrapper-player__yGrPy",appear:"CategoryLayout_appear__OFxw1","wrapper-main--header-search":"CategoryLayout_wrapper-main--header-search__43+VN","wrapper-main-body":"CategoryLayout_wrapper-main-body__l2SXs","wrapper-main-body--left":"CategoryLayout_wrapper-main-body--left__2f610","wrapper-main-body--right":"CategoryLayout_wrapper-main-body--right__JGn-C","wrapper-main-body--right-header":"CategoryLayout_wrapper-main-body--right-header__avSsr",expand:"CategoryLayout_expand__gf++m","main-body--right-header":"CategoryLayout_main-body--right-header__QF09b","main-body--right-category":"CategoryLayout_main-body--right-category__9Vp8-","wrapper-music--list":"CategoryLayout_wrapper-music--list__bUksU","wrapper-music--list-header":"CategoryLayout_wrapper-music--list-header__WJV-e","wrapper-music--list-tracks":"CategoryLayout_wrapper-music--list-tracks__58Cvi","wrapper-sidebar":"CategoryLayout_wrapper-sidebar__5MUx8",hidden:"CategoryLayout_hidden__trB3g"});var eW=function(){aV().token;var e=JSON.parse(localStorage.getItem("token")),t=be().id,n=l((0,r.useState)([]),2),i=n[0],a=n[1],o=(0,r.useRef)();return(0,r.useEffect)((function(){var n=function(){var n=ir(nr().mark((function n(){var r;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Au.getCategoryPlaylist(t,e);case 2:r=n.sent,a(r.data.playlists.items);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,e]),(0,Jn.jsxs)("div",{className:Zz("wrapper","grid row no-gutters"),children:[(0,Jn.jsx)(Oz,{}),(0,Jn.jsxs)("div",{className:Zz("wrapper-main","col l-11 m-11 c-12"),children:[(0,Jn.jsxs)("div",{className:Zz("wrapper-main--header"),children:[(0,Jn.jsx)("h3",{className:Zz("header"),children:"Explore"}),(0,Jn.jsx)(qz,{}),(0,Jn.jsx)("div",{ref:o,className:Zz("wrapper-main--header-search"),children:(0,Jn.jsx)(er,{})})]}),(0,Jn.jsxs)("div",{className:Zz("wrapper-main-body","grid row no-gutters"),children:[(0,Jn.jsx)("div",{className:Zz("wrapper-main-body--left","col l-8 m-8 c-12"),children:(0,Jn.jsx)("div",{className:Zz("wrapper-music--list"),children:(0,Jn.jsx)("div",{className:Zz("wrapper-music--list-tracks"),children:i.map((function(e,n){return(0,Jn.jsx)(Jz,{data:e,category:t},n)}))})})}),(0,Jn.jsxs)("div",{className:Zz("wrapper-main-body--right","col l-4 m-4 c-0"),children:[(0,Jn.jsxs)("div",{className:Zz("wrapper-main-body--right"),children:[(0,Jn.jsx)("h3",{className:Zz("main-body--right-header"),children:"Category"}),(0,Jn.jsx)(Ve,{to:"/categories",className:Zz("expand"),children:"See more"})]}),(0,Jn.jsx)("div",{className:Zz("main-body--right-category"),children:(0,Jn.jsx)(Az,{})})]})]}),(0,Jn.jsx)(Tz,{})]}),(0,Jn.jsx)(zz,{})]})},tW=ht().bind({wrapper:"CategoryListLayout_wrapper__dhASE","wrapper-main":"CategoryListLayout_wrapper-main__nM0tM","wrapper-main--header":"CategoryListLayout_wrapper-main--header__gDAer",header:"CategoryListLayout_header__4tIV6","wrapper-player":"CategoryListLayout_wrapper-player__v1lFQ",appear:"CategoryListLayout_appear__ftO58","wrapper-main--header-search":"CategoryListLayout_wrapper-main--header-search__p5sSV","wrapper-main-body":"CategoryListLayout_wrapper-main-body__JBcqW","wrapper-main-body--left":"CategoryListLayout_wrapper-main-body--left__mJyEn","wrapper-main-body--right":"CategoryListLayout_wrapper-main-body--right__G50+I","main-body--right-header":"CategoryListLayout_main-body--right-header__thuzl","main-body--right-category":"CategoryListLayout_main-body--right-category__TzAq0","wrapper-music--list":"CategoryListLayout_wrapper-music--list__rSt9H","wrapper-music--list-header":"CategoryListLayout_wrapper-music--list-header__kvRUi","wrapper-music--list-tracks":"CategoryListLayout_wrapper-music--list-tracks__uvT0l","wrapper-sidebar":"CategoryListLayout_wrapper-sidebar__F4CNW",hidden:"CategoryListLayout_hidden__kupFe"});var nW=function(){JSON.parse(localStorage.getItem("token")),be().id;var e=(0,r.useRef)();return(0,Jn.jsxs)("div",{className:tW("wrapper","grid row no-gutters"),children:[(0,Jn.jsx)(Oz,{}),(0,Jn.jsxs)("div",{className:tW("wrapper-main","col l-11 m-11 c-12"),children:[(0,Jn.jsxs)("div",{className:tW("wrapper-main--header"),children:[(0,Jn.jsx)("h3",{className:tW("header"),children:"Discover"}),(0,Jn.jsx)(qz,{}),(0,Jn.jsx)("div",{ref:e,className:tW("wrapper-main--header-search"),children:(0,Jn.jsx)(er,{})})]}),(0,Jn.jsx)("div",{className:tW("wrapper-main-body","grid row no-gutters"),children:(0,Jn.jsx)("div",{className:tW("wrapper-main-body--right","col l-12 m-12 c-12"),children:(0,Jn.jsx)("div",{className:tW("main-body--right-category"),children:(0,Jn.jsx)(Az,{page:"discover"})})})})]}),(0,Jn.jsx)(zz,{})]})},rW=ht().bind({wrapper:"FavouriteTrack_wrapper__Qlk1z",active:"FavouriteTrack_active__PBySt",saved:"FavouriteTrack_saved__7iF59","wrapper-right":"FavouriteTrack_wrapper-right__um0d4","wrapper-track--infor":"FavouriteTrack_wrapper-track--infor__yYgRg","wrapper-track--index":"FavouriteTrack_wrapper-track--index__H7VCh","wrapper-track--infor-img":"FavouriteTrack_wrapper-track--infor-img__3kl9Z","wrapper-track-infor--main":"FavouriteTrack_wrapper-track-infor--main__oKbNJ","wrapper-track--name":"FavouriteTrack_wrapper-track--name__721dI","webkit-scroll":"FavouriteTrack_webkit-scroll__XjFNy","wrapper-track--artist":"FavouriteTrack_wrapper-track--artist__Ci0fY","wrapper-track-heart":"FavouriteTrack_wrapper-track-heart__CF111","wrapper-music--list-tracks":"FavouriteTrack_wrapper-music--list-tracks__DIHvH","wrapper-duration":"FavouriteTrack_wrapper-duration__jqEFn"});var iW=function(e){var t=e.data,n=e.index,i=et((function(e){return e.player})).activeSong,a=aV().tracks,o=t,s=a.includes(o.id),u=aV().currentUser,c=ct(),f=(0,r.useRef)(),d=n+1,h=(0,r.useRef)(),p=l((0,r.useState)(o.album.images),2),v=p[0],m=(p[1],l((0,r.useState)(o.album.artists),2)),y=m[0],g=(m[1],(o.duration_ms%6e4/1e3).toFixed(0)),w=Math.floor(o.duration_ms/6e4)+":"+(g<10?"0":"")+g,k=v.find((function(e){return 64===e.height})),b=y.map((function(e){return e.name})),_=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=IP(rV,"tracks",u.uid),e.prev=1,e.next=4,bR(t,{track:a.filter((function(e){return e!==o.id}))},{merge:"true"});case 4:alert("".concat(o.name," removed from Favourite!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("".concat(o.name," fail to removed from Favourite!"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,Jn.jsxs)("div",{ref:f,className:i===o.name?rW("wrapper","active"):rW("wrapper"),children:[(0,Jn.jsx)("span",{className:rW("wrapper-track--index"),children:d}),(0,Jn.jsxs)("div",{className:rW("wrapper-right"),children:[(0,Jn.jsxs)("div",{className:rW("wrapper-track--infor"),onClick:function(){c(jV({track:o,index:n})),c(qV(!0)),c(VV(!1)),console.log(n)},children:[(0,Jn.jsx)("img",{src:k.url,className:rW("wrapper-track--infor-img"),alt:o.name}),(0,Jn.jsxs)("div",{className:rW("wrapper-track-infor--main"),children:[(0,Jn.jsx)("span",{className:rW("wrapper-track--name"),ref:h,children:o.name}),(0,Jn.jsx)("span",{className:rW("wrapper-track--artist"),children:b.join(", ")})]})]}),(0,Jn.jsx)("span",{className:rW("wrapper-duration"),children:w}),(0,Jn.jsx)(SV,{className:s?rW("wrapper-track-heart","saved"):rW("wrapper-track-heart"),onClick:_})]})]})},aW=ht().bind({container:"FavouritesLayout_container__EOkqj","wrapper-player":"FavouritesLayout_wrapper-player__sZfJQ",appear:"FavouritesLayout_appear__+h1WR","wrapper-main":"FavouritesLayout_wrapper-main__mZerM",header:"FavouritesLayout_header__4gsIz","wrapper-main--header":"FavouritesLayout_wrapper-main--header__VCXX6","wrapper-main--header-search":"FavouritesLayout_wrapper-main--header-search__8Igr0","wrapper-main-body":"FavouritesLayout_wrapper-main-body__ghxdF","list-header":"FavouritesLayout_list-header__TwDoR","wrapper-background":"FavouritesLayout_wrapper-background__urf44","wrapper-sidebar":"FavouritesLayout_wrapper-sidebar__RLOT2","burger-btn":"FavouritesLayout_burger-btn__t+66A","slide-wrapper":"FavouritesLayout_slide-wrapper__1Q+27","wrapper-music--list":"FavouritesLayout_wrapper-music--list__CF4Fy","wrapper-music--list-header":"FavouritesLayout_wrapper-music--list-header__XwUTm","wrapper-music--list-tracks":"FavouritesLayout_wrapper-music--list-tracks__iimEz","main-body--right-header":"FavouritesLayout_main-body--right-header__Zfk+M",expand:"FavouritesLayout_expand__sQJQi","main-body--right-category":"FavouritesLayout_main-body--right-category__E+5+D",hidden:"FavouritesLayout_hidden__mNByT"});var oW=function(){var e=JSON.parse(localStorage.getItem("token")),t=ct(),n=aV(),i=n.tracks,a=n.currentUser,o=et((function(e){return e.player})),s=(o.currentPlaylist,o.favourite,l((0,r.useState)([]),2)),u=(s[0],s[1],l((0,r.useState)([]),2)),c=u[0],f=u[1];return(0,r.useEffect)((function(){t(LV(!0));var n=function(){var n=ir(nr().mark((function n(){var r,a;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.map(function(){var t=ir(nr().mark((function t(n){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xn({method:"get",baseURL:"https://api.spotify.com/v1/",url:"tracks/".concat(n),headers:{Authorization:"Bearer "+e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.prev=1,n.next=4,Promise.all(r);case 4:a=n.sent,t(MV(a)),f(a.map((function(e){return e.data}))),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();n()}),[i]),(0,Jn.jsxs)("div",{className:aW("wrapper","grid"),children:[(0,Jn.jsxs)("div",{className:aW("container","row no-gutters"),children:[(0,Jn.jsx)(Oz,{}),(0,Jn.jsxs)("div",{className:aW("wrapper-main","col l-11 m-11 c-12"),children:[(0,Jn.jsxs)("div",{className:aW("wrapper-main--header"),children:[(0,Jn.jsx)("h3",{className:aW("header"),children:"Liked songs"}),(0,Jn.jsx)(qz,{}),(0,Jn.jsx)("div",{className:aW("wrapper-main--header-search"),children:(0,Jn.jsx)(er,{})})]}),(0,Jn.jsxs)("div",{className:aW("wrapper-main-body","grid row no-gutters"),children:[(0,Jn.jsxs)("div",{className:aW("wrapper-background"),children:[(0,Jn.jsx)("span",{className:aW("list-header"),children:a.displayName}),(0,Jn.jsx)("span",{className:aW("list-header"),children:"-"}),(0,Jn.jsxs)("span",{className:aW("list-header"),children:[i.length," songs"]})]}),(0,Jn.jsx)("div",{className:aW("wrapper-main-body","col l-12 m-12 c-12"),children:(0,Jn.jsx)("div",{className:aW("wrapper-music--list"),children:0==i.length?(0,Jn.jsx)("span",{className:aW("list-header"),children:"Empty"}):(0,Jn.jsx)("div",{className:aW("track-list"),children:null===c||void 0===c?void 0:c.map((function(e,t){return(0,Jn.jsx)(iW,{data:e,index:t},t)}))})})})]}),(0,Jn.jsx)(Tz,{})]})]}),(0,Jn.jsx)(zz,{})]})},sW=ht().bind({wrapper:"PlaylistDetail_wrapper__qWGBm","wrapper-infor--name":"PlaylistDetail_wrapper-infor--name__JVBrU","wrapper-image":"PlaylistDetail_wrapper-image__nmr-6",image:"PlaylistDetail_image__A7thM","wrapper-infor--icon":"PlaylistDetail_wrapper-infor--icon__V109o",saved:"PlaylistDetail_saved__TWu9i","wrapper-infor":"PlaylistDetail_wrapper-infor__fiSd2"});var uW=function(e){var t,n=e.id,i=JSON.parse(localStorage.getItem("token")),a=aV(),o=a.playlists,s=a.currentUser,u=(a.tracks,l((0,r.useState)([]),2)),c=u[0],f=u[1],h=l((0,r.useState)([]),2),p=h[0],v=h[1],m=o.includes(c.id);(0,r.useEffect)((function(){var e=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au.getPlaylist(n,i);case 2:t=e.sent,console.log(t),f(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,r.useEffect)((function(){v(c.images)}),[c]);var y=null===p||void 0===p?void 0:p.find((function(e){return e.url})),g=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=IP(rV,"playlists",s.uid),e.prev=1,e.next=4,bR(t,{playlist:o?[].concat(d(o),[c.id]):[c.id]});case 4:alert("".concat(c.name," added to Favourite!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("".concat(c.name," fail to added to Favourite!"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=IP(rV,"playlists",s.uid),e.prev=1,e.next=4,bR(t,{playlist:o.filter((function(e){return e!==c.id}))},{merge:"true"});case 4:alert("".concat(c.name," removed from Favourite!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("".concat(c.name," fail to removed from Favourite!"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,Jn.jsxs)("div",{className:sW("wrapper"),style:{backgroundColor:"".concat(c.primary_color)},children:[(0,Jn.jsx)("div",{className:sW("wrapper-image"),children:(0,Jn.jsx)("img",{src:null===y||void 0===y?void 0:y.url,className:sW("image")})}),(0,Jn.jsxs)("div",{className:sW("wrapper-infor"),children:[(0,Jn.jsxs)("h3",{className:sW("wrapper-infor--name"),children:["About ",null===c||void 0===c||null===(t=c.tracks)||void 0===t?void 0:t.items.length," songs"]}),(0,Jn.jsx)(kz,{content:"Add to favourite lists",offset:[0,1],placement:"bottom",children:(0,Jn.jsx)("div",{style:{width:"20px"},children:(0,Jn.jsx)(SV,{className:m?sW("wrapper-infor--icon","saved"):sW("wrapper-infor--icon"),onClick:m?w:g})})})]})]})},cW=ht().bind({wrapper:"PlaylistLayout_wrapper__UACiJ",container:"PlaylistLayout_container__T8JC+","wrapper-main":"PlaylistLayout_wrapper-main__eQhtc","wrapper-main--header":"PlaylistLayout_wrapper-main--header__jMbdj",header:"PlaylistLayout_header__HZi4z","wrapper-player":"PlaylistLayout_wrapper-player__iyxpk",appear:"PlaylistLayout_appear__vQXj0","wrapper-main--header-search":"PlaylistLayout_wrapper-main--header-search__T81uY","wrapper-main-body":"PlaylistLayout_wrapper-main-body__MNiWq","wrapper-main-body--left":"PlaylistLayout_wrapper-main-body--left__NnJjr","wrapper-main-body--right":"PlaylistLayout_wrapper-main-body--right__1FYUj","wrapper-main-body--right-header":"PlaylistLayout_wrapper-main-body--right-header__DCAo-",expand:"PlaylistLayout_expand__fGGfx","main-body--right-header":"PlaylistLayout_main-body--right-header__yFU9t","main-body--right-category":"PlaylistLayout_main-body--right-category__8Kw2w","wrapper-music--list":"PlaylistLayout_wrapper-music--list__8x+QL","wrapper-music--list-header":"PlaylistLayout_wrapper-music--list-header__eIzSj","wrapper-music--list-tracks":"PlaylistLayout_wrapper-music--list-tracks__yRixT","main-body--right-playlist":"PlaylistLayout_main-body--right-playlist__eEly1","wrapper-sidebar":"PlaylistLayout_wrapper-sidebar__BI9Ff",hidden:"PlaylistLayout_hidden__jEiTw"});var lW=function(){var e=ct(),t=JSON.parse(localStorage.getItem("token")),n=et((function(e){return e.player})).activePlayer,i=aV().token,a=be().playlistId,o=l((0,r.useState)(),2),s=o[0],u=o[1],c=(0,r.useRef)(),f=(0,r.useRef)(),d=(0,r.useRef)(),h=(0,r.useRef)(),p=(0,r.useRef)(),v=(0,r.useRef)();return(0,r.useEffect)((function(){var r=function(){var e=ir(nr().mark((function e(){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au.getPlaylist(a,t);case 2:n=e.sent,u(n.data.name);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r(),n&&window.innerWidth>=1480&&(h.current.style.display="block",c.current.style.transform="translateX(33%)",d.current.style.transform="translateX(-140%)"),!1===n&&(e(VV(!1)),h.current.style.display="none",c.current.style.transform="translateX(0%)",d.current.style.transform="translateX(0%)"),window.innerWidth<1480&&e(qV(!0))}),[a,t,n]),(0,Jn.jsx)("div",{className:cW("wrapper","grid"),children:(0,Jn.jsxs)("div",{className:cW("container","row no-gutters"),children:[(0,Jn.jsx)(Oz,{}),(0,Jn.jsxs)("div",{ref:c,className:cW("wrapper-main","col l-11 m-11 c-12"),children:[(0,Jn.jsxs)("div",{className:cW("wrapper-main--header"),children:[(0,Jn.jsx)("h3",{className:cW("header"),children:s}),(0,Jn.jsx)(qz,{}),(0,Jn.jsx)("div",{ref:d,className:cW("wrapper-main--header-search"),children:(0,Jn.jsx)(er,{})})]}),(0,Jn.jsxs)("div",{className:cW("wrapper-main-body","grid row no-gutters"),children:[(0,Jn.jsxs)("div",{ref:p,className:cW("wrapper-main-body--left","col l-8 m-8 c-12"),children:[(0,Jn.jsx)("div",{ref:v,className:cW("wrapper-music--list"),children:(0,Jn.jsx)("div",{className:cW("wrapper-music--list-tracks"),children:(0,Jn.jsx)(Mz,{data:a,accessToken:i})})}),(0,Jn.jsx)("div",{ref:h,className:cW("wrapper-player"),children:(0,Jn.jsx)(xz,{})})]}),(0,Jn.jsxs)("div",{ref:f,className:cW("wrapper-main-body--right","col l-4 m-4 c-0"),children:[(0,Jn.jsx)(uW,{id:a}),(0,Jn.jsxs)("div",{className:cW("wrapper-main-body--right-header"),children:[(0,Jn.jsx)("h3",{className:cW("main-body--right-header"),children:"Category"}),(0,Jn.jsx)(Ve,{to:"/categories",className:cW("expand"),children:"See more"})]}),(0,Jn.jsx)("div",{className:cW("main-body--right-category"),children:(0,Jn.jsx)(Az,{accessToken:i})})]})]}),(0,Jn.jsx)(Tz,{}),(0,Jn.jsx)(zz,{})]})]})})},fW=ht().bind({wrapper:"FavouriteListLayout_wrapper__90UbI","wrapper-main":"FavouriteListLayout_wrapper-main__UeEYZ","wrapper-main--header":"FavouriteListLayout_wrapper-main--header__18Er0",header:"FavouriteListLayout_header__WBftW","wrapper-player":"FavouriteListLayout_wrapper-player__pQmZi",appear:"FavouriteListLayout_appear__Rom4K","wrapper-main--header-search":"FavouriteListLayout_wrapper-main--header-search__NgY1D","wrapper-main-body":"FavouriteListLayout_wrapper-main-body__RYobD","wrapper-main-body--left":"FavouriteListLayout_wrapper-main-body--left__6j4rX","wrapper-main-body--right":"FavouriteListLayout_wrapper-main-body--right__sEJGj","main-body--right-header":"FavouriteListLayout_main-body--right-header__MNYKs","main-body--right-category":"FavouriteListLayout_main-body--right-category__0PiFQ","wrapper-music--list":"FavouriteListLayout_wrapper-music--list__wiGoy","wrapper-music--list-header":"FavouriteListLayout_wrapper-music--list-header__0OgLh","wrapper-music--list-tracks":"FavouriteListLayout_wrapper-music--list-tracks__Kqbpm","wrapper-sidebar":"FavouriteListLayout_wrapper-sidebar__bhDkv",hidden:"FavouriteListLayout_hidden__wk3op"});var dW=function(){var e=JSON.parse(localStorage.getItem("token")),t=aV().playlists,n=l((0,r.useState)([]),2),i=n[0],a=n[1];(0,r.useEffect)((function(){var n=function(){var n=ir(nr().mark((function n(){var r,i;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.map(function(){var t=ir(nr().mark((function t(n){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Au.getPlaylist(n,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.prev=1,n.next=4,Promise.all(r);case 4:i=n.sent,console.log(i),a(i.map((function(e){return e.data}))),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();n()}),[t]);var o=(0,r.useRef)();return(0,Jn.jsxs)("div",{className:fW("wrapper","grid row no-gutters"),children:[(0,Jn.jsx)(Oz,{}),(0,Jn.jsxs)("div",{className:fW("wrapper-main","col l-11 m-11 c-12"),children:[(0,Jn.jsxs)("div",{className:fW("wrapper-main--header"),children:[(0,Jn.jsx)("h3",{className:fW("header"),children:"Discover"}),(0,Jn.jsx)(qz,{}),(0,Jn.jsx)("div",{ref:o,className:fW("wrapper-main--header-search"),children:(0,Jn.jsx)(er,{})})]}),(0,Jn.jsx)("div",{className:fW("wrapper-main-body","grid row no-gutters"),children:(0,Jn.jsx)("div",{className:fW("wrapper-main-body--right","col l-12 m-12 c-12"),children:(0,Jn.jsx)("div",{className:fW("main-body--right-category"),children:null===i||void 0===i?void 0:i.map((function(e,t){return(0,Jn.jsx)(Jz,{data:e},t)}))})})})]}),(0,Jn.jsx)(zz,{})]})};var hW=function(){return(0,Jn.jsx)(eW,{})};var pW=function(){return(0,Jn.jsx)(nW,{})};var vW=function(){return(0,Jn.jsx)(oW,{})};var mW=function(){return(0,Jn.jsx)($z,{})};var yW=function(){return(0,Jn.jsx)(lW,{})};var gW=function(){return(0,Jn.jsx)(dW,{})},wW=ht().bind({wrapper:"Album_wrapper__J+HFJ","wrapper-contain":"Album_wrapper-contain__KAgKD","wrapper-image":"Album_wrapper-image__Y2uYj","wrapper-text":"Album_wrapper-text__itMul",text:"Album_text__NwNRn","wrapper-icon":"Album_wrapper-icon__9i5jO","wrapper-list--album":"Album_wrapper-list--album__ySTWH"});var kW=function(e){var t=e.data;console.log(t);var n=l((0,r.useState)(),2),i=n[0],a=n[1];(0,r.useEffect)((function(){a(t.images)}),[t.images]);var o=null===i||void 0===i?void 0:i.find((function(e){return e.height=64}));return(0,Jn.jsx)(Ve,{className:wW("wrapper"),children:(0,Jn.jsxs)("div",{className:wW("wrapper-contain"),children:[(0,Jn.jsx)("img",{className:wW("wrapper-image"),src:null===o||void 0===o?void 0:o.url,alt:t.name}),(0,Jn.jsx)("div",{className:wW("wrapper-text"),children:(0,Jn.jsx)("span",{className:wW("text"),children:t.name})}),(0,Jn.jsx)(NV,{className:wW("wrapper-icon")})]})})},bW=ht().bind({wrapper:"ArtistTopTrack_wrapper__LTGDt",active:"ArtistTopTrack_active__OCZja",saved:"ArtistTopTrack_saved__sFkE2","wrapper-right":"ArtistTopTrack_wrapper-right__Ez6gl","wrapper-track--infor":"ArtistTopTrack_wrapper-track--infor__sPEaC","wrapper-track--index":"ArtistTopTrack_wrapper-track--index__qE+AL","wrapper-track--infor-img":"ArtistTopTrack_wrapper-track--infor-img__dpfZq","wrapper-track-infor--main":"ArtistTopTrack_wrapper-track-infor--main__OiZW1","wrapper-track--name":"ArtistTopTrack_wrapper-track--name__7dNSM","webkit-scroll":"ArtistTopTrack_webkit-scroll__3EbHj","wrapper-track--artist":"ArtistTopTrack_wrapper-track--artist__UC+Ju","wrapper-track-heart":"ArtistTopTrack_wrapper-track-heart__HrRoE","wrapper-music--list-tracks":"ArtistTopTrack_wrapper-music--list-tracks__6Niyy","wrapper-duration":"ArtistTopTrack_wrapper-duration__h2LtP"});var _W=function(e){var t=e.data,n=e.index,i=et((function(e){return e.player})).activeSong,a=aV().tracks,o=t,s=a.includes(o.id),u=aV().currentUser,c=ct(),f=(0,r.useRef)(),d=n+1,h=(0,r.useRef)(),p=l((0,r.useState)(o.album.images),2),v=p[0],m=(p[1],l((0,r.useState)(o.album.artists),2)),y=m[0],g=(m[1],(o.duration_ms%6e4/1e3).toFixed(0)),w=Math.floor(o.duration_ms/6e4)+":"+(g<10?"0":"")+g,k=v.find((function(e){return 64===e.height})),b=y.map((function(e){return e.name})),_=function(){var e=ir(nr().mark((function e(){var t;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=IP(rV,"tracks",u.uid),e.prev=1,e.next=4,bR(t,{track:a.filter((function(e){return e!==o.id}))},{merge:"true"});case 4:alert("".concat(o.name," removed from Favourite!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("".concat(o.name," fail to removed from Favourite!"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,Jn.jsxs)("div",{ref:f,className:i===o.name?bW("wrapper","active"):bW("wrapper"),children:[(0,Jn.jsx)("span",{className:bW("wrapper-track--index"),children:d}),(0,Jn.jsxs)("div",{className:bW("wrapper-right"),children:[(0,Jn.jsxs)("div",{className:bW("wrapper-track--infor"),onClick:function(){c(jV({track:o,index:n})),c(qV(!0)),c(VV(!1)),console.log(n)},children:[(0,Jn.jsx)("img",{src:k.url,className:bW("wrapper-track--infor-img"),alt:o.name}),(0,Jn.jsxs)("div",{className:bW("wrapper-track-infor--main"),children:[(0,Jn.jsx)("span",{className:bW("wrapper-track--name"),ref:h,children:o.name}),(0,Jn.jsx)("span",{className:bW("wrapper-track--artist"),children:b.join(", ")})]})]}),(0,Jn.jsx)("span",{className:bW("wrapper-duration"),children:w}),(0,Jn.jsx)(SV,{className:s?bW("wrapper-track-heart","saved"):bW("wrapper-track-heart"),onClick:_})]})]})},xW=ht().bind({wrapper:"ArtistDetailLayout_wrapper__z5YK9","wrapper-main":"ArtistDetailLayout_wrapper-main__c6tcs","wrapper-main--header":"ArtistDetailLayout_wrapper-main--header__xqD2k",header:"ArtistDetailLayout_header__zpfJh","wrapper-player":"ArtistDetailLayout_wrapper-player__xca3E",appear:"ArtistDetailLayout_appear__zUazq","wrapper-main--header-search":"ArtistDetailLayout_wrapper-main--header-search__jurer","wrapper-main-body":"ArtistDetailLayout_wrapper-main-body__LMkKJ","wrapper-main-body--left":"ArtistDetailLayout_wrapper-main-body--left__+wSr3","wrapper-main-body--right":"ArtistDetailLayout_wrapper-main-body--right__P3AvA","main-body--right-header":"ArtistDetailLayout_main-body--right-header__kNTyv","main-body--right-category":"ArtistDetailLayout_main-body--right-category__COTWX","wrapper-music--list":"ArtistDetailLayout_wrapper-music--list__iaoCI","wrapper-music--list-header":"ArtistDetailLayout_wrapper-music--list-header__NYv16","wrapper-music--list-tracks":"ArtistDetailLayout_wrapper-music--list-tracks__tevik","artist-infor":"ArtistDetailLayout_artist-infor__7kDMU",span:"ArtistDetailLayout_span__Qdbv4","artist-infor--name":"ArtistDetailLayout_artist-infor--name__NMH7V","artist-infor--fame":"ArtistDetailLayout_artist-infor--fame__pkQ+-",divided:"ArtistDetailLayout_divided__9bfbG","list--container":"ArtistDetailLayout_list--container__CwYDR","wrapper-list":"ArtistDetailLayout_wrapper-list__j7Twc","wrapper-list--album-header":"ArtistDetailLayout_wrapper-list--album-header__+F6sI","wrapper-list--album":"ArtistDetailLayout_wrapper-list--album__TP8iA","wrapper-sidebar":"ArtistDetailLayout_wrapper-sidebar__WySF0",hidden:"ArtistDetailLayout_hidden__9a6de"});var SW=function(){var e=be().id,t=JSON.parse(localStorage.getItem("token")),n=l((0,r.useState)(),2),i=n[0],a=n[1],o=l((0,r.useState)(),2),s=o[0],u=o[1],c=l((0,r.useState)(),2),f=c[0],d=c[1],h=l((0,r.useState)(),2),p=h[0],v=h[1];(0,r.useEffect)((function(){var n=function(){var n=ir(nr().mark((function n(){var r;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Au.getArtistDetails(e,t);case 2:r=n.sent,a(r.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r=function(){var n=ir(nr().mark((function n(){var r;return nr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Au.getArtistsTopTracks(e,t);case 2:r=n.sent,d(r.data.tracks);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n(),r()}),[e]),(0,r.useEffect)((function(){if(void 0!==i&&u(i.images),void 0!==i){var e=function(){var e=ir(nr().mark((function e(){var n;return nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au.getAlbums(null===i||void 0===i?void 0:i.id,t);case 2:n=e.sent,console.log(n.data),v(n.data.items);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[i]);var m=null===s||void 0===s?void 0:s.find((function(e){return e.height=640})),y=new Intl.NumberFormat;return(0,Jn.jsxs)("div",{className:xW("wrapper","grid row no-gutters"),children:[(0,Jn.jsx)(Oz,{}),(0,Jn.jsxs)("div",{className:xW("wrapper-main","col l-11 m-11 c-12"),children:[(0,Jn.jsxs)("div",{className:xW("wrapper-main--header"),style:{backgroundImage:"url(".concat(null===m||void 0===m?void 0:m.url,")")},children:[(0,Jn.jsxs)("div",{className:xW("artist-infor"),children:[(0,Jn.jsx)("span",{className:xW("artist-infor--name","span"),children:null===i||void 0===i?void 0:i.name}),(0,Jn.jsxs)("span",{className:xW("artist-infor--fame","span"),children:[y.format(null===i||void 0===i?void 0:i.followers.total)," followers"]})]}),(0,Jn.jsx)(qz,{}),(0,Jn.jsx)("div",{className:xW("wrapper-main--header-search"),children:(0,Jn.jsx)(er,{})})]}),(0,Jn.jsx)("div",{className:xW("wrapper-main-body","grid row no-gutters"),children:(0,Jn.jsx)("div",{className:xW("wrapper-main-body--right","col l-12 m-12 c-12"),children:(0,Jn.jsxs)("div",{className:xW("main-body--right-category"),children:[(0,Jn.jsx)("h3",{className:xW("main-body--right-header"),children:"Popular"}),(0,Jn.jsxs)("div",{className:xW("divided"),children:[(0,Jn.jsx)("div",{className:xW("wrapper-list"),children:(0,Jn.jsx)("div",{className:xW("list--container"),children:null===f||void 0===f?void 0:f.map((function(e,t){return(0,Jn.jsx)(_W,{data:e,index:t},t)}))})}),(0,Jn.jsx)("h3",{className:xW("wrapper-list--album-header"),children:"Albums"}),(0,Jn.jsx)("div",{className:xW("wrapper-list--album"),children:null===p||void 0===p?void 0:p.map((function(e,t){return(0,Jn.jsx)(kW,{data:e},t)}))})]})]})})})]}),(0,Jn.jsx)(zz,{})]})};var EW=function(){return(0,Jn.jsx)(SW,{})},TW=[{path:Yz.routes.home,component:mW},{path:Yz.routes.categories,component:pW,layout:nW},{path:Yz.routes.category,component:hW,layout:eW},{path:Yz.routes.playlist,component:yW,layout:lW},{path:Yz.routes.favourites,component:vW,layout:oW},{path:Yz.routes.favouritesPlaylist,component:gW,layout:dW},{path:Yz.routes.artistDetail,component:EW,layout:SW}];var IW=function(){return(0,Jn.jsx)(Ue,{children:(0,Jn.jsx)("div",{className:"App",style:{height:"100vh",backgroundColor:"#3B3C60"},children:(0,Jn.jsx)(Re,{children:TW.map((function(e,t){var n=$z;e.layout?n=e.layout:null===e.layout&&(n=r.Fragment);var i=e.component;return(0,Jn.jsx)(Pe,{path:e.path,element:(0,Jn.jsx)(n,{children:(0,Jn.jsx)(i,{})})},t)}))})})})};var CW=function(e){return e.children},NW=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},AW=function(e){var t,n=yo(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof a)t=a;else{if(!po(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ka(a)}var p=s;"function"===typeof p&&(p=p(n));var v=$a.apply(void 0,p),m=Qa;c&&(m=ho(co({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(h)?y=to([v],h):"function"===typeof h&&(y=h(y)),Ga(t,f,m.apply(void 0,y))}({reducer:{player:HV,menuMobile:Uz},middleware:function(e){return e({serializableCheck:!1})}});a.createRoot(document.getElementById("root")).render((0,Jn.jsx)(it,{store:AW,children:(0,Jn.jsx)(oV,{children:(0,Jn.jsx)(CW,{children:(0,Jn.jsx)(IW,{})})})})),NW()}()}();
//# sourceMappingURL=main.9804597d.js.map